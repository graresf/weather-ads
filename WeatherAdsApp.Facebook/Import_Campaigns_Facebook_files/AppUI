(function(){for(var n,u=function(){},t=["assert","clear","count","debug","dir","dirxml","error","exception","group","groupCollapsed","groupEnd","info","log","markTimeline","profile","profileEnd","table","time","timeEnd","timeStamp","trace","warn"],i=t.length,r=window.console=window.console||{};i--;)n=t[i],r[n]||(r[n]=u)})(),function(n){"function"==typeof define&&define.amd?define(["jquery"],n):n(jQuery)}(function(n){function r(t,i){var r,f,e,o=t.nodeName.toLowerCase();return"area"===o?(r=t.parentNode,f=r.name,t.href&&f&&"map"===r.nodeName.toLowerCase()?(e=n("img[usemap='#"+f+"']")[0],!!e&&u(e)):!1):(/^(input|select|textarea|button|object)$/.test(o)?!t.disabled:"a"===o?t.href||i:i)&&u(t)}function u(t){return n.expr.filters.visible(t)&&!n(t).parents().addBack().filter(function(){return"hidden"===n.css(this,"visibility")}).length}var f,i,t;n.ui=n.ui||{};n.extend(n.ui,{version:"1.11.4",keyCode:{BACKSPACE:8,COMMA:188,DELETE:46,DOWN:40,END:35,ENTER:13,ESCAPE:27,HOME:36,LEFT:37,PAGE_DOWN:34,PAGE_UP:33,PERIOD:190,RIGHT:39,SPACE:32,TAB:9,UP:38}});n.fn.extend({scrollParent:function(t){var i=this.css("position"),u="absolute"===i,f=t?/(auto|scroll|hidden)/:/(auto|scroll)/,r=this.parents().filter(function(){var t=n(this);return u&&"static"===t.css("position")?!1:f.test(t.css("overflow")+t.css("overflow-y")+t.css("overflow-x"))}).eq(0);return"fixed"!==i&&r.length?r:n(this[0].ownerDocument||document)},uniqueId:function(){var n=0;return function(){return this.each(function(){this.id||(this.id="ui-id-"+ ++n)})}}(),removeUniqueId:function(){return this.each(function(){/^ui-id-\d+$/.test(this.id)&&n(this).removeAttr("id")})}});n.extend(n.expr[":"],{data:n.expr.createPseudo?n.expr.createPseudo(function(t){return function(i){return!!n.data(i,t)}}):function(t,i,r){return!!n.data(t,r[3])},focusable:function(t){return r(t,!isNaN(n.attr(t,"tabindex")))},tabbable:function(t){var i=n.attr(t,"tabindex"),u=isNaN(i);return(u||i>=0)&&r(t,!u)}});n("<a>").outerWidth(1).jquery||n.each(["Width","Height"],function(t,i){function r(t,i,r,u){return n.each(e,function(){i-=parseFloat(n.css(t,"padding"+this))||0;r&&(i-=parseFloat(n.css(t,"border"+this+"Width"))||0);u&&(i-=parseFloat(n.css(t,"margin"+this))||0)}),i}var e="Width"===i?["Left","Right"]:["Top","Bottom"],u=i.toLowerCase(),f={innerWidth:n.fn.innerWidth,innerHeight:n.fn.innerHeight,outerWidth:n.fn.outerWidth,outerHeight:n.fn.outerHeight};n.fn["inner"+i]=function(t){return void 0===t?f["inner"+i].call(this):this.each(function(){n(this).css(u,r(this,t)+"px")})};n.fn["outer"+i]=function(t,e){return"number"!=typeof t?f["outer"+i].call(this,t):this.each(function(){n(this).css(u,r(this,t,!0,e)+"px")})}});n.fn.addBack||(n.fn.addBack=function(n){return this.add(null==n?this.prevObject:this.prevObject.filter(n))});n("<a>").data("a-b","a").removeData("a-b").data("a-b")&&(n.fn.removeData=function(t){return function(i){return arguments.length?t.call(this,n.camelCase(i)):t.call(this)}}(n.fn.removeData));n.ui.ie=!!/msie [\w.]+/.exec(navigator.userAgent.toLowerCase());n.fn.extend({focus:function(t){return function(i,r){return"number"==typeof i?this.each(function(){var t=this;setTimeout(function(){n(t).focus();r&&r.call(t)},i)}):t.apply(this,arguments)}}(n.fn.focus),disableSelection:function(){var n="onselectstart"in document.createElement("div")?"selectstart":"mousedown";return function(){return this.bind(n+".ui-disableSelection",function(n){n.preventDefault()})}}(),enableSelection:function(){return this.unbind(".ui-disableSelection")},zIndex:function(t){if(void 0!==t)return this.css("zIndex",t);if(this.length)for(var r,u,i=n(this[0]);i.length&&i[0]!==document;){if(r=i.css("position"),("absolute"===r||"relative"===r||"fixed"===r)&&(u=parseInt(i.css("zIndex"),10),!isNaN(u)&&0!==u))return u;i=i.parent()}return 0}});n.ui.plugin={add:function(t,i,r){var u,f=n.ui[t].prototype;for(u in r)f.plugins[u]=f.plugins[u]||[],f.plugins[u].push([i,r[u]])},call:function(n,t,i,r){var u,f=n.plugins[t];if(f&&(r||n.element[0].parentNode&&11!==n.element[0].parentNode.nodeType))for(u=0;f.length>u;u++)n.options[f[u][0]]&&f[u][1].apply(n.element,i)}};f=0;i=Array.prototype.slice;n.cleanData=function(t){return function(i){for(var r,u,f=0;null!=(u=i[f]);f++)try{r=n._data(u,"events");r&&r.remove&&n(u).triggerHandler("remove")}catch(e){}t(i)}}(n.cleanData);n.widget=function(t,i,r){var s,f,u,o,h={},e=t.split(".")[0];return t=t.split(".")[1],s=e+"-"+t,r||(r=i,i=n.Widget),n.expr[":"][s.toLowerCase()]=function(t){return!!n.data(t,s)},n[e]=n[e]||{},f=n[e][t],u=n[e][t]=function(n,t){return this._createWidget?(arguments.length&&this._createWidget(n,t),void 0):new u(n,t)},n.extend(u,f,{version:r.version,_proto:n.extend({},r),_childConstructors:[]}),o=new i,o.options=n.widget.extend({},o.options),n.each(r,function(t,r){return n.isFunction(r)?(h[t]=function(){var n=function(){return i.prototype[t].apply(this,arguments)},u=function(n){return i.prototype[t].apply(this,n)};return function(){var t,i=this._super,f=this._superApply;return this._super=n,this._superApply=u,t=r.apply(this,arguments),this._super=i,this._superApply=f,t}}(),void 0):(h[t]=r,void 0)}),u.prototype=n.widget.extend(o,{widgetEventPrefix:f?o.widgetEventPrefix||t:t},h,{constructor:u,namespace:e,widgetName:t,widgetFullName:s}),f?(n.each(f._childConstructors,function(t,i){var r=i.prototype;n.widget(r.namespace+"."+r.widgetName,u,i._proto)}),delete f._childConstructors):i._childConstructors.push(u),n.widget.bridge(t,u),u};n.widget.extend=function(t){for(var r,u,e=i.call(arguments,1),f=0,o=e.length;o>f;f++)for(r in e[f])u=e[f][r],e[f].hasOwnProperty(r)&&void 0!==u&&(t[r]=n.isPlainObject(u)?n.isPlainObject(t[r])?n.widget.extend({},t[r],u):n.widget.extend({},u):u);return t};n.widget.bridge=function(t,r){var u=r.prototype.widgetFullName||t;n.fn[t]=function(f){var s="string"==typeof f,o=i.call(arguments,1),e=this;return s?this.each(function(){var i,r=n.data(this,u);return"instance"===f?(e=r,!1):r?n.isFunction(r[f])&&"_"!==f.charAt(0)?(i=r[f].apply(r,o),i!==r&&void 0!==i?(e=i&&i.jquery?e.pushStack(i.get()):i,!1):void 0):n.error("no such method '"+f+"' for "+t+" widget instance"):n.error("cannot call methods on "+t+" prior to initialization; attempted to call method '"+f+"'")}):(o.length&&(f=n.widget.extend.apply(null,[f].concat(o))),this.each(function(){var t=n.data(this,u);t?(t.option(f||{}),t._init&&t._init()):n.data(this,u,new r(f,this))})),e}};n.Widget=function(){};n.Widget._childConstructors=[];n.Widget.prototype={widgetName:"widget",widgetEventPrefix:"",defaultElement:"<div>",options:{disabled:!1,create:null},_createWidget:function(t,i){i=n(i||this.defaultElement||this)[0];this.element=n(i);this.uuid=f++;this.eventNamespace="."+this.widgetName+this.uuid;this.bindings=n();this.hoverable=n();this.focusable=n();i!==this&&(n.data(i,this.widgetFullName,this),this._on(!0,this.element,{remove:function(n){n.target===i&&this.destroy()}}),this.document=n(i.style?i.ownerDocument:i.document||i),this.window=n(this.document[0].defaultView||this.document[0].parentWindow));this.options=n.widget.extend({},this.options,this._getCreateOptions(),t);this._create();this._trigger("create",null,this._getCreateEventData());this._init()},_getCreateOptions:n.noop,_getCreateEventData:n.noop,_create:n.noop,_init:n.noop,destroy:function(){this._destroy();this.element.unbind(this.eventNamespace).removeData(this.widgetFullName).removeData(n.camelCase(this.widgetFullName));this.widget().unbind(this.eventNamespace).removeAttr("aria-disabled").removeClass(this.widgetFullName+"-disabled ui-state-disabled");this.bindings.unbind(this.eventNamespace);this.hoverable.removeClass("ui-state-hover");this.focusable.removeClass("ui-state-focus")},_destroy:n.noop,widget:function(){return this.element},option:function(t,i){var r,u,f,e=t;if(0===arguments.length)return n.widget.extend({},this.options);if("string"==typeof t)if(e={},r=t.split("."),t=r.shift(),r.length){for(u=e[t]=n.widget.extend({},this.options[t]),f=0;r.length-1>f;f++)u[r[f]]=u[r[f]]||{},u=u[r[f]];if(t=r.pop(),1===arguments.length)return void 0===u[t]?null:u[t];u[t]=i}else{if(1===arguments.length)return void 0===this.options[t]?null:this.options[t];e[t]=i}return this._setOptions(e),this},_setOptions:function(n){var t;for(t in n)this._setOption(t,n[t]);return this},_setOption:function(n,t){return this.options[n]=t,"disabled"===n&&(this.widget().toggleClass(this.widgetFullName+"-disabled",!!t),t&&(this.hoverable.removeClass("ui-state-hover"),this.focusable.removeClass("ui-state-focus"))),this},enable:function(){return this._setOptions({disabled:!1})},disable:function(){return this._setOptions({disabled:!0})},_on:function(t,i,r){var f,u=this;"boolean"!=typeof t&&(r=i,i=t,t=!1);r?(i=f=n(i),this.bindings=this.bindings.add(i)):(r=i,i=this.element,f=this.widget());n.each(r,function(r,e){function o(){if(t||u.options.disabled!==!0&&!n(this).hasClass("ui-state-disabled"))return("string"==typeof e?u[e]:e).apply(u,arguments)}"string"!=typeof e&&(o.guid=e.guid=e.guid||o.guid||n.guid++);var s=r.match(/^([\w:-]*)\s*(.*)$/),h=s[1]+u.eventNamespace,c=s[2];c?f.delegate(c,h,o):i.bind(h,o)})},_off:function(t,i){i=(i||"").split(" ").join(this.eventNamespace+" ")+this.eventNamespace;t.unbind(i).undelegate(i);this.bindings=n(this.bindings.not(t).get());this.focusable=n(this.focusable.not(t).get());this.hoverable=n(this.hoverable.not(t).get())},_delay:function(n,t){function r(){return("string"==typeof n?i[n]:n).apply(i,arguments)}var i=this;return setTimeout(r,t||0)},_hoverable:function(t){this.hoverable=this.hoverable.add(t);this._on(t,{mouseenter:function(t){n(t.currentTarget).addClass("ui-state-hover")},mouseleave:function(t){n(t.currentTarget).removeClass("ui-state-hover")}})},_focusable:function(t){this.focusable=this.focusable.add(t);this._on(t,{focusin:function(t){n(t.currentTarget).addClass("ui-state-focus")},focusout:function(t){n(t.currentTarget).removeClass("ui-state-focus")}})},_trigger:function(t,i,r){var u,f,e=this.options[t];if(r=r||{},i=n.Event(i),i.type=(t===this.widgetEventPrefix?t:this.widgetEventPrefix+t).toLowerCase(),i.target=this.element[0],f=i.originalEvent)for(u in f)u in i||(i[u]=f[u]);return this.element.trigger(i,r),!(n.isFunction(e)&&e.apply(this.element[0],[i].concat(r))===!1||i.isDefaultPrevented())}};n.each({show:"fadeIn",hide:"fadeOut"},function(t,i){n.Widget.prototype["_"+t]=function(r,u,f){"string"==typeof u&&(u={effect:u});var o,e=u?u===!0||"number"==typeof u?i:u.effect||i:t;u=u||{};"number"==typeof u&&(u={duration:u});o=!n.isEmptyObject(u);u.complete=f;u.delay&&r.delay(u.delay);o&&n.effects&&n.effects.effect[e]?r[t](u):e!==t&&r[e]?r[e](u.duration,u.easing,f):r.queue(function(i){n(this)[t]();f&&f.call(r[0]);i()})}});n.widget;t=!1;n(document).mouseup(function(){t=!1});n.widget("ui.mouse",{version:"1.11.4",options:{cancel:"input,textarea,button,select,option",distance:1,delay:0},_mouseInit:function(){var t=this;this.element.bind("mousedown."+this.widgetName,function(n){return t._mouseDown(n)}).bind("click."+this.widgetName,function(i){if(!0===n.data(i.target,t.widgetName+".preventClickEvent"))return(n.removeData(i.target,t.widgetName+".preventClickEvent"),i.stopImmediatePropagation(),!1)});this.started=!1},_mouseDestroy:function(){this.element.unbind("."+this.widgetName);this._mouseMoveDelegate&&this.document.unbind("mousemove."+this.widgetName,this._mouseMoveDelegate).unbind("mouseup."+this.widgetName,this._mouseUpDelegate)},_mouseDown:function(i){if(!t){this._mouseMoved=!1;this._mouseStarted&&this._mouseUp(i);this._mouseDownEvent=i;var r=this,u=1===i.which,f="string"==typeof this.options.cancel&&i.target.nodeName?n(i.target).closest(this.options.cancel).length:!1;return u&&!f&&this._mouseCapture(i)?(this.mouseDelayMet=!this.options.delay,this.mouseDelayMet||(this._mouseDelayTimer=setTimeout(function(){r.mouseDelayMet=!0},this.options.delay)),this._mouseDistanceMet(i)&&this._mouseDelayMet(i)&&(this._mouseStarted=this._mouseStart(i)!==!1,!this._mouseStarted)?(i.preventDefault(),!0):(!0===n.data(i.target,this.widgetName+".preventClickEvent")&&n.removeData(i.target,this.widgetName+".preventClickEvent"),this._mouseMoveDelegate=function(n){return r._mouseMove(n)},this._mouseUpDelegate=function(n){return r._mouseUp(n)},this.document.bind("mousemove."+this.widgetName,this._mouseMoveDelegate).bind("mouseup."+this.widgetName,this._mouseUpDelegate),i.preventDefault(),t=!0,!0)):!0}},_mouseMove:function(t){return this._mouseMoved&&(n.ui.ie&&(!document.documentMode||9>document.documentMode)&&!t.button||!t.which)?this._mouseUp(t):((t.which||t.button)&&(this._mouseMoved=!0),this._mouseStarted?(this._mouseDrag(t),t.preventDefault()):(this._mouseDistanceMet(t)&&this._mouseDelayMet(t)&&(this._mouseStarted=this._mouseStart(this._mouseDownEvent,t)!==!1,this._mouseStarted?this._mouseDrag(t):this._mouseUp(t)),!this._mouseStarted))},_mouseUp:function(i){return this.document.unbind("mousemove."+this.widgetName,this._mouseMoveDelegate).unbind("mouseup."+this.widgetName,this._mouseUpDelegate),this._mouseStarted&&(this._mouseStarted=!1,i.target===this._mouseDownEvent.target&&n.data(i.target,this.widgetName+".preventClickEvent",!0),this._mouseStop(i)),t=!1,!1},_mouseDistanceMet:function(n){return Math.max(Math.abs(this._mouseDownEvent.pageX-n.pageX),Math.abs(this._mouseDownEvent.pageY-n.pageY))>=this.options.distance},_mouseDelayMet:function(){return this.mouseDelayMet},_mouseStart:function(){},_mouseDrag:function(){},_mouseStop:function(){},_mouseCapture:function(){return!0}});n.widget("ui.draggable",n.ui.mouse,{version:"1.11.4",widgetEventPrefix:"drag",options:{addClasses:!0,appendTo:"parent",axis:!1,connectToSortable:!1,containment:!1,cursor:"auto",cursorAt:!1,grid:!1,handle:!1,helper:"original",iframeFix:!1,opacity:!1,refreshPositions:!1,revert:!1,revertDuration:500,scope:"default",scroll:!0,scrollSensitivity:20,scrollSpeed:20,snap:!1,snapMode:"both",snapTolerance:20,stack:!1,zIndex:!1,drag:null,start:null,stop:null},_create:function(){"original"===this.options.helper&&this._setPositionRelative();this.options.addClasses&&this.element.addClass("ui-draggable");this.options.disabled&&this.element.addClass("ui-draggable-disabled");this._setHandleClassName();this._mouseInit()},_setOption:function(n,t){this._super(n,t);"handle"===n&&(this._removeHandleClassName(),this._setHandleClassName())},_destroy:function(){return(this.helper||this.element).is(".ui-draggable-dragging")?(this.destroyOnClear=!0,void 0):(this.element.removeClass("ui-draggable ui-draggable-dragging ui-draggable-disabled"),this._removeHandleClassName(),this._mouseDestroy(),void 0)},_mouseCapture:function(t){var i=this.options;return this._blurActiveElement(t),this.helper||i.disabled||n(t.target).closest(".ui-resizable-handle").length>0?!1:(this.handle=this._getHandle(t),this.handle?(this._blockFrames(i.iframeFix===!0?"iframe":i.iframeFix),!0):!1)},_blockFrames:function(t){this.iframeBlocks=this.document.find(t).map(function(){var t=n(this);return n("<div>").css("position","absolute").appendTo(t.parent()).outerWidth(t.outerWidth()).outerHeight(t.outerHeight()).offset(t.offset())[0]})},_unblockFrames:function(){this.iframeBlocks&&(this.iframeBlocks.remove(),delete this.iframeBlocks)},_blurActiveElement:function(t){var i=this.document[0];if(this.handleElement.is(t.target))try{i.activeElement&&"body"!==i.activeElement.nodeName.toLowerCase()&&n(i.activeElement).blur()}catch(r){}},_mouseStart:function(t){var i=this.options;return this.helper=this._createHelper(t),this.helper.addClass("ui-draggable-dragging"),this._cacheHelperProportions(),n.ui.ddmanager&&(n.ui.ddmanager.current=this),this._cacheMargins(),this.cssPosition=this.helper.css("position"),this.scrollParent=this.helper.scrollParent(!0),this.offsetParent=this.helper.offsetParent(),this.hasFixedAncestor=this.helper.parents().filter(function(){return"fixed"===n(this).css("position")}).length>0,this.positionAbs=this.element.offset(),this._refreshOffsets(t),this.originalPosition=this.position=this._generatePosition(t,!1),this.originalPageX=t.pageX,this.originalPageY=t.pageY,i.cursorAt&&this._adjustOffsetFromHelper(i.cursorAt),this._setContainment(),this._trigger("start",t)===!1?(this._clear(),!1):(this._cacheHelperProportions(),n.ui.ddmanager&&!i.dropBehaviour&&n.ui.ddmanager.prepareOffsets(this,t),this._normalizeRightBottom(),this._mouseDrag(t,!0),n.ui.ddmanager&&n.ui.ddmanager.dragStart(this,t),!0)},_refreshOffsets:function(n){this.offset={top:this.positionAbs.top-this.margins.top,left:this.positionAbs.left-this.margins.left,scroll:!1,parent:this._getParentOffset(),relative:this._getRelativeOffset()};this.offset.click={left:n.pageX-this.offset.left,top:n.pageY-this.offset.top}},_mouseDrag:function(t,i){if(this.hasFixedAncestor&&(this.offset.parent=this._getParentOffset()),this.position=this._generatePosition(t,!0),this.positionAbs=this._convertPositionTo("absolute"),!i){var r=this._uiHash();if(this._trigger("drag",t,r)===!1)return this._mouseUp({}),!1;this.position=r.position}return this.helper[0].style.left=this.position.left+"px",this.helper[0].style.top=this.position.top+"px",n.ui.ddmanager&&n.ui.ddmanager.drag(this,t),!1},_mouseStop:function(t){var r=this,i=!1;return n.ui.ddmanager&&!this.options.dropBehaviour&&(i=n.ui.ddmanager.drop(this,t)),this.dropped&&(i=this.dropped,this.dropped=!1),"invalid"===this.options.revert&&!i||"valid"===this.options.revert&&i||this.options.revert===!0||n.isFunction(this.options.revert)&&this.options.revert.call(this.element,i)?n(this.helper).animate(this.originalPosition,parseInt(this.options.revertDuration,10),function(){r._trigger("stop",t)!==!1&&r._clear()}):this._trigger("stop",t)!==!1&&this._clear(),!1},_mouseUp:function(t){return this._unblockFrames(),n.ui.ddmanager&&n.ui.ddmanager.dragStop(this,t),this.handleElement.is(t.target)&&this.element.focus(),n.ui.mouse.prototype._mouseUp.call(this,t)},cancel:function(){return this.helper.is(".ui-draggable-dragging")?this._mouseUp({}):this._clear(),this},_getHandle:function(t){return this.options.handle?!!n(t.target).closest(this.element.find(this.options.handle)).length:!0},_setHandleClassName:function(){this.handleElement=this.options.handle?this.element.find(this.options.handle):this.element;this.handleElement.addClass("ui-draggable-handle")},_removeHandleClassName:function(){this.handleElement.removeClass("ui-draggable-handle")},_createHelper:function(t){var r=this.options,u=n.isFunction(r.helper),i=u?n(r.helper.apply(this.element[0],[t])):"clone"===r.helper?this.element.clone().removeAttr("id"):this.element;return i.parents("body").length||i.appendTo("parent"===r.appendTo?this.element[0].parentNode:r.appendTo),u&&i[0]===this.element[0]&&this._setPositionRelative(),i[0]===this.element[0]||/(fixed|absolute)/.test(i.css("position"))||i.css("position","absolute"),i},_setPositionRelative:function(){/^(?:r|a|f)/.test(this.element.css("position"))||(this.element[0].style.position="relative")},_adjustOffsetFromHelper:function(t){"string"==typeof t&&(t=t.split(" "));n.isArray(t)&&(t={left:+t[0],top:+t[1]||0});"left"in t&&(this.offset.click.left=t.left+this.margins.left);"right"in t&&(this.offset.click.left=this.helperProportions.width-t.right+this.margins.left);"top"in t&&(this.offset.click.top=t.top+this.margins.top);"bottom"in t&&(this.offset.click.top=this.helperProportions.height-t.bottom+this.margins.top)},_isRootNode:function(n){return/(html|body)/i.test(n.tagName)||n===this.document[0]},_getParentOffset:function(){var t=this.offsetParent.offset(),i=this.document[0];return"absolute"===this.cssPosition&&this.scrollParent[0]!==i&&n.contains(this.scrollParent[0],this.offsetParent[0])&&(t.left+=this.scrollParent.scrollLeft(),t.top+=this.scrollParent.scrollTop()),this._isRootNode(this.offsetParent[0])&&(t={top:0,left:0}),{top:t.top+(parseInt(this.offsetParent.css("borderTopWidth"),10)||0),left:t.left+(parseInt(this.offsetParent.css("borderLeftWidth"),10)||0)}},_getRelativeOffset:function(){if("relative"!==this.cssPosition)return{top:0,left:0};var n=this.element.position(),t=this._isRootNode(this.scrollParent[0]);return{top:n.top-(parseInt(this.helper.css("top"),10)||0)+(t?0:this.scrollParent.scrollTop()),left:n.left-(parseInt(this.helper.css("left"),10)||0)+(t?0:this.scrollParent.scrollLeft())}},_cacheMargins:function(){this.margins={left:parseInt(this.element.css("marginLeft"),10)||0,top:parseInt(this.element.css("marginTop"),10)||0,right:parseInt(this.element.css("marginRight"),10)||0,bottom:parseInt(this.element.css("marginBottom"),10)||0}},_cacheHelperProportions:function(){this.helperProportions={width:this.helper.outerWidth(),height:this.helper.outerHeight()}},_setContainment:function(){var f,t,i,r=this.options,u=this.document[0];return this.relativeContainer=null,r.containment?"window"===r.containment?(this.containment=[n(window).scrollLeft()-this.offset.relative.left-this.offset.parent.left,n(window).scrollTop()-this.offset.relative.top-this.offset.parent.top,n(window).scrollLeft()+n(window).width()-this.helperProportions.width-this.margins.left,n(window).scrollTop()+(n(window).height()||u.body.parentNode.scrollHeight)-this.helperProportions.height-this.margins.top],void 0):"document"===r.containment?(this.containment=[0,0,n(u).width()-this.helperProportions.width-this.margins.left,(n(u).height()||u.body.parentNode.scrollHeight)-this.helperProportions.height-this.margins.top],void 0):r.containment.constructor===Array?(this.containment=r.containment,void 0):("parent"===r.containment&&(r.containment=this.helper[0].parentNode),t=n(r.containment),i=t[0],i&&(f=/(scroll|auto)/.test(t.css("overflow")),this.containment=[(parseInt(t.css("borderLeftWidth"),10)||0)+(parseInt(t.css("paddingLeft"),10)||0),(parseInt(t.css("borderTopWidth"),10)||0)+(parseInt(t.css("paddingTop"),10)||0),(f?Math.max(i.scrollWidth,i.offsetWidth):i.offsetWidth)-(parseInt(t.css("borderRightWidth"),10)||0)-(parseInt(t.css("paddingRight"),10)||0)-this.helperProportions.width-this.margins.left-this.margins.right,(f?Math.max(i.scrollHeight,i.offsetHeight):i.offsetHeight)-(parseInt(t.css("borderBottomWidth"),10)||0)-(parseInt(t.css("paddingBottom"),10)||0)-this.helperProportions.height-this.margins.top-this.margins.bottom],this.relativeContainer=t),void 0):(this.containment=null,void 0)},_convertPositionTo:function(n,t){t||(t=this.position);var i="absolute"===n?1:-1,r=this._isRootNode(this.scrollParent[0]);return{top:t.top+this.offset.relative.top*i+this.offset.parent.top*i-("fixed"===this.cssPosition?-this.offset.scroll.top:r?0:this.offset.scroll.top)*i,left:t.left+this.offset.relative.left*i+this.offset.parent.left*i-("fixed"===this.cssPosition?-this.offset.scroll.left:r?0:this.offset.scroll.left)*i}},_generatePosition:function(n,t){var i,s,u,f,r=this.options,h=this._isRootNode(this.scrollParent[0]),e=n.pageX,o=n.pageY;return h&&this.offset.scroll||(this.offset.scroll={top:this.scrollParent.scrollTop(),left:this.scrollParent.scrollLeft()}),t&&(this.containment&&(this.relativeContainer?(s=this.relativeContainer.offset(),i=[this.containment[0]+s.left,this.containment[1]+s.top,this.containment[2]+s.left,this.containment[3]+s.top]):i=this.containment,n.pageX-this.offset.click.left<i[0]&&(e=i[0]+this.offset.click.left),n.pageY-this.offset.click.top<i[1]&&(o=i[1]+this.offset.click.top),n.pageX-this.offset.click.left>i[2]&&(e=i[2]+this.offset.click.left),n.pageY-this.offset.click.top>i[3]&&(o=i[3]+this.offset.click.top)),r.grid&&(u=r.grid[1]?this.originalPageY+Math.round((o-this.originalPageY)/r.grid[1])*r.grid[1]:this.originalPageY,o=i?u-this.offset.click.top>=i[1]||u-this.offset.click.top>i[3]?u:u-this.offset.click.top>=i[1]?u-r.grid[1]:u+r.grid[1]:u,f=r.grid[0]?this.originalPageX+Math.round((e-this.originalPageX)/r.grid[0])*r.grid[0]:this.originalPageX,e=i?f-this.offset.click.left>=i[0]||f-this.offset.click.left>i[2]?f:f-this.offset.click.left>=i[0]?f-r.grid[0]:f+r.grid[0]:f),"y"===r.axis&&(e=this.originalPageX),"x"===r.axis&&(o=this.originalPageY)),{top:o-this.offset.click.top-this.offset.relative.top-this.offset.parent.top+("fixed"===this.cssPosition?-this.offset.scroll.top:h?0:this.offset.scroll.top),left:e-this.offset.click.left-this.offset.relative.left-this.offset.parent.left+("fixed"===this.cssPosition?-this.offset.scroll.left:h?0:this.offset.scroll.left)}},_clear:function(){this.helper.removeClass("ui-draggable-dragging");this.helper[0]===this.element[0]||this.cancelHelperRemoval||this.helper.remove();this.helper=null;this.cancelHelperRemoval=!1;this.destroyOnClear&&this.destroy()},_normalizeRightBottom:function(){"y"!==this.options.axis&&"auto"!==this.helper.css("right")&&(this.helper.width(this.helper.width()),this.helper.css("right","auto"));"x"!==this.options.axis&&"auto"!==this.helper.css("bottom")&&(this.helper.height(this.helper.height()),this.helper.css("bottom","auto"))},_trigger:function(t,i,r){return r=r||this._uiHash(),n.ui.plugin.call(this,t,[i,r,this],!0),/^(drag|start|stop)/.test(t)&&(this.positionAbs=this._convertPositionTo("absolute"),r.offset=this.positionAbs),n.Widget.prototype._trigger.call(this,t,i,r)},plugins:{},_uiHash:function(){return{helper:this.helper,position:this.position,originalPosition:this.originalPosition,offset:this.positionAbs}}});n.ui.plugin.add("draggable","connectToSortable",{start:function(t,i,r){var u=n.extend({},i,{item:r.element});r.sortables=[];n(r.options.connectToSortable).each(function(){var i=n(this).sortable("instance");i&&!i.options.disabled&&(r.sortables.push(i),i.refreshPositions(),i._trigger("activate",t,u))})},stop:function(t,i,r){var u=n.extend({},i,{item:r.element});r.cancelHelperRemoval=!1;n.each(r.sortables,function(){var n=this;n.isOver?(n.isOver=0,r.cancelHelperRemoval=!0,n.cancelHelperRemoval=!1,n._storedCSS={position:n.placeholder.css("position"),top:n.placeholder.css("top"),left:n.placeholder.css("left")},n._mouseStop(t),n.options.helper=n.options._helper):(n.cancelHelperRemoval=!0,n._trigger("deactivate",t,u))})},drag:function(t,i,r){n.each(r.sortables,function(){var f=!1,u=this;u.positionAbs=r.positionAbs;u.helperProportions=r.helperProportions;u.offset.click=r.offset.click;u._intersectsWith(u.containerCache)&&(f=!0,n.each(r.sortables,function(){return this.positionAbs=r.positionAbs,this.helperProportions=r.helperProportions,this.offset.click=r.offset.click,this!==u&&this._intersectsWith(this.containerCache)&&n.contains(u.element[0],this.element[0])&&(f=!1),f}));f?(u.isOver||(u.isOver=1,r._parent=i.helper.parent(),u.currentItem=i.helper.appendTo(u.element).data("ui-sortable-item",!0),u.options._helper=u.options.helper,u.options.helper=function(){return i.helper[0]},t.target=u.currentItem[0],u._mouseCapture(t,!0),u._mouseStart(t,!0,!0),u.offset.click.top=r.offset.click.top,u.offset.click.left=r.offset.click.left,u.offset.parent.left-=r.offset.parent.left-u.offset.parent.left,u.offset.parent.top-=r.offset.parent.top-u.offset.parent.top,r._trigger("toSortable",t),r.dropped=u.element,n.each(r.sortables,function(){this.refreshPositions()}),r.currentItem=r.element,u.fromOutside=r),u.currentItem&&(u._mouseDrag(t),i.position=u.position)):u.isOver&&(u.isOver=0,u.cancelHelperRemoval=!0,u.options._revert=u.options.revert,u.options.revert=!1,u._trigger("out",t,u._uiHash(u)),u._mouseStop(t,!0),u.options.revert=u.options._revert,u.options.helper=u.options._helper,u.placeholder&&u.placeholder.remove(),i.helper.appendTo(r._parent),r._refreshOffsets(t),i.position=r._generatePosition(t,!0),r._trigger("fromSortable",t),r.dropped=!1,n.each(r.sortables,function(){this.refreshPositions()}))})}});n.ui.plugin.add("draggable","cursor",{start:function(t,i,r){var u=n("body"),f=r.options;u.css("cursor")&&(f._cursor=u.css("cursor"));u.css("cursor",f.cursor)},stop:function(t,i,r){var u=r.options;u._cursor&&n("body").css("cursor",u._cursor)}});n.ui.plugin.add("draggable","opacity",{start:function(t,i,r){var u=n(i.helper),f=r.options;u.css("opacity")&&(f._opacity=u.css("opacity"));u.css("opacity",f.opacity)},stop:function(t,i,r){var u=r.options;u._opacity&&n(i.helper).css("opacity",u._opacity)}});n.ui.plugin.add("draggable","scroll",{start:function(n,t,i){i.scrollParentNotHidden||(i.scrollParentNotHidden=i.helper.scrollParent(!1));i.scrollParentNotHidden[0]!==i.document[0]&&"HTML"!==i.scrollParentNotHidden[0].tagName&&(i.overflowOffset=i.scrollParentNotHidden.offset())},drag:function(t,i,r){var u=r.options,o=!1,e=r.scrollParentNotHidden[0],f=r.document[0];e!==f&&"HTML"!==e.tagName?(u.axis&&"x"===u.axis||(r.overflowOffset.top+e.offsetHeight-t.pageY<u.scrollSensitivity?e.scrollTop=o=e.scrollTop+u.scrollSpeed:t.pageY-r.overflowOffset.top<u.scrollSensitivity&&(e.scrollTop=o=e.scrollTop-u.scrollSpeed)),u.axis&&"y"===u.axis||(r.overflowOffset.left+e.offsetWidth-t.pageX<u.scrollSensitivity?e.scrollLeft=o=e.scrollLeft+u.scrollSpeed:t.pageX-r.overflowOffset.left<u.scrollSensitivity&&(e.scrollLeft=o=e.scrollLeft-u.scrollSpeed))):(u.axis&&"x"===u.axis||(t.pageY-n(f).scrollTop()<u.scrollSensitivity?o=n(f).scrollTop(n(f).scrollTop()-u.scrollSpeed):n(window).height()-(t.pageY-n(f).scrollTop())<u.scrollSensitivity&&(o=n(f).scrollTop(n(f).scrollTop()+u.scrollSpeed))),u.axis&&"y"===u.axis||(t.pageX-n(f).scrollLeft()<u.scrollSensitivity?o=n(f).scrollLeft(n(f).scrollLeft()-u.scrollSpeed):n(window).width()-(t.pageX-n(f).scrollLeft())<u.scrollSensitivity&&(o=n(f).scrollLeft(n(f).scrollLeft()+u.scrollSpeed))));o!==!1&&n.ui.ddmanager&&!u.dropBehaviour&&n.ui.ddmanager.prepareOffsets(r,t)}});n.ui.plugin.add("draggable","snap",{start:function(t,i,r){var u=r.options;r.snapElements=[];n(u.snap.constructor!==String?u.snap.items||":data(ui-draggable)":u.snap).each(function(){var t=n(this),i=t.offset();this!==r.element[0]&&r.snapElements.push({item:this,width:t.outerWidth(),height:t.outerHeight(),top:i.top,left:i.left})})},drag:function(t,i,r){for(var e,o,s,h,c,a,l,v,w,b=r.options,f=b.snapTolerance,y=i.offset.left,k=y+r.helperProportions.width,p=i.offset.top,d=p+r.helperProportions.height,u=r.snapElements.length-1;u>=0;u--)c=r.snapElements[u].left-r.margins.left,a=c+r.snapElements[u].width,l=r.snapElements[u].top-r.margins.top,v=l+r.snapElements[u].height,c-f>k||y>a+f||l-f>d||p>v+f||!n.contains(r.snapElements[u].item.ownerDocument,r.snapElements[u].item)?(r.snapElements[u].snapping&&r.options.snap.release&&r.options.snap.release.call(r.element,t,n.extend(r._uiHash(),{snapItem:r.snapElements[u].item})),r.snapElements[u].snapping=!1):("inner"!==b.snapMode&&(e=f>=Math.abs(l-d),o=f>=Math.abs(v-p),s=f>=Math.abs(c-k),h=f>=Math.abs(a-y),e&&(i.position.top=r._convertPositionTo("relative",{top:l-r.helperProportions.height,left:0}).top),o&&(i.position.top=r._convertPositionTo("relative",{top:v,left:0}).top),s&&(i.position.left=r._convertPositionTo("relative",{top:0,left:c-r.helperProportions.width}).left),h&&(i.position.left=r._convertPositionTo("relative",{top:0,left:a}).left)),w=e||o||s||h,"outer"!==b.snapMode&&(e=f>=Math.abs(l-p),o=f>=Math.abs(v-d),s=f>=Math.abs(c-y),h=f>=Math.abs(a-k),e&&(i.position.top=r._convertPositionTo("relative",{top:l,left:0}).top),o&&(i.position.top=r._convertPositionTo("relative",{top:v-r.helperProportions.height,left:0}).top),s&&(i.position.left=r._convertPositionTo("relative",{top:0,left:c}).left),h&&(i.position.left=r._convertPositionTo("relative",{top:0,left:a-r.helperProportions.width}).left)),!r.snapElements[u].snapping&&(e||o||s||h||w)&&r.options.snap.snap&&r.options.snap.snap.call(r.element,t,n.extend(r._uiHash(),{snapItem:r.snapElements[u].item})),r.snapElements[u].snapping=e||o||s||h||w)}});n.ui.plugin.add("draggable","stack",{start:function(t,i,r){var f,e=r.options,u=n.makeArray(n(e.stack)).sort(function(t,i){return(parseInt(n(t).css("zIndex"),10)||0)-(parseInt(n(i).css("zIndex"),10)||0)});u.length&&(f=parseInt(n(u[0]).css("zIndex"),10)||0,n(u).each(function(t){n(this).css("zIndex",f+t)}),this.css("zIndex",f+u.length))}});n.ui.plugin.add("draggable","zIndex",{start:function(t,i,r){var u=n(i.helper),f=r.options;u.css("zIndex")&&(f._zIndex=u.css("zIndex"));u.css("zIndex",f.zIndex)},stop:function(t,i,r){var u=r.options;u._zIndex&&n(i.helper).css("zIndex",u._zIndex)}});n.ui.draggable;n.widget("ui.resizable",n.ui.mouse,{version:"1.11.4",widgetEventPrefix:"resize",options:{alsoResize:!1,animate:!1,animateDuration:"slow",animateEasing:"swing",aspectRatio:!1,autoHide:!1,containment:!1,ghost:!1,grid:!1,handles:"e,s,se",helper:!1,maxHeight:null,maxWidth:null,minHeight:10,minWidth:10,zIndex:90,resize:null,start:null,stop:null},_num:function(n){return parseInt(n,10)||0},_isNumber:function(n){return!isNaN(parseInt(n,10))},_hasScroll:function(t,i){if("hidden"===n(t).css("overflow"))return!1;var r=i&&"left"===i?"scrollLeft":"scrollTop",u=!1;return t[r]>0?!0:(t[r]=1,u=t[r]>0,t[r]=0,u)},_create:function(){var e,f,u,i,o,r=this,t=this.options;if(this.element.addClass("ui-resizable"),n.extend(this,{_aspectRatio:!!t.aspectRatio,aspectRatio:t.aspectRatio,originalElement:this.element,_proportionallyResizeElements:[],_helper:t.helper||t.ghost||t.animate?t.helper||"ui-resizable-helper":null}),this.element[0].nodeName.match(/^(canvas|textarea|input|select|button|img)$/i)&&(this.element.wrap(n("<div class='ui-wrapper' style='overflow: hidden;'><\/div>").css({position:this.element.css("position"),width:this.element.outerWidth(),height:this.element.outerHeight(),top:this.element.css("top"),left:this.element.css("left")})),this.element=this.element.parent().data("ui-resizable",this.element.resizable("instance")),this.elementIsWrapper=!0,this.element.css({marginLeft:this.originalElement.css("marginLeft"),marginTop:this.originalElement.css("marginTop"),marginRight:this.originalElement.css("marginRight"),marginBottom:this.originalElement.css("marginBottom")}),this.originalElement.css({marginLeft:0,marginTop:0,marginRight:0,marginBottom:0}),this.originalResizeStyle=this.originalElement.css("resize"),this.originalElement.css("resize","none"),this._proportionallyResizeElements.push(this.originalElement.css({position:"static",zoom:1,display:"block"})),this.originalElement.css({margin:this.originalElement.css("margin")}),this._proportionallyResize()),this.handles=t.handles||(n(".ui-resizable-handle",this.element).length?{n:".ui-resizable-n",e:".ui-resizable-e",s:".ui-resizable-s",w:".ui-resizable-w",se:".ui-resizable-se",sw:".ui-resizable-sw",ne:".ui-resizable-ne",nw:".ui-resizable-nw"}:"e,s,se"),this._handles=n(),this.handles.constructor===String)for("all"===this.handles&&(this.handles="n,e,s,w,se,sw,ne,nw"),e=this.handles.split(","),this.handles={},f=0;e.length>f;f++)u=n.trim(e[f]),o="ui-resizable-"+u,i=n("<div class='ui-resizable-handle "+o+"'><\/div>"),i.css({zIndex:t.zIndex}),"se"===u&&i.addClass("ui-icon ui-icon-gripsmall-diagonal-se"),this.handles[u]=".ui-resizable-"+u,this.element.append(i);this._renderAxis=function(t){var i,u,f,e;t=t||this.element;for(i in this.handles)this.handles[i].constructor===String?this.handles[i]=this.element.children(this.handles[i]).first().show():(this.handles[i].jquery||this.handles[i].nodeType)&&(this.handles[i]=n(this.handles[i]),this._on(this.handles[i],{mousedown:r._mouseDown})),this.elementIsWrapper&&this.originalElement[0].nodeName.match(/^(textarea|input|select|button)$/i)&&(u=n(this.handles[i],this.element),e=/sw|ne|nw|se|n|s/.test(i)?u.outerHeight():u.outerWidth(),f=["padding",/ne|nw|n/.test(i)?"Top":/se|sw|s/.test(i)?"Bottom":/^e$/.test(i)?"Right":"Left"].join(""),t.css(f,e),this._proportionallyResize()),this._handles=this._handles.add(this.handles[i])};this._renderAxis(this.element);this._handles=this._handles.add(this.element.find(".ui-resizable-handle"));this._handles.disableSelection();this._handles.mouseover(function(){r.resizing||(this.className&&(i=this.className.match(/ui-resizable-(se|sw|ne|nw|n|e|s|w)/i)),r.axis=i&&i[1]?i[1]:"se")});t.autoHide&&(this._handles.hide(),n(this.element).addClass("ui-resizable-autohide").mouseenter(function(){t.disabled||(n(this).removeClass("ui-resizable-autohide"),r._handles.show())}).mouseleave(function(){t.disabled||r.resizing||(n(this).addClass("ui-resizable-autohide"),r._handles.hide())}));this._mouseInit()},_destroy:function(){this._mouseDestroy();var t,i=function(t){n(t).removeClass("ui-resizable ui-resizable-disabled ui-resizable-resizing").removeData("resizable").removeData("ui-resizable").unbind(".resizable").find(".ui-resizable-handle").remove()};return this.elementIsWrapper&&(i(this.element),t=this.element,this.originalElement.css({position:t.css("position"),width:t.outerWidth(),height:t.outerHeight(),top:t.css("top"),left:t.css("left")}).insertAfter(t),t.remove()),this.originalElement.css("resize",this.originalResizeStyle),i(this.originalElement),this},_mouseCapture:function(t){var r,i,u=!1;for(r in this.handles)i=n(this.handles[r])[0],(i===t.target||n.contains(i,t.target))&&(u=!0);return!this.options.disabled&&u},_mouseStart:function(t){var u,f,e,r=this.options,i=this.element;return this.resizing=!0,this._renderProxy(),u=this._num(this.helper.css("left")),f=this._num(this.helper.css("top")),r.containment&&(u+=n(r.containment).scrollLeft()||0,f+=n(r.containment).scrollTop()||0),this.offset=this.helper.offset(),this.position={left:u,top:f},this.size=this._helper?{width:this.helper.width(),height:this.helper.height()}:{width:i.width(),height:i.height()},this.originalSize=this._helper?{width:i.outerWidth(),height:i.outerHeight()}:{width:i.width(),height:i.height()},this.sizeDiff={width:i.outerWidth()-i.width(),height:i.outerHeight()-i.height()},this.originalPosition={left:u,top:f},this.originalMousePosition={left:t.pageX,top:t.pageY},this.aspectRatio="number"==typeof r.aspectRatio?r.aspectRatio:this.originalSize.width/this.originalSize.height||1,e=n(".ui-resizable-"+this.axis).css("cursor"),n("body").css("cursor","auto"===e?this.axis+"-resize":e),i.addClass("ui-resizable-resizing"),this._propagate("start",t),!0},_mouseDrag:function(t){var i,r,u=this.originalMousePosition,e=this.axis,o=t.pageX-u.left||0,s=t.pageY-u.top||0,f=this._change[e];return this._updatePrevProperties(),f?(i=f.apply(this,[t,o,s]),this._updateVirtualBoundaries(t.shiftKey),(this._aspectRatio||t.shiftKey)&&(i=this._updateRatio(i,t)),i=this._respectSize(i,t),this._updateCache(i),this._propagate("resize",t),r=this._applyChanges(),!this._helper&&this._proportionallyResizeElements.length&&this._proportionallyResize(),n.isEmptyObject(r)||(this._updatePrevProperties(),this._trigger("resize",t,this.ui()),this._applyChanges()),!1):!1},_mouseStop:function(t){this.resizing=!1;var r,u,f,e,o,s,h,c=this.options,i=this;return this._helper&&(r=this._proportionallyResizeElements,u=r.length&&/textarea/i.test(r[0].nodeName),f=u&&this._hasScroll(r[0],"left")?0:i.sizeDiff.height,e=u?0:i.sizeDiff.width,o={width:i.helper.width()-e,height:i.helper.height()-f},s=parseInt(i.element.css("left"),10)+(i.position.left-i.originalPosition.left)||null,h=parseInt(i.element.css("top"),10)+(i.position.top-i.originalPosition.top)||null,c.animate||this.element.css(n.extend(o,{top:h,left:s})),i.helper.height(i.size.height),i.helper.width(i.size.width),this._helper&&!c.animate&&this._proportionallyResize()),n("body").css("cursor","auto"),this.element.removeClass("ui-resizable-resizing"),this._propagate("stop",t),this._helper&&this.helper.remove(),!1},_updatePrevProperties:function(){this.prevPosition={top:this.position.top,left:this.position.left};this.prevSize={width:this.size.width,height:this.size.height}},_applyChanges:function(){var n={};return this.position.top!==this.prevPosition.top&&(n.top=this.position.top+"px"),this.position.left!==this.prevPosition.left&&(n.left=this.position.left+"px"),this.size.width!==this.prevSize.width&&(n.width=this.size.width+"px"),this.size.height!==this.prevSize.height&&(n.height=this.size.height+"px"),this.helper.css(n),n},_updateVirtualBoundaries:function(n){var r,u,f,e,t,i=this.options;t={minWidth:this._isNumber(i.minWidth)?i.minWidth:0,maxWidth:this._isNumber(i.maxWidth)?i.maxWidth:1/0,minHeight:this._isNumber(i.minHeight)?i.minHeight:0,maxHeight:this._isNumber(i.maxHeight)?i.maxHeight:1/0};(this._aspectRatio||n)&&(r=t.minHeight*this.aspectRatio,f=t.minWidth/this.aspectRatio,u=t.maxHeight*this.aspectRatio,e=t.maxWidth/this.aspectRatio,r>t.minWidth&&(t.minWidth=r),f>t.minHeight&&(t.minHeight=f),t.maxWidth>u&&(t.maxWidth=u),t.maxHeight>e&&(t.maxHeight=e));this._vBoundaries=t},_updateCache:function(n){this.offset=this.helper.offset();this._isNumber(n.left)&&(this.position.left=n.left);this._isNumber(n.top)&&(this.position.top=n.top);this._isNumber(n.height)&&(this.size.height=n.height);this._isNumber(n.width)&&(this.size.width=n.width)},_updateRatio:function(n){var t=this.position,i=this.size,r=this.axis;return this._isNumber(n.height)?n.width=n.height*this.aspectRatio:this._isNumber(n.width)&&(n.height=n.width/this.aspectRatio),"sw"===r&&(n.left=t.left+(i.width-n.width),n.top=null),"nw"===r&&(n.top=t.top+(i.height-n.height),n.left=t.left+(i.width-n.width)),n},_respectSize:function(n){var t=this._vBoundaries,i=this.axis,r=this._isNumber(n.width)&&t.maxWidth&&t.maxWidth<n.width,u=this._isNumber(n.height)&&t.maxHeight&&t.maxHeight<n.height,f=this._isNumber(n.width)&&t.minWidth&&t.minWidth>n.width,e=this._isNumber(n.height)&&t.minHeight&&t.minHeight>n.height,o=this.originalPosition.left+this.originalSize.width,s=this.position.top+this.size.height,h=/sw|nw|w/.test(i),c=/nw|ne|n/.test(i);return f&&(n.width=t.minWidth),e&&(n.height=t.minHeight),r&&(n.width=t.maxWidth),u&&(n.height=t.maxHeight),f&&h&&(n.left=o-t.minWidth),r&&h&&(n.left=o-t.maxWidth),e&&c&&(n.top=s-t.minHeight),u&&c&&(n.top=s-t.maxHeight),n.width||n.height||n.left||!n.top?n.width||n.height||n.top||!n.left||(n.left=null):n.top=null,n},_getPaddingPlusBorderDimensions:function(n){for(var t=0,i=[],r=[n.css("borderTopWidth"),n.css("borderRightWidth"),n.css("borderBottomWidth"),n.css("borderLeftWidth")],u=[n.css("paddingTop"),n.css("paddingRight"),n.css("paddingBottom"),n.css("paddingLeft")];4>t;t++)i[t]=parseInt(r[t],10)||0,i[t]+=parseInt(u[t],10)||0;return{height:i[0]+i[2],width:i[1]+i[3]}},_proportionallyResize:function(){if(this._proportionallyResizeElements.length)for(var n,t=0,i=this.helper||this.element;this._proportionallyResizeElements.length>t;t++)n=this._proportionallyResizeElements[t],this.outerDimensions||(this.outerDimensions=this._getPaddingPlusBorderDimensions(n)),n.css({height:i.height()-this.outerDimensions.height||0,width:i.width()-this.outerDimensions.width||0})},_renderProxy:function(){var t=this.element,i=this.options;this.elementOffset=t.offset();this._helper?(this.helper=this.helper||n("<div style='overflow:hidden;'><\/div>"),this.helper.addClass(this._helper).css({width:this.element.outerWidth()-1,height:this.element.outerHeight()-1,position:"absolute",left:this.elementOffset.left+"px",top:this.elementOffset.top+"px",zIndex:++i.zIndex}),this.helper.appendTo("body").disableSelection()):this.helper=this.element},_change:{e:function(n,t){return{width:this.originalSize.width+t}},w:function(n,t){var i=this.originalSize,r=this.originalPosition;return{left:r.left+t,width:i.width-t}},n:function(n,t,i){var r=this.originalSize,u=this.originalPosition;return{top:u.top+i,height:r.height-i}},s:function(n,t,i){return{height:this.originalSize.height+i}},se:function(t,i,r){return n.extend(this._change.s.apply(this,arguments),this._change.e.apply(this,[t,i,r]))},sw:function(t,i,r){return n.extend(this._change.s.apply(this,arguments),this._change.w.apply(this,[t,i,r]))},ne:function(t,i,r){return n.extend(this._change.n.apply(this,arguments),this._change.e.apply(this,[t,i,r]))},nw:function(t,i,r){return n.extend(this._change.n.apply(this,arguments),this._change.w.apply(this,[t,i,r]))}},_propagate:function(t,i){n.ui.plugin.call(this,t,[i,this.ui()]);"resize"!==t&&this._trigger(t,i,this.ui())},plugins:{},ui:function(){return{originalElement:this.originalElement,element:this.element,helper:this.helper,position:this.position,size:this.size,originalSize:this.originalSize,originalPosition:this.originalPosition}}});n.ui.plugin.add("resizable","animate",{stop:function(t){var i=n(this).resizable("instance"),u=i.options,r=i._proportionallyResizeElements,f=r.length&&/textarea/i.test(r[0].nodeName),s=f&&i._hasScroll(r[0],"left")?0:i.sizeDiff.height,h=f?0:i.sizeDiff.width,c={width:i.size.width-h,height:i.size.height-s},e=parseInt(i.element.css("left"),10)+(i.position.left-i.originalPosition.left)||null,o=parseInt(i.element.css("top"),10)+(i.position.top-i.originalPosition.top)||null;i.element.animate(n.extend(c,o&&e?{top:o,left:e}:{}),{duration:u.animateDuration,easing:u.animateEasing,step:function(){var u={width:parseInt(i.element.css("width"),10),height:parseInt(i.element.css("height"),10),top:parseInt(i.element.css("top"),10),left:parseInt(i.element.css("left"),10)};r&&r.length&&n(r[0]).css({width:u.width,height:u.height});i._updateCache(u);i._propagate("resize",t)}})}});n.ui.plugin.add("resizable","containment",{start:function(){var r,f,e,o,s,h,c,t=n(this).resizable("instance"),l=t.options,a=t.element,u=l.containment,i=u instanceof n?u.get(0):/parent/.test(u)?a.parent().get(0):u;i&&(t.containerElement=n(i),/document/.test(u)||u===document?(t.containerOffset={left:0,top:0},t.containerPosition={left:0,top:0},t.parentData={element:n(document),left:0,top:0,width:n(document).width(),height:n(document).height()||document.body.parentNode.scrollHeight}):(r=n(i),f=[],n(["Top","Right","Left","Bottom"]).each(function(n,i){f[n]=t._num(r.css("padding"+i))}),t.containerOffset=r.offset(),t.containerPosition=r.position(),t.containerSize={height:r.innerHeight()-f[3],width:r.innerWidth()-f[1]},e=t.containerOffset,o=t.containerSize.height,s=t.containerSize.width,h=t._hasScroll(i,"left")?i.scrollWidth:s,c=t._hasScroll(i)?i.scrollHeight:o,t.parentData={element:i,left:e.left,top:e.top,width:h,height:c}))},resize:function(t){var o,s,h,c,i=n(this).resizable("instance"),v=i.options,r=i.containerOffset,l=i.position,f=i._aspectRatio||t.shiftKey,e={top:0,left:0},a=i.containerElement,u=!0;a[0]!==document&&/static/.test(a.css("position"))&&(e=r);l.left<(i._helper?r.left:0)&&(i.size.width=i.size.width+(i._helper?i.position.left-r.left:i.position.left-e.left),f&&(i.size.height=i.size.width/i.aspectRatio,u=!1),i.position.left=v.helper?r.left:0);l.top<(i._helper?r.top:0)&&(i.size.height=i.size.height+(i._helper?i.position.top-r.top:i.position.top),f&&(i.size.width=i.size.height*i.aspectRatio,u=!1),i.position.top=i._helper?r.top:0);h=i.containerElement.get(0)===i.element.parent().get(0);c=/relative|absolute/.test(i.containerElement.css("position"));h&&c?(i.offset.left=i.parentData.left+i.position.left,i.offset.top=i.parentData.top+i.position.top):(i.offset.left=i.element.offset().left,i.offset.top=i.element.offset().top);o=Math.abs(i.sizeDiff.width+(i._helper?i.offset.left-e.left:i.offset.left-r.left));s=Math.abs(i.sizeDiff.height+(i._helper?i.offset.top-e.top:i.offset.top-r.top));o+i.size.width>=i.parentData.width&&(i.size.width=i.parentData.width-o,f&&(i.size.height=i.size.width/i.aspectRatio,u=!1));s+i.size.height>=i.parentData.height&&(i.size.height=i.parentData.height-s,f&&(i.size.width=i.size.height*i.aspectRatio,u=!1));u||(i.position.left=i.prevPosition.left,i.position.top=i.prevPosition.top,i.size.width=i.prevSize.width,i.size.height=i.prevSize.height)},stop:function(){var t=n(this).resizable("instance"),r=t.options,u=t.containerOffset,f=t.containerPosition,e=t.containerElement,i=n(t.helper),o=i.offset(),s=i.outerWidth()-t.sizeDiff.width,h=i.outerHeight()-t.sizeDiff.height;t._helper&&!r.animate&&/relative/.test(e.css("position"))&&n(this).css({left:o.left-f.left-u.left,width:s,height:h});t._helper&&!r.animate&&/static/.test(e.css("position"))&&n(this).css({left:o.left-f.left-u.left,width:s,height:h})}});n.ui.plugin.add("resizable","alsoResize",{start:function(){var t=n(this).resizable("instance"),i=t.options;n(i.alsoResize).each(function(){var t=n(this);t.data("ui-resizable-alsoresize",{width:parseInt(t.width(),10),height:parseInt(t.height(),10),left:parseInt(t.css("left"),10),top:parseInt(t.css("top"),10)})})},resize:function(t,i){var r=n(this).resizable("instance"),e=r.options,u=r.originalSize,f=r.originalPosition,o={height:r.size.height-u.height||0,width:r.size.width-u.width||0,top:r.position.top-f.top||0,left:r.position.left-f.left||0};n(e.alsoResize).each(function(){var t=n(this),u=n(this).data("ui-resizable-alsoresize"),r={},f=t.parents(i.originalElement[0]).length?["width","height"]:["width","height","top","left"];n.each(f,function(n,t){var i=(u[t]||0)+(o[t]||0);i&&i>=0&&(r[t]=i||null)});t.css(r)})},stop:function(){n(this).removeData("resizable-alsoresize")}});n.ui.plugin.add("resizable","ghost",{start:function(){var t=n(this).resizable("instance"),i=t.options,r=t.size;t.ghost=t.originalElement.clone();t.ghost.css({opacity:.25,display:"block",position:"relative",height:r.height,width:r.width,margin:0,left:0,top:0}).addClass("ui-resizable-ghost").addClass("string"==typeof i.ghost?i.ghost:"");t.ghost.appendTo(t.helper)},resize:function(){var t=n(this).resizable("instance");t.ghost&&t.ghost.css({position:"relative",height:t.size.height,width:t.size.width})},stop:function(){var t=n(this).resizable("instance");t.ghost&&t.helper&&t.helper.get(0).removeChild(t.ghost.get(0))}});n.ui.plugin.add("resizable","grid",{resize:function(){var h,t=n(this).resizable("instance"),i=t.options,y=t.size,o=t.originalSize,s=t.originalPosition,c=t.axis,l="number"==typeof i.grid?[i.grid,i.grid]:i.grid,f=l[0]||1,e=l[1]||1,a=Math.round((y.width-o.width)/f)*f,v=Math.round((y.height-o.height)/e)*e,r=o.width+a,u=o.height+v,p=i.maxWidth&&r>i.maxWidth,w=i.maxHeight&&u>i.maxHeight,b=i.minWidth&&i.minWidth>r,k=i.minHeight&&i.minHeight>u;i.grid=l;b&&(r+=f);k&&(u+=e);p&&(r-=f);w&&(u-=e);/^(se|s|e)$/.test(c)?(t.size.width=r,t.size.height=u):/^(ne)$/.test(c)?(t.size.width=r,t.size.height=u,t.position.top=s.top-v):/^(sw)$/.test(c)?(t.size.width=r,t.size.height=u,t.position.left=s.left-a):((0>=u-e||0>=r-f)&&(h=t._getPaddingPlusBorderDimensions(this)),u-e>0?(t.size.height=u,t.position.top=s.top-v):(u=e-h.height,t.size.height=u,t.position.top=s.top+o.height-u),r-f>0?(t.size.width=r,t.position.left=s.left-a):(r=f-h.width,t.size.width=r,t.position.left=s.left+o.width-r))}});n.ui.resizable;n.widget("ui.sortable",n.ui.mouse,{version:"1.11.4",widgetEventPrefix:"sort",ready:!1,options:{appendTo:"parent",axis:!1,connectWith:!1,containment:!1,cursor:"auto",cursorAt:!1,dropOnEmpty:!0,forcePlaceholderSize:!1,forceHelperSize:!1,grid:!1,handle:!1,helper:"original",items:"> *",opacity:!1,placeholder:!1,revert:!1,scroll:!0,scrollSensitivity:20,scrollSpeed:20,scope:"default",tolerance:"intersect",zIndex:1e3,activate:null,beforeStop:null,change:null,deactivate:null,out:null,over:null,receive:null,remove:null,sort:null,start:null,stop:null,update:null},_isOverAxis:function(n,t,i){return n>=t&&t+i>n},_isFloating:function(n){return/left|right/.test(n.css("float"))||/inline|table-cell/.test(n.css("display"))},_create:function(){this.containerCache={};this.element.addClass("ui-sortable");this.refresh();this.offset=this.element.offset();this._mouseInit();this._setHandleClassName();this.ready=!0},_setOption:function(n,t){this._super(n,t);"handle"===n&&this._setHandleClassName()},_setHandleClassName:function(){this.element.find(".ui-sortable-handle").removeClass("ui-sortable-handle");n.each(this.items,function(){(this.instance.options.handle?this.item.find(this.instance.options.handle):this.item).addClass("ui-sortable-handle")})},_destroy:function(){this.element.removeClass("ui-sortable ui-sortable-disabled").find(".ui-sortable-handle").removeClass("ui-sortable-handle");this._mouseDestroy();for(var n=this.items.length-1;n>=0;n--)this.items[n].item.removeData(this.widgetName+"-item");return this},_mouseCapture:function(t,i){var r=null,f=!1,u=this;return this.reverting?!1:this.options.disabled||"static"===this.options.type?!1:(this._refreshItems(t),n(t.target).parents().each(function(){if(n.data(this,u.widgetName+"-item")===u)return(r=n(this),!1)}),n.data(t.target,u.widgetName+"-item")===u&&(r=n(t.target)),r?!this.options.handle||i||(n(this.options.handle,r).find("*").addBack().each(function(){this===t.target&&(f=!0)}),f)?(this.currentItem=r,this._removeCurrentsFromItems(),!0):!1:!1)},_mouseStart:function(t,i,r){var f,e,u=this.options;if(this.currentContainer=this,this.refreshPositions(),this.helper=this._createHelper(t),this._cacheHelperProportions(),this._cacheMargins(),this.scrollParent=this.helper.scrollParent(),this.offset=this.currentItem.offset(),this.offset={top:this.offset.top-this.margins.top,left:this.offset.left-this.margins.left},n.extend(this.offset,{click:{left:t.pageX-this.offset.left,top:t.pageY-this.offset.top},parent:this._getParentOffset(),relative:this._getRelativeOffset()}),this.helper.css("position","absolute"),this.cssPosition=this.helper.css("position"),this.originalPosition=this._generatePosition(t),this.originalPageX=t.pageX,this.originalPageY=t.pageY,u.cursorAt&&this._adjustOffsetFromHelper(u.cursorAt),this.domPosition={prev:this.currentItem.prev()[0],parent:this.currentItem.parent()[0]},this.helper[0]!==this.currentItem[0]&&this.currentItem.hide(),this._createPlaceholder(),u.containment&&this._setContainment(),u.cursor&&"auto"!==u.cursor&&(e=this.document.find("body"),this.storedCursor=e.css("cursor"),e.css("cursor",u.cursor),this.storedStylesheet=n("<style>*{ cursor: "+u.cursor+" !important; }<\/style>").appendTo(e)),u.opacity&&(this.helper.css("opacity")&&(this._storedOpacity=this.helper.css("opacity")),this.helper.css("opacity",u.opacity)),u.zIndex&&(this.helper.css("zIndex")&&(this._storedZIndex=this.helper.css("zIndex")),this.helper.css("zIndex",u.zIndex)),this.scrollParent[0]!==this.document[0]&&"HTML"!==this.scrollParent[0].tagName&&(this.overflowOffset=this.scrollParent.offset()),this._trigger("start",t,this._uiHash()),this._preserveHelperProportions||this._cacheHelperProportions(),!r)for(f=this.containers.length-1;f>=0;f--)this.containers[f]._trigger("activate",t,this._uiHash(this));return n.ui.ddmanager&&(n.ui.ddmanager.current=this),n.ui.ddmanager&&!u.dropBehaviour&&n.ui.ddmanager.prepareOffsets(this,t),this.dragging=!0,this.helper.addClass("ui-sortable-helper"),this._mouseDrag(t),!0},_mouseDrag:function(t){var e,u,f,o,i=this.options,r=!1;for(this.position=this._generatePosition(t),this.positionAbs=this._convertPositionTo("absolute"),this.lastPositionAbs||(this.lastPositionAbs=this.positionAbs),this.options.scroll&&(this.scrollParent[0]!==this.document[0]&&"HTML"!==this.scrollParent[0].tagName?(this.overflowOffset.top+this.scrollParent[0].offsetHeight-t.pageY<i.scrollSensitivity?this.scrollParent[0].scrollTop=r=this.scrollParent[0].scrollTop+i.scrollSpeed:t.pageY-this.overflowOffset.top<i.scrollSensitivity&&(this.scrollParent[0].scrollTop=r=this.scrollParent[0].scrollTop-i.scrollSpeed),this.overflowOffset.left+this.scrollParent[0].offsetWidth-t.pageX<i.scrollSensitivity?this.scrollParent[0].scrollLeft=r=this.scrollParent[0].scrollLeft+i.scrollSpeed:t.pageX-this.overflowOffset.left<i.scrollSensitivity&&(this.scrollParent[0].scrollLeft=r=this.scrollParent[0].scrollLeft-i.scrollSpeed)):(t.pageY-this.document.scrollTop()<i.scrollSensitivity?r=this.document.scrollTop(this.document.scrollTop()-i.scrollSpeed):this.window.height()-(t.pageY-this.document.scrollTop())<i.scrollSensitivity&&(r=this.document.scrollTop(this.document.scrollTop()+i.scrollSpeed)),t.pageX-this.document.scrollLeft()<i.scrollSensitivity?r=this.document.scrollLeft(this.document.scrollLeft()-i.scrollSpeed):this.window.width()-(t.pageX-this.document.scrollLeft())<i.scrollSensitivity&&(r=this.document.scrollLeft(this.document.scrollLeft()+i.scrollSpeed))),r!==!1&&n.ui.ddmanager&&!i.dropBehaviour&&n.ui.ddmanager.prepareOffsets(this,t)),this.positionAbs=this._convertPositionTo("absolute"),this.options.axis&&"y"===this.options.axis||(this.helper[0].style.left=this.position.left+"px"),this.options.axis&&"x"===this.options.axis||(this.helper[0].style.top=this.position.top+"px"),e=this.items.length-1;e>=0;e--)if(u=this.items[e],f=u.item[0],o=this._intersectsWithPointer(u),o&&u.instance===this.currentContainer&&f!==this.currentItem[0]&&this.placeholder[1===o?"next":"prev"]()[0]!==f&&!n.contains(this.placeholder[0],f)&&("semi-dynamic"===this.options.type?!n.contains(this.element[0],f):!0)){if(this.direction=1===o?"down":"up","pointer"!==this.options.tolerance&&!this._intersectsWithSides(u))break;this._rearrange(t,u);this._trigger("change",t,this._uiHash());break}return this._contactContainers(t),n.ui.ddmanager&&n.ui.ddmanager.drag(this,t),this._trigger("sort",t,this._uiHash()),this.lastPositionAbs=this.positionAbs,!1},_mouseStop:function(t,i){if(t){if(n.ui.ddmanager&&!this.options.dropBehaviour&&n.ui.ddmanager.drop(this,t),this.options.revert){var e=this,f=this.placeholder.offset(),r=this.options.axis,u={};r&&"x"!==r||(u.left=f.left-this.offset.parent.left-this.margins.left+(this.offsetParent[0]===this.document[0].body?0:this.offsetParent[0].scrollLeft));r&&"y"!==r||(u.top=f.top-this.offset.parent.top-this.margins.top+(this.offsetParent[0]===this.document[0].body?0:this.offsetParent[0].scrollTop));this.reverting=!0;n(this.helper).animate(u,parseInt(this.options.revert,10)||500,function(){e._clear(t)})}else this._clear(t,i);return!1}},cancel:function(){if(this.dragging){this._mouseUp({target:null});"original"===this.options.helper?this.currentItem.css(this._storedCSS).removeClass("ui-sortable-helper"):this.currentItem.show();for(var t=this.containers.length-1;t>=0;t--)this.containers[t]._trigger("deactivate",null,this._uiHash(this)),this.containers[t].containerCache.over&&(this.containers[t]._trigger("out",null,this._uiHash(this)),this.containers[t].containerCache.over=0)}return this.placeholder&&(this.placeholder[0].parentNode&&this.placeholder[0].parentNode.removeChild(this.placeholder[0]),"original"!==this.options.helper&&this.helper&&this.helper[0].parentNode&&this.helper.remove(),n.extend(this,{helper:null,dragging:!1,reverting:!1,_noFinalSort:null}),this.domPosition.prev?n(this.domPosition.prev).after(this.currentItem):n(this.domPosition.parent).prepend(this.currentItem)),this},serialize:function(t){var r=this._getItemsAsjQuery(t&&t.connected),i=[];return t=t||{},n(r).each(function(){var r=(n(t.item||this).attr(t.attribute||"id")||"").match(t.expression||/(.+)[\-=_](.+)/);r&&i.push((t.key||r[1]+"[]")+"="+(t.key&&t.expression?r[1]:r[2]))}),!i.length&&t.key&&i.push(t.key+"="),i.join("&")},toArray:function(t){var r=this._getItemsAsjQuery(t&&t.connected),i=[];return t=t||{},r.each(function(){i.push(n(t.item||this).attr(t.attribute||"id")||"")}),i},_intersectsWith:function(n){var t=this.positionAbs.left,h=t+this.helperProportions.width,i=this.positionAbs.top,c=i+this.helperProportions.height,r=n.left,f=r+n.width,u=n.top,e=u+n.height,o=this.offset.click.top,s=this.offset.click.left,l="x"===this.options.axis||i+o>u&&e>i+o,a="y"===this.options.axis||t+s>r&&f>t+s,v=l&&a;return"pointer"===this.options.tolerance||this.options.forcePointerForContainers||"pointer"!==this.options.tolerance&&this.helperProportions[this.floating?"width":"height"]>n[this.floating?"width":"height"]?v:t+this.helperProportions.width/2>r&&f>h-this.helperProportions.width/2&&i+this.helperProportions.height/2>u&&e>c-this.helperProportions.height/2},_intersectsWithPointer:function(n){var r="x"===this.options.axis||this._isOverAxis(this.positionAbs.top+this.offset.click.top,n.top,n.height),u="y"===this.options.axis||this._isOverAxis(this.positionAbs.left+this.offset.click.left,n.left,n.width),f=r&&u,t=this._getDragVerticalDirection(),i=this._getDragHorizontalDirection();return f?this.floating?i&&"right"===i||"down"===t?2:1:t&&("down"===t?2:1):!1},_intersectsWithSides:function(n){var r=this._isOverAxis(this.positionAbs.top+this.offset.click.top,n.top+n.height/2,n.height),u=this._isOverAxis(this.positionAbs.left+this.offset.click.left,n.left+n.width/2,n.width),t=this._getDragVerticalDirection(),i=this._getDragHorizontalDirection();return this.floating&&i?"right"===i&&u||"left"===i&&!u:t&&("down"===t&&r||"up"===t&&!r)},_getDragVerticalDirection:function(){var n=this.positionAbs.top-this.lastPositionAbs.top;return 0!==n&&(n>0?"down":"up")},_getDragHorizontalDirection:function(){var n=this.positionAbs.left-this.lastPositionAbs.left;return 0!==n&&(n>0?"right":"left")},refresh:function(n){return this._refreshItems(n),this._setHandleClassName(),this.refreshPositions(),this},_connectWith:function(){var n=this.options;return n.connectWith.constructor===String?[n.connectWith]:n.connectWith},_getItemsAsjQuery:function(t){function h(){s.push(this)}var r,u,e,i,s=[],f=[],o=this._connectWith();if(o&&t)for(r=o.length-1;r>=0;r--)for(e=n(o[r],this.document[0]),u=e.length-1;u>=0;u--)i=n.data(e[u],this.widgetFullName),i&&i!==this&&!i.options.disabled&&f.push([n.isFunction(i.options.items)?i.options.items.call(i.element):n(i.options.items,i.element).not(".ui-sortable-helper").not(".ui-sortable-placeholder"),i]);for(f.push([n.isFunction(this.options.items)?this.options.items.call(this.element,null,{options:this.options,item:this.currentItem}):n(this.options.items,this.element).not(".ui-sortable-helper").not(".ui-sortable-placeholder"),this]),r=f.length-1;r>=0;r--)f[r][0].each(h);return n(s)},_removeCurrentsFromItems:function(){var t=this.currentItem.find(":data("+this.widgetName+"-item)");this.items=n.grep(this.items,function(n){for(var i=0;t.length>i;i++)if(t[i]===n.item[0])return!1;return!0})},_refreshItems:function(t){this.items=[];this.containers=[this];var r,u,e,i,o,s,h,l,a=this.items,f=[[n.isFunction(this.options.items)?this.options.items.call(this.element[0],t,{item:this.currentItem}):n(this.options.items,this.element),this]],c=this._connectWith();if(c&&this.ready)for(r=c.length-1;r>=0;r--)for(e=n(c[r],this.document[0]),u=e.length-1;u>=0;u--)i=n.data(e[u],this.widgetFullName),i&&i!==this&&!i.options.disabled&&(f.push([n.isFunction(i.options.items)?i.options.items.call(i.element[0],t,{item:this.currentItem}):n(i.options.items,i.element),i]),this.containers.push(i));for(r=f.length-1;r>=0;r--)for(o=f[r][1],s=f[r][0],u=0,l=s.length;l>u;u++)h=n(s[u]),h.data(this.widgetName+"-item",o),a.push({item:h,instance:o,width:0,height:0,left:0,top:0})},refreshPositions:function(t){this.floating=this.items.length?"x"===this.options.axis||this._isFloating(this.items[0].item):!1;this.offsetParent&&this.helper&&(this.offset.parent=this._getParentOffset());for(var r,f,u,i=this.items.length-1;i>=0;i--)r=this.items[i],r.instance!==this.currentContainer&&this.currentContainer&&r.item[0]!==this.currentItem[0]||(f=this.options.toleranceElement?n(this.options.toleranceElement,r.item):r.item,t||(r.width=f.outerWidth(),r.height=f.outerHeight()),u=f.offset(),r.left=u.left,r.top=u.top);if(this.options.custom&&this.options.custom.refreshContainers)this.options.custom.refreshContainers.call(this);else for(i=this.containers.length-1;i>=0;i--)u=this.containers[i].element.offset(),this.containers[i].containerCache.left=u.left,this.containers[i].containerCache.top=u.top,this.containers[i].containerCache.width=this.containers[i].element.outerWidth(),this.containers[i].containerCache.height=this.containers[i].element.outerHeight();return this},_createPlaceholder:function(t){t=t||this;var r,i=t.options;i.placeholder&&i.placeholder.constructor!==String||(r=i.placeholder,i.placeholder={element:function(){var u=t.currentItem[0].nodeName.toLowerCase(),i=n("<"+u+">",t.document[0]).addClass(r||t.currentItem[0].className+" ui-sortable-placeholder").removeClass("ui-sortable-helper");return"tbody"===u?t._createTrPlaceholder(t.currentItem.find("tr").eq(0),n("<tr>",t.document[0]).appendTo(i)):"tr"===u?t._createTrPlaceholder(t.currentItem,i):"img"===u&&i.attr("src",t.currentItem.attr("src")),r||i.css("visibility","hidden"),i},update:function(n,u){(!r||i.forcePlaceholderSize)&&(u.height()||u.height(t.currentItem.innerHeight()-parseInt(t.currentItem.css("paddingTop")||0,10)-parseInt(t.currentItem.css("paddingBottom")||0,10)),u.width()||u.width(t.currentItem.innerWidth()-parseInt(t.currentItem.css("paddingLeft")||0,10)-parseInt(t.currentItem.css("paddingRight")||0,10)))}});t.placeholder=n(i.placeholder.element.call(t.element,t.currentItem));t.currentItem.after(t.placeholder);i.placeholder.update(t,t.placeholder)},_createTrPlaceholder:function(t,i){var r=this;t.children().each(function(){n("<td>&#160;<\/td>",r.document[0]).attr("colspan",n(this).attr("colspan")||1).appendTo(i)})},_contactContainers:function(t){for(var u,c,f,a,v,o,l,s,h,e=null,i=null,r=this.containers.length-1;r>=0;r--)if(!n.contains(this.currentItem[0],this.containers[r].element[0]))if(this._intersectsWith(this.containers[r].containerCache)){if(e&&n.contains(this.containers[r].element[0],e.element[0]))continue;e=this.containers[r];i=r}else this.containers[r].containerCache.over&&(this.containers[r]._trigger("out",t,this._uiHash(this)),this.containers[r].containerCache.over=0);if(e)if(1===this.containers.length)this.containers[i].containerCache.over||(this.containers[i]._trigger("over",t,this._uiHash(this)),this.containers[i].containerCache.over=1);else{for(c=1e4,f=null,s=e.floating||this._isFloating(this.currentItem),a=s?"left":"top",v=s?"width":"height",h=s?"clientX":"clientY",u=this.items.length-1;u>=0;u--)n.contains(this.containers[i].element[0],this.items[u].item[0])&&this.items[u].item[0]!==this.currentItem[0]&&(o=this.items[u].item.offset()[a],l=!1,t[h]-o>this.items[u][v]/2&&(l=!0),c>Math.abs(t[h]-o)&&(c=Math.abs(t[h]-o),f=this.items[u],this.direction=l?"up":"down"));if(!f&&!this.options.dropOnEmpty)return;if(this.currentContainer===this.containers[i])return this.currentContainer.containerCache.over||(this.containers[i]._trigger("over",t,this._uiHash()),this.currentContainer.containerCache.over=1),void 0;f?this._rearrange(t,f,null,!0):this._rearrange(t,null,this.containers[i].element,!0);this._trigger("change",t,this._uiHash());this.containers[i]._trigger("change",t,this._uiHash(this));this.currentContainer=this.containers[i];this.options.placeholder.update(this.currentContainer,this.placeholder);this.containers[i]._trigger("over",t,this._uiHash(this));this.containers[i].containerCache.over=1}},_createHelper:function(t){var r=this.options,i=n.isFunction(r.helper)?n(r.helper.apply(this.element[0],[t,this.currentItem])):"clone"===r.helper?this.currentItem.clone():this.currentItem;return i.parents("body").length||n("parent"!==r.appendTo?r.appendTo:this.currentItem[0].parentNode)[0].appendChild(i[0]),i[0]===this.currentItem[0]&&(this._storedCSS={width:this.currentItem[0].style.width,height:this.currentItem[0].style.height,position:this.currentItem.css("position"),top:this.currentItem.css("top"),left:this.currentItem.css("left")}),(!i[0].style.width||r.forceHelperSize)&&i.width(this.currentItem.width()),(!i[0].style.height||r.forceHelperSize)&&i.height(this.currentItem.height()),i},_adjustOffsetFromHelper:function(t){"string"==typeof t&&(t=t.split(" "));n.isArray(t)&&(t={left:+t[0],top:+t[1]||0});"left"in t&&(this.offset.click.left=t.left+this.margins.left);"right"in t&&(this.offset.click.left=this.helperProportions.width-t.right+this.margins.left);"top"in t&&(this.offset.click.top=t.top+this.margins.top);"bottom"in t&&(this.offset.click.top=this.helperProportions.height-t.bottom+this.margins.top)},_getParentOffset:function(){this.offsetParent=this.helper.offsetParent();var t=this.offsetParent.offset();return"absolute"===this.cssPosition&&this.scrollParent[0]!==this.document[0]&&n.contains(this.scrollParent[0],this.offsetParent[0])&&(t.left+=this.scrollParent.scrollLeft(),t.top+=this.scrollParent.scrollTop()),(this.offsetParent[0]===this.document[0].body||this.offsetParent[0].tagName&&"html"===this.offsetParent[0].tagName.toLowerCase()&&n.ui.ie)&&(t={top:0,left:0}),{top:t.top+(parseInt(this.offsetParent.css("borderTopWidth"),10)||0),left:t.left+(parseInt(this.offsetParent.css("borderLeftWidth"),10)||0)}},_getRelativeOffset:function(){if("relative"===this.cssPosition){var n=this.currentItem.position();return{top:n.top-(parseInt(this.helper.css("top"),10)||0)+this.scrollParent.scrollTop(),left:n.left-(parseInt(this.helper.css("left"),10)||0)+this.scrollParent.scrollLeft()}}return{top:0,left:0}},_cacheMargins:function(){this.margins={left:parseInt(this.currentItem.css("marginLeft"),10)||0,top:parseInt(this.currentItem.css("marginTop"),10)||0}},_cacheHelperProportions:function(){this.helperProportions={width:this.helper.outerWidth(),height:this.helper.outerHeight()}},_setContainment:function(){var t,r,u,i=this.options;"parent"===i.containment&&(i.containment=this.helper[0].parentNode);("document"===i.containment||"window"===i.containment)&&(this.containment=[0-this.offset.relative.left-this.offset.parent.left,0-this.offset.relative.top-this.offset.parent.top,"document"===i.containment?this.document.width():this.window.width()-this.helperProportions.width-this.margins.left,("document"===i.containment?this.document.width():this.window.height()||this.document[0].body.parentNode.scrollHeight)-this.helperProportions.height-this.margins.top]);/^(document|window|parent)$/.test(i.containment)||(t=n(i.containment)[0],r=n(i.containment).offset(),u="hidden"!==n(t).css("overflow"),this.containment=[r.left+(parseInt(n(t).css("borderLeftWidth"),10)||0)+(parseInt(n(t).css("paddingLeft"),10)||0)-this.margins.left,r.top+(parseInt(n(t).css("borderTopWidth"),10)||0)+(parseInt(n(t).css("paddingTop"),10)||0)-this.margins.top,r.left+(u?Math.max(t.scrollWidth,t.offsetWidth):t.offsetWidth)-(parseInt(n(t).css("borderLeftWidth"),10)||0)-(parseInt(n(t).css("paddingRight"),10)||0)-this.helperProportions.width-this.margins.left,r.top+(u?Math.max(t.scrollHeight,t.offsetHeight):t.offsetHeight)-(parseInt(n(t).css("borderTopWidth"),10)||0)-(parseInt(n(t).css("paddingBottom"),10)||0)-this.helperProportions.height-this.margins.top])},_convertPositionTo:function(t,i){i||(i=this.position);var r="absolute"===t?1:-1,u="absolute"!==this.cssPosition||this.scrollParent[0]!==this.document[0]&&n.contains(this.scrollParent[0],this.offsetParent[0])?this.scrollParent:this.offsetParent,f=/(html|body)/i.test(u[0].tagName);return{top:i.top+this.offset.relative.top*r+this.offset.parent.top*r-("fixed"===this.cssPosition?-this.scrollParent.scrollTop():f?0:u.scrollTop())*r,left:i.left+this.offset.relative.left*r+this.offset.parent.left*r-("fixed"===this.cssPosition?-this.scrollParent.scrollLeft():f?0:u.scrollLeft())*r}},_generatePosition:function(t){var r,u,i=this.options,f=t.pageX,e=t.pageY,o="absolute"!==this.cssPosition||this.scrollParent[0]!==this.document[0]&&n.contains(this.scrollParent[0],this.offsetParent[0])?this.scrollParent:this.offsetParent,s=/(html|body)/i.test(o[0].tagName);return"relative"!==this.cssPosition||this.scrollParent[0]!==this.document[0]&&this.scrollParent[0]!==this.offsetParent[0]||(this.offset.relative=this._getRelativeOffset()),this.originalPosition&&(this.containment&&(t.pageX-this.offset.click.left<this.containment[0]&&(f=this.containment[0]+this.offset.click.left),t.pageY-this.offset.click.top<this.containment[1]&&(e=this.containment[1]+this.offset.click.top),t.pageX-this.offset.click.left>this.containment[2]&&(f=this.containment[2]+this.offset.click.left),t.pageY-this.offset.click.top>this.containment[3]&&(e=this.containment[3]+this.offset.click.top)),i.grid&&(r=this.originalPageY+Math.round((e-this.originalPageY)/i.grid[1])*i.grid[1],e=this.containment?r-this.offset.click.top>=this.containment[1]&&r-this.offset.click.top<=this.containment[3]?r:r-this.offset.click.top>=this.containment[1]?r-i.grid[1]:r+i.grid[1]:r,u=this.originalPageX+Math.round((f-this.originalPageX)/i.grid[0])*i.grid[0],f=this.containment?u-this.offset.click.left>=this.containment[0]&&u-this.offset.click.left<=this.containment[2]?u:u-this.offset.click.left>=this.containment[0]?u-i.grid[0]:u+i.grid[0]:u)),{top:e-this.offset.click.top-this.offset.relative.top-this.offset.parent.top+("fixed"===this.cssPosition?-this.scrollParent.scrollTop():s?0:o.scrollTop()),left:f-this.offset.click.left-this.offset.relative.left-this.offset.parent.left+("fixed"===this.cssPosition?-this.scrollParent.scrollLeft():s?0:o.scrollLeft())}},_rearrange:function(n,t,i,r){i?i[0].appendChild(this.placeholder[0]):t.item[0].parentNode.insertBefore(this.placeholder[0],"down"===this.direction?t.item[0]:t.item[0].nextSibling);this.counter=this.counter?++this.counter:1;var u=this.counter;this._delay(function(){u===this.counter&&this.refreshPositions(!r)})},_clear:function(n,t){function u(n,t,i){return function(r){i._trigger(n,r,t._uiHash(t))}}this.reverting=!1;var i,r=[];if(!this._noFinalSort&&this.currentItem.parent().length&&this.placeholder.before(this.currentItem),this._noFinalSort=null,this.helper[0]===this.currentItem[0]){for(i in this._storedCSS)("auto"===this._storedCSS[i]||"static"===this._storedCSS[i])&&(this._storedCSS[i]="");this.currentItem.css(this._storedCSS).removeClass("ui-sortable-helper")}else this.currentItem.show();for(this.fromOutside&&!t&&r.push(function(n){this._trigger("receive",n,this._uiHash(this.fromOutside))}),!this.fromOutside&&this.domPosition.prev===this.currentItem.prev().not(".ui-sortable-helper")[0]&&this.domPosition.parent===this.currentItem.parent()[0]||t||r.push(function(n){this._trigger("update",n,this._uiHash())}),this!==this.currentContainer&&(t||(r.push(function(n){this._trigger("remove",n,this._uiHash())}),r.push(function(n){return function(t){n._trigger("receive",t,this._uiHash(this))}}.call(this,this.currentContainer)),r.push(function(n){return function(t){n._trigger("update",t,this._uiHash(this))}}.call(this,this.currentContainer)))),i=this.containers.length-1;i>=0;i--)t||r.push(u("deactivate",this,this.containers[i])),this.containers[i].containerCache.over&&(r.push(u("out",this,this.containers[i])),this.containers[i].containerCache.over=0);if(this.storedCursor&&(this.document.find("body").css("cursor",this.storedCursor),this.storedStylesheet.remove()),this._storedOpacity&&this.helper.css("opacity",this._storedOpacity),this._storedZIndex&&this.helper.css("zIndex","auto"===this._storedZIndex?"":this._storedZIndex),this.dragging=!1,t||this._trigger("beforeStop",n,this._uiHash()),this.placeholder[0].parentNode.removeChild(this.placeholder[0]),this.cancelHelperRemoval||(this.helper[0]!==this.currentItem[0]&&this.helper.remove(),this.helper=null),!t){for(i=0;r.length>i;i++)r[i].call(this,n);this._trigger("stop",n,this._uiHash())}return this.fromOutside=!1,!this.cancelHelperRemoval},_trigger:function(){n.Widget.prototype._trigger.apply(this,arguments)===!1&&this.cancel()},_uiHash:function(t){var i=t||this;return{helper:i.helper,placeholder:i.placeholder||n([]),position:i.position,originalPosition:i.originalPosition,offset:i.positionAbs,item:i.currentItem,sender:t?t.element:null}}})}),function(n,t,i){var r=function(r){function lt(n){var t,i,u={};r.each(n,function(r){(t=r.match(/^([^A-Z]+?)([A-Z])/))&&-1!=="a aa ai ao as b fn i m o s ".indexOf(t[1]+" ")&&(i=r.replace(t[0],t[2].toLowerCase()),u[i]=r,"o"===t[1]&&lt(n[r]))});n._hungarianMap=u}function nt(n,t,u){n._hungarianMap||lt(n);var f;r.each(t,function(e){f=n._hungarianMap[e];f!==i&&(u||t[f]===i)&&("o"===f.charAt(0)?(t[f]||(t[f]={}),r.extend(!0,t[f],t[e]),nt(n[f],t[f],u)):t[f]=t[e])})}function ur(n){var t=u.defaults.oLanguage,i=n.sZeroRecords;!n.sEmptyTable&&i&&"No data available in table"===t.sEmptyTable&&k(n,n,"sZeroRecords","sEmptyTable");!n.sLoadingRecords&&i&&"Loading..."===t.sLoadingRecords&&k(n,n,"sZeroRecords","sLoadingRecords");n.sInfoThousands&&(n.sThousands=n.sInfoThousands);(n=n.sDecimal)&&fe(n)}function au(n){if(p(n,"ordering","bSort"),p(n,"orderMulti","bSortMulti"),p(n,"orderClasses","bSortClasses"),p(n,"orderCellsTop","bSortCellsTop"),p(n,"order","aaSorting"),p(n,"orderFixed","aaSortingFixed"),p(n,"paging","bPaginate"),p(n,"pagingType","sPaginationType"),p(n,"pageLength","iDisplayLength"),p(n,"searching","bFilter"),n=n.aoSearchCols)for(var t=0,i=n.length;t<i;t++)n[t]&&nt(u.models.oSearch,n[t])}function vu(n){p(n,"orderable","bSortable");p(n,"orderData","aDataSort");p(n,"orderSequence","asSorting");p(n,"orderDataType","sortDataType");var t=n.aDataSort;t&&!r.isArray(t)&&(n.aDataSort=[t])}function yu(n){var n=n.oBrowser,t=r("<div/>").css({position:"absolute",top:0,left:0,height:1,width:1,overflow:"hidden"}).append(r("<div/>").css({position:"absolute",top:1,left:1,width:100,overflow:"scroll"}).append(r('<div class="test"/>').css({width:"100%",height:10}))).appendTo("body"),i=t.find(".test");n.bScrollOversize=100===i[0].offsetWidth;n.bScrollbarLeft=1!==Math.round(i.offset().left);t.remove()}function pu(n,t,r,u,f,e){var o,s=!1;for(r!==i&&(o=r,s=!0);u!==f;)n.hasOwnProperty(u)&&(o=s?t(o,n[u],u,n):n[u],s=!0,u+=e);return o}function fr(n,i){var f=u.defaults.column,e=n.aoColumns.length,f=r.extend({},u.models.oColumn,f,{nTh:i?i:t.createElement("th"),sTitle:f.sTitle?f.sTitle:i?i.innerHTML:"",aDataSort:f.aDataSort?f.aDataSort:[e],mData:f.mData?f.mData:e,idx:e});n.aoColumns.push(f);f=n.aoPreSearchCols;f[e]=r.extend({},u.models.oSearch,f[e]);fi(n,e,r(i).data())}function fi(n,t,f){var t=n.aoColumns[t],e=n.oClasses,s=r(t.nTh),h;t.sWidthOrig||(t.sWidthOrig=s.attr("width")||null,h=(s.attr("style")||"").match(/width:\s*(\d+[pxem%]+)/),h&&(t.sWidthOrig=h[1]));f!==i&&null!==f&&(vu(f),nt(u.defaults.column,f),f.mDataProp!==i&&!f.mData&&(f.mData=f.mDataProp),f.sType&&(t._sManualType=f.sType),f.className&&!f.sClass&&(f.sClass=f.className),r.extend(t,f),k(t,f,"sWidth","sWidthOrig"),f.iDataSort!==i&&(t.aDataSort=[f.iDataSort]),k(t,f,"aDataSort"));var o=t.mData,l=et(o),c=t.mRender?et(t.mRender):null,f=function(n){return"string"==typeof n&&-1!==n.indexOf("@")};t._bAttrSrc=r.isPlainObject(o)&&(f(o.sort)||f(o.type)||f(o.filter));t.fnGetData=function(n,t,r){var u=l(n,t,i,r);return c&&t?c(u,t,n,r):u};t.fnSetData=function(n,t,i){return ot(o)(n,t,i)};"number"!=typeof o&&(n._rowReadObject=!0);n.oFeatures.bSort||(t.bSortable=!1,s.addClass(e.sSortableNone));n=-1!==r.inArray("asc",t.asSorting);f=-1!==r.inArray("desc",t.asSorting);!t.bSortable||!n&&!f?(t.sSortingClass=e.sSortableNone,t.sSortingClassJUI=""):n&&!f?(t.sSortingClass=e.sSortableAsc,t.sSortingClassJUI=e.sSortJUIAscAllowed):!n&&f?(t.sSortingClass=e.sSortableDesc,t.sSortingClassJUI=e.sSortJUIDescAllowed):(t.sSortingClass=e.sSortable,t.sSortingClassJUI=e.sSortJUI)}function at(n){var t,i,r;if(!1!==n.oFeatures.bAutoWidth)for(t=n.aoColumns,pr(n),i=0,r=t.length;i<r;i++)t[i].nTh.style.width=t[i].sWidth;t=n.oScroll;(""!==t.sY||""!==t.sX)&&ni(n);s(n,null,"column-sizing",[n])}function ei(n,t){var i=pt(n,"bVisible");return"number"==typeof i[t]?i[t]:null}function vt(n,t){var i=pt(n,"bVisible"),i=r.inArray(t,i);return-1!==i?i:null}function yt(n){return pt(n,"bVisible").length}function pt(n,t){var i=[];return r.map(n.aoColumns,function(n,r){n[t]&&i.push(r)}),i}function er(n){for(var c=n.aoColumns,p=n.aoData,h=u.ext.type.detect,e,v,r,y,t,o,s,f=0,l=c.length;f<l;f++)if(t=c[f],s=[],!t.sType&&t._sManualType)t.sType=t._sManualType;else if(!t.sType){for(e=0,v=h.length;e<v;e++){for(r=0,y=p.length;r<y;r++){if(s[r]===i&&(s[r]=a(n,r,f,"type")),o=h[e](s[r],n),!o&&e!==h.length-1)break;if("html"===o)break}if(o){t.sType=o;break}}t.sType||(t.sType="string")}}function wu(n,t,u,f){var s,o,a,c,v,h,l=n.aoColumns,e;if(t)for(s=t.length-1;0<=s;s--)for(h=t[s],e=h.targets!==i?h.targets:h.aTargets,r.isArray(e)||(e=[e]),o=0,a=e.length;o<a;o++)if("number"==typeof e[o]&&0<=e[o]){for(;l.length<=e[o];)fr(n);f(e[o],h)}else if("number"==typeof e[o]&&0>e[o])f(l.length+e[o],h);else if("string"==typeof e[o])for(c=0,v=l.length;c<v;c++)("_all"==e[o]||r(l[c].nTh).hasClass(e[o]))&&f(c,h);if(u)for(s=0,n=u.length;s<n;s++)f(s,u[s])}function rt(n,t,i,f){var o=n.aoData.length,e=r.extend(!0,{},u.models.oRow,{src:i?"dom":"data"});e._aData=t;n.aoData.push(e);for(var t=n.aoColumns,e=0,s=t.length;e<s;e++)i&&or(n,o,e,a(n,o,e)),t[e].sType=null;return n.aiDisplayMaster.push(o),(i||!n.oFeatures.bDeferRender)&&cr(n,o,i,f),o}function oi(n,t){var i;return t instanceof r||(t=r(t)),t.map(function(t,r){return i=ci(n,r),rt(n,i.data,r,i.cells)})}function a(n,t,r,u){var s=n.iDraw,f=n.aoColumns[r],o=n.aoData[t]._aData,e=f.sDefaultContent,r=f.fnGetData(o,u,{settings:n,row:t,col:r});if(r===i)return n.iDrawError!=s&&null===e&&(tt(n,0,"Requested unknown parameter "+("function"==typeof f.mData?"{function}":"'"+f.mData+"'")+" for row "+t,4),n.iDrawError=s),e;if((r===o||null===r)&&null!==e)r=e;else if("function"==typeof r)return r.call(o);return null===r&&"display"==u?"":r}function or(n,t,i,r){n.aoColumns[i].fnSetData(n.aoData[t]._aData,r,{settings:n,row:t,col:i})}function sr(n){return r.map(n.match(/(\\.|[^\.])+/g),function(n){return n.replace(/\\./g,".")})}function et(n){var t,u;return r.isPlainObject(n)?(t={},r.each(n,function(n,i){i&&(t[n]=et(i))}),function(n,r,u,f){var e=t[r]||t._;return e!==i?e(n,r,u,f):n}):null===n?function(n){return n}:"function"==typeof n?function(t,i,r,u){return n(t,i,r,u)}:"string"==typeof n&&(-1!==n.indexOf(".")||-1!==n.indexOf("[")||-1!==n.indexOf("("))?(u=function(n,t,r){var o,e,f,s;if(""!==r)for(e=sr(r),f=0,s=e.length;f<s;f++){if(r=e[f].match(ii),o=e[f].match(ct),r){for(e[f]=e[f].replace(ii,""),""!==e[f]&&(n=n[e[f]]),o=[],e.splice(0,f+1),e=e.join("."),f=0,s=n.length;f<s;f++)o.push(u(n[f],t,e));n=r[0].substring(1,r[0].length-1);n=""===n?o:o.join(n);break}else if(o){e[f]=e[f].replace(ct,"");n=n[e[f]]();continue}if(null===n||n[e[f]]===i)return i;n=n[e[f]]}return n},function(t,i){return u(t,i,n)}):function(t){return t[n]}}function ot(n){if(r.isPlainObject(n))return ot(n._);if(null===n)return function(){};if("function"==typeof n)return function(t,i,r){n(t,"set",i,r)};if("string"==typeof n&&(-1!==n.indexOf(".")||-1!==n.indexOf("[")||-1!==n.indexOf("("))){var t=function(n,r,u){var u=sr(u),e,s,o,f,h;for(e=u[u.length-1],f=0,h=u.length-1;f<h;f++){if(s=u[f].match(ii),o=u[f].match(ct),s){for(u[f]=u[f].replace(ii,""),n[u[f]]=[],e=u.slice(),e.splice(0,f+1),s=e.join("."),o=0,h=r.length;o<h;o++)e={},t(e,r[o],s),n[u[f]].push(e);return}o&&(u[f]=u[f].replace(ct,""),n=n[u[f]](r));(null===n[u[f]]||n[u[f]]===i)&&(n[u[f]]={});n=n[u[f]]}e.match(ct)?n[e.replace(ct,"")](r):n[e.replace(ii,"")]=r};return function(i,r){return t(i,r,n)}}return function(t,i){t[n]=i}}function hr(n){return b(n.aoData,"_aData")}function si(n){n.aoData.length=0;n.aiDisplayMaster.length=0;n.aiDisplay.length=0}function hi(n,t,r){for(var f=-1,u=0,e=n.length;u<e;u++)n[u]==t?f=u:n[u]>t&&n[u]--;-1!=f&&r===i&&n.splice(f,1)}function wt(n,t,r,u){var f=n.aoData[t],s,e=function(i,r){for(;i.childNodes.length;)i.removeChild(i.firstChild);i.innerHTML=a(n,t,r,"display")},o;if("dom"!==r&&(r&&"auto"!==r||"dom"!==f.src)){if(o=f.anCells,o)if(u!==i)e(o[u],u);else for(r=0,s=o.length;r<s;r++)e(o[r],r)}else f._aData=ci(n,f,u,u===i?i:f._aData).data;if(f._aSortData=null,f._aFilterData=null,e=n.aoColumns,u!==i)e[u].sType=null;else{for(r=0,s=e.length;r<s;r++)e[r].sType=null;lr(f)}}function ci(n,t,u,f){var s=[],e=t.firstChild,o,h=0,c,v=n.aoColumns,a=n._rowReadObject,f=f||a?{}:[],l=function(n,t){if("string"==typeof n){var i=n.indexOf("@");-1!==i&&(i=n.substring(i+1),ot(n)(f,t.getAttribute(i)))}},n=function(n){(u===i||u===h)&&(o=v[h],c=r.trim(n.innerHTML),o&&o._bAttrSrc?(ot(o.mData._)(f,c),l(o.mData.sort,n),l(o.mData.type,n),l(o.mData.filter,n)):a?(o._setter||(o._setter=ot(o.mData)),o._setter(f,c)):f[h]=c);h++};if(e)for(;e;)t=e.nodeName.toUpperCase(),("TD"==t||"TH"==t)&&(n(e),s.push(e)),e=e.nextSibling;else for(s=t.anCells,e=0,t=s.length;e<t;e++)n(s[e]);return{data:f,cells:s}}function cr(n,i,r,u){var h=n.aoData[i],l=h._aData,v=[],c,o,f,e,y;if(null===h.nTr){for(c=r||t.createElement("tr"),h.nTr=c,h.anCells=v,c._DT_RowIndex=i,lr(h),e=0,y=n.aoColumns.length;e<y;e++)f=n.aoColumns[e],o=r?u[e]:t.createElement(f.sCellType),v.push(o),(!r||f.mRender||f.mData!==e)&&(o.innerHTML=a(n,i,e,"display")),f.sClass&&(o.className+=" "+f.sClass),f.bVisible&&!r?c.appendChild(o):!f.bVisible&&r&&o.parentNode.removeChild(o),f.fnCreatedCell&&f.fnCreatedCell.call(n.oInstance,o,a(n,i,e),l,i,e);s(n,"aoRowCreatedCallback",null,[c,l,i])}h.nTr.setAttribute("role","row")}function lr(n){var i=n.nTr,t=n._aData,u;i&&(t.DT_RowId&&(i.id=t.DT_RowId),t.DT_RowClass&&(u=t.DT_RowClass.split(" "),n.__rowc=n.__rowc?uu(n.__rowc.concat(u)):u,r(i).removeClass(n.__rowc.join(" ")).addClass(t.DT_RowClass)),t.DT_RowAttr&&r(i).attr(t.DT_RowAttr),t.DT_RowData&&r(i).data(t.DT_RowData))}function bu(n){var i,e,u,c,t,f=n.nTHead,l=n.nTFoot,o=0===r("th, td",f).length,s=n.oClasses,h=n.aoColumns;for(o&&(c=r("<tr/>").appendTo(f)),i=0,e=h.length;i<e;i++)t=h[i],u=r(t.nTh).addClass(t.sClass),o&&u.appendTo(c),n.oFeatures.bSort&&(u.addClass(t.sSortingClass),!1!==t.bSortable&&(u.attr("tabindex",n.iTabIndex).attr("aria-controls",n.sTableId),br(n,t.nTh,i))),t.sTitle!=u.html()&&u.html(t.sTitle),gr(n,"header")(n,u,t,s);if(o&&kt(n.aoHeader,f),r(f).find(">tr").attr("role","row"),r(f).find(">tr>th, >tr>td").addClass(s.sHeaderTH),r(l).find(">tr>th, >tr>td").addClass(s.sFooterTH),null!==l)for(n=n.aoFooter[0],i=0,e=n.length;i<e;i++)t=h[i],t.nTf=n[i].cell,t.sClass&&r(t.nTf).addClass(t.sClass)}function bt(n,t,u){var f,l,e,o=[],c=[],s=n.aoColumns.length,h;if(t){for(u===i&&(u=!1),f=0,l=t.length;f<l;f++){for(o[f]=t[f].slice(),o[f].nTr=t[f].nTr,e=s-1;0<=e;e--)n.aoColumns[e].bVisible||u||o[f].splice(e,1);c.push([])}for(f=0,l=o.length;f<l;f++){if(n=o[f].nTr)for(;e=n.firstChild;)n.removeChild(e);for(e=0,t=o[f].length;e<t;e++)if(h=s=1,c[f][e]===i){for(n.appendChild(o[f][e].cell),c[f][e]=1;o[f+s]!==i&&o[f][e].cell==o[f+s][e].cell;)c[f+s][e]=1,s++;for(;o[f][e+h]!==i&&o[f][e].cell==o[f][e+h].cell;){for(u=0;u<s;u++)c[f+u][e+h]=1;h++}r(o[f][e].cell).attr("rowspan",s).attr("colspan",h)}}}}function ut(n){var l=s(n,"aoPreDrawCallback","preDraw",[n]),t,v,e,o,p;if(-1!==r.inArray(!1,l))w(n,!1);else{var l=[],f=0,h=n.asStripeClasses,b=h.length,c=n.oLanguage,t=n.iInitDisplayStart,u="ssp"==y(n),a=n.aiDisplay;if(n.bDrawing=!0,t!==i&&-1!==t&&(n._iDisplayStart=u?t:t>=n.fnRecordsDisplay()?0:t,n.iInitDisplayStart=-1),t=n._iDisplayStart,v=n.fnDisplayEnd(),n.bDeferLoading)n.bDeferLoading=!1,n.iDraw++,w(n,!1);else if(u){if(!n.bDestroying&&!du(n))return}else n.iDraw++;if(0!==a.length)for(c=u?n.aoData.length:v,u=u?0:t;u<c;u++)e=a[u],o=n.aoData[e],null===o.nTr&&cr(n,e),e=o.nTr,0!==b&&(p=h[f%b],o._sRowStripe!=p&&(r(e).removeClass(o._sRowStripe).addClass(p),o._sRowStripe=p)),s(n,"aoRowCallback",null,[e,o._aData,f,u]),l.push(e),f++;else f=c.sZeroRecords,1==n.iDraw&&"ajax"==y(n)?f=c.sLoadingRecords:c.sEmptyTable&&0===n.fnRecordsTotal()&&(f=c.sEmptyTable),l[0]=r("<tr/>",{"class":b?h[0]:""}).append(r("<td />",{valign:"top",colSpan:yt(n),"class":n.oClasses.sRowEmpty}).html(f))[0];s(n,"aoHeaderCallback","header",[r(n.nTHead).children("tr")[0],hr(n),t,v,a]);s(n,"aoFooterCallback","footer",[r(n.nTFoot).children("tr")[0],hr(n),t,v,a]);h=r(n.nTBody);h.children().detach();h.append(r(l));s(n,"aoDrawCallback","draw",[n]);n.bSorted=!1;n.bFiltered=!1;n.bDrawing=!1}}function ft(n,t){var i=n.oFeatures,r=i.bFilter;i.bSort&&ne(n);r?dt(n,n.oPreviousSearch):n.aiDisplay=n.aiDisplayMaster.slice();!0!==t&&(n._iDisplayStart=0);n._drawHold=t;ut(n);n._drawHold=!1}function ku(n){var v=n.oClasses,y=r(n.nTable),y=r("<div/>").insertBefore(y),l=n.oFeatures,c=r("<div/>",{id:n.sTableId+"_wrapper","class":v.sWrapper+(n.nTFoot?"":" "+v.sNoFooter)}),a,e,i,t,o,f,s,h;for(n.nHolding=y[0],n.nTableWrapper=c[0],n.nTableReinsertBefore=n.nTable.nextSibling,a=n.sDom.split(""),h=0;h<a.length;h++){if(e=null,i=a[h],"<"==i){if(t=r("<div/>")[0],o=a[h+1],"'"==o||'"'==o){for(f="",s=2;a[h+s]!=o;)f+=a[h+s],s++;"H"==f?f=v.sJUIHeader:"F"==f&&(f=v.sJUIFooter);-1!=f.indexOf(".")?(o=f.split("."),t.id=o[0].substr(1,o[0].length-1),t.className=o[1]):"#"==f.charAt(0)?t.id=f.substr(1,f.length-1):t.className=f;h+=s}c.append(t);c=r(t)}else if(">"==i)c=c.parent();else if("l"==i&&l.bPaginate&&l.bLengthChange)e=af(n);else if("f"==i&&l.bFilter)e=tf(n);else if("r"==i&&l.bProcessing)e=yf(n);else if("t"==i)e=pf(n);else if("i"==i&&l.bInfo)e=hf(n);else if("p"==i&&l.bPaginate)e=vf(n);else if(0!==u.ext.feature.length)for(t=u.ext.feature,s=0,o=t.length;s<o;s++)if(i==t[s].cFeature){e=t[s].fnInit(n);break}e&&(t=n.aanFeatures,t[i]||(t[i]=[]),t[i].push(e),c.append(e))}y.replaceWith(c)}function kt(n,t){var c=r(t).children("tr"),l,u,i,f,s,h,a,e,o,v;for(n.splice(0,n.length),i=0,h=c.length;i<h;i++)n.push([]);for(i=0,h=c.length;i<h;i++)for(l=c[i],u=l.firstChild;u;){if("TD"==u.nodeName.toUpperCase()||"TH"==u.nodeName.toUpperCase()){for(e=1*u.getAttribute("colspan"),o=1*u.getAttribute("rowspan"),e=!e||0===e||1===e?1:e,o=!o||0===o||1===o?1:o,f=0,s=n[i];s[f];)f++;for(a=f,v=1===e?!0:!1,s=0;s<e;s++)for(f=0;f<o;f++)n[i+f][a+s]={cell:u,unique:v},n[i+f].nTr=l}u=u.nextSibling}}function li(n,t,i){var u=[],t,f,r,e;for(i||(i=n.aoHeader,t&&(i=[],kt(i,t))),t=0,f=i.length;t<f;t++)for(r=0,e=i[t].length;r<e;r++)!i[t][r].unique||u[r]&&n.bSortCellsTop||(u[r]=i[t][r].cell);return u}function ai(n,t,i){var e,c,f,t;s(n,"aoServerParams","serverParams",[t]);t&&r.isArray(t)&&(e={},c=/(.*?)\[\]$/,r.each(t,function(n,t){var i=t.name.match(c);i?(i=i[0],e[i]||(e[i]=[]),e[i].push(t.value)):e[t.name]=t.value}),t=e);var o,u=n.ajax,l=n.oInstance,h=function(t){s(n,null,"xhr",[n,t,n.jqXHR]);i(t)};r.isPlainObject(u)&&u.data&&(o=u.data,f=r.isFunction(o)?o(t,n):o,t=r.isFunction(o)&&f?f:r.extend(!0,t,f),delete u.data);f={data:t,success:function(t){var i=t.error||t.sError;i&&tt(n,0,i);n.json=t;h(t)},dataType:"json",cache:!1,type:n.sServerMethod,error:function(t,i){var u=s(n,null,"xhr",[n,null,n.jqXHR]);-1===r.inArray(!0,u)&&("parsererror"==i?tt(n,0,"Invalid JSON response",1):4===t.readyState&&tt(n,0,"Ajax error",7));w(n,!1)}};n.oAjaxData=t;s(n,null,"preXhr",[n,t]);n.fnServerData?n.fnServerData.call(l,n.sAjaxSource,r.map(t,function(n,t){return{name:t,value:n}}),h,n):n.sAjaxSource||"string"==typeof u?n.jqXHR=r.ajax(r.extend(f,{url:u||n.sAjaxSource})):r.isFunction(u)?n.jqXHR=u.call(l,t,h,n):(n.jqXHR=r.ajax(r.extend(f,u)),u.data=o)}function du(n){return n.bAjaxDataGet?(n.iDraw++,w(n,!0),ai(n,gu(n),function(t){nf(n,t)}),!1):!0}function gu(n){var e=n.aoColumns,v=e.length,s=n.oFeatures,l=n.oPreviousSearch,p=n.aoPreSearchCols,i,a=[],o,f,h,y=st(n),t,c;for(i=n._iDisplayStart,o=!1!==s.bPaginate?n._iDisplayLength:-1,t=function(n,t){a.push({name:n,value:t})},t("sEcho",n.iDraw),t("iColumns",v),t("sColumns",b(e,"sName").join(",")),t("iDisplayStart",i),t("iDisplayLength",o),c={draw:n.iDraw,columns:[],order:[],start:i,length:o,search:{value:l.sSearch,regex:l.bRegex}},i=0;i<v;i++)f=e[i],h=p[i],o="function"==typeof f.mData?"function":f.mData,c.columns.push({data:o,name:f.sName,searchable:f.bSearchable,orderable:f.bSortable,search:{value:h.sSearch,regex:h.bRegex}}),t("mDataProp_"+i,o),s.bFilter&&(t("sSearch_"+i,h.sSearch),t("bRegex_"+i,h.bRegex),t("bSearchable_"+i,f.bSearchable)),s.bSort&&t("bSortable_"+i,f.bSortable);return s.bFilter&&(t("sSearch",l.sSearch),t("bRegex",l.bRegex)),s.bSort&&(r.each(y,function(n,i){c.order.push({column:i.col,dir:i.dir});t("iSortCol_"+n,i.col);t("sSortDir_"+n,i.dir)}),t("iSortingCols",y.length)),e=u.ext.legacy.ajax,null===e?n.sAjaxSource?a:c:e?a:c}function nf(n,t){var f=vi(n,t),r=t.sEcho!==i?t.sEcho:t.draw,u=t.iTotalRecords!==i?t.iTotalRecords:t.recordsTotal,e=t.iTotalDisplayRecords!==i?t.iTotalDisplayRecords:t.recordsFiltered;if(r){if(1*r<n.iDraw)return;n.iDraw=1*r}for(si(n),n._iRecordsTotal=parseInt(u,10),n._iRecordsDisplay=parseInt(e,10),r=0,u=f.length;r<u;r++)rt(n,f[r]);n.aiDisplay=n.aiDisplayMaster.slice();n.bAjaxDataGet=!1;ut(n);n._bInitComplete||pi(n,t);n.bAjaxDataGet=!0;w(n,!1)}function vi(n,t){var u=r.isPlainObject(n.ajax)&&n.ajax.dataSrc!==i?n.ajax.dataSrc:n.sAjaxDataProp;return"data"===u?t.aaData||t[u]:""!==u?et(u)(t):t}function tf(n){var u=n.oClasses,s=n.sTableId,h=n.oLanguage,i=n.oPreviousSearch,o=n.aanFeatures,f='<input type="search" class="'+u.sFilterInput+'"/>',e=h.sSearch,e=e.match(/_INPUT_/)?e.replace("_INPUT_",f):e+f,u=r("<div/>",{id:o.f?null:s+"_filter","class":u.sFilter}).append(r("<label/>").append(e)),o=function(){var t=this.value?this.value:"";t!=i.sSearch&&(dt(n,{sSearch:t,bRegex:i.bRegex,bSmart:i.bSmart,bCaseInsensitive:i.bCaseInsensitive}),n._iDisplayStart=0,ut(n))},f=null!==n.searchDelay?n.searchDelay:"ssp"===y(n)?400:0,c=r("input",u).val(i.sSearch).attr("placeholder",h.sSearchPlaceholder).bind("keyup.DT search.DT input.DT paste.DT cut.DT",f?wi(o,f):o).bind("keypress.DT",function(n){if(13==n.keyCode)return!1}).attr("aria-controls",s);r(n.nTable).on("search.dt.DT",function(r,u){if(n===u)try{c[0]!==t.activeElement&&c.val(i.sSearch)}catch(f){}});return u[0]}function dt(n,t,r){var f=n.oPreviousSearch,u=n.aoPreSearchCols,e=function(n){f.sSearch=n.sSearch;f.bRegex=n.bRegex;f.bSmart=n.bSmart;f.bCaseInsensitive=n.bCaseInsensitive};if(er(n),"ssp"!=y(n)){for(ff(n,t.sSearch,r,t.bEscapeRegex!==i?!t.bEscapeRegex:t.bRegex,t.bSmart,t.bCaseInsensitive),e(t),t=0;t<u.length;t++)uf(n,u[t].sSearch,t,u[t].bEscapeRegex!==i?!u[t].bEscapeRegex:u[t].bRegex,u[t].bSmart,u[t].bCaseInsensitive);rf(n)}else e(t);n.bFiltered=!0;s(n,null,"search",[n])}function rf(n){for(var o=u.ext.search,t=n.aiDisplay,f,i,e=0,h=o.length;e<h;e++){for(var s=[],r=0,c=t.length;r<c;r++)i=t[r],f=n.aoData[i],o[e](n,f._aFilterData,i,f._aData,r)&&s.push(i);t.length=0;t.push.apply(t,s)}}function uf(n,t,i,r,u,f){if(""!==t)for(var e=n.aiDisplay,r=ar(t,r,u,f),u=e.length-1;0<=u;u--)t=n.aoData[e[u]]._aFilterData[i],r.test(t)||e.splice(u,1)}function ff(n,t,i,r,f,e){var r=ar(t,r,f,e),f=n.oPreviousSearch.sSearch,e=n.aiDisplayMaster,o;if(0!==u.ext.search.length&&(i=!0),o=ef(n),0>=t.length)n.aiDisplay=e.slice();else for((o||i||f.length>t.length||0!==t.indexOf(f)||n.bSorted)&&(n.aiDisplay=e.slice()),t=n.aiDisplay,i=t.length-1;0<=i;i--)r.test(n.aoData[t[i]]._sFilterRow)||t.splice(i,1)}function ar(n,t,i,u){return n=t?n:yi(n),i&&(n="^(?=.*?"+r.map(n.match(/"[^"]+"|[^ ]+/g)||[""],function(n){if('"'===n.charAt(0))var t=n.match(/^"(.*)"$/),n=t?t[1]:n;return n.replace('"',"")}).join(")(?=.*?")+").*$"),RegExp(n,u?"i":"")}function yi(n){return n.replace(be,"\\$1")}function ef(n){var s=n.aoColumns,i,r,f,h,c,e,t,o,l=u.ext.type.search;for(i=!1,r=0,h=n.aoData.length;r<h;r++)if(o=n.aoData[r],!o._aFilterData){for(e=[],f=0,c=s.length;f<c;f++)i=s[f],i.bSearchable?(t=a(n,r,f,"filter"),l[i.sType]&&(t=l[i.sType](t)),null===t&&(t=""),"string"!=typeof t&&t.toString&&(t=t.toString())):t="",t.indexOf&&-1!==t.indexOf("&")&&(nr.innerHTML=t,t=ke?nr.textContent:nr.innerText),t.replace&&(t=t.replace(/[\r\n]/g,"")),e.push(t);o._aFilterData=e;o._sFilterRow=e.join("  ");i=!0}return i}function of(n){return{search:n.sSearch,smart:n.bSmart,regex:n.bRegex,caseInsensitive:n.bCaseInsensitive}}function sf(n){return{sSearch:n.search,bSmart:n.smart,bRegex:n.regex,bCaseInsensitive:n.caseInsensitive}}function hf(n){var t=n.sTableId,i=n.aanFeatures.i,u=r("<div/>",{"class":n.oClasses.sInfo,id:i?null:t+"_info"});return i||(n.aoDrawCallback.push({fn:cf,sName:"information"}),u.attr("role","status").attr("aria-live","polite"),r(n.nTable).attr("aria-describedby",t+"_info")),u[0]}function cf(n){var f=n.aanFeatures.i;if(0!==f.length){var t=n.oLanguage,o=n._iDisplayStart+1,s=n.fnDisplayEnd(),e=n.fnRecordsTotal(),u=n.fnRecordsDisplay(),i=u?t.sInfo:t.sInfoEmpty;u!==e&&(i+=" "+t.sInfoFiltered);i+=t.sInfoPostFix;i=lf(n,i);t=t.fnInfoCallback;null!==t&&(i=t.call(n.oInstance,n,o,s,e,u,i));r(f).html(i)}}function lf(n,t){var i=n.fnFormatNumber,u=n._iDisplayStart+1,r=n._iDisplayLength,f=n.fnRecordsDisplay(),e=-1===r;return t.replace(/_START_/g,i.call(n,u)).replace(/_END_/g,i.call(n,n.fnDisplayEnd())).replace(/_MAX_/g,i.call(n,n.fnRecordsTotal())).replace(/_TOTAL_/g,i.call(n,f)).replace(/_PAGE_/g,i.call(n,e?1:Math.ceil(u/r))).replace(/_PAGES_/g,i.call(n,e?1:Math.ceil(f/r)))}function gt(n){var t,r,f=n.iInitDisplayStart,i=n.aoColumns,u;if(r=n.oFeatures,n.bInitialised){for(ku(n),bu(n),bt(n,n.aoHeader),bt(n,n.aoFooter),w(n,!0),r.bAutoWidth&&pr(n),t=0,r=i.length;t<r;t++)u=i[t],u.sWidth&&(u.nTh.style.width=e(u.sWidth));ft(n);i=y(n);"ssp"!=i&&("ajax"==i?ai(n,[],function(i){var r=vi(n,i);for(t=0;t<r.length;t++)rt(n,r[t]);n.iInitDisplayStart=f;ft(n);w(n,!1);pi(n,i)},n):(w(n,!1),pi(n)))}else setTimeout(function(){gt(n)},200)}function pi(n,t){n._bInitComplete=!0;t&&at(n);s(n,"aoInitComplete","init",[n,t])}function vr(n,t){var i=parseInt(t,10);n._iDisplayLength=i;dr(n);s(n,null,"length",[n,i])}function af(n){for(var i,o=n.oClasses,e=n.sTableId,t=n.aLengthMenu,u=r.isArray(t[0]),s=u?t[0]:t,t=u?t[1]:t,u=r("<select/>",{name:e+"_length","aria-controls":e,"class":o.sLengthSelect}),f=0,h=s.length;f<h;f++)u[0][f]=new Option(t[f],s[f]);return i=r("<div><label/><\/div>").addClass(o.sLength),n.aanFeatures.l||(i[0].id=e+"_length"),i.children().append(n.oLanguage.sLengthMenu.replace("_MENU_",u[0].outerHTML)),r("select",i).val(n._iDisplayLength).bind("change.DT",function(){vr(n,r(this).val());ut(n)}),r(n.nTable).bind("length.dt.DT",function(t,u,f){n===u&&r("select",i).val(f)}),i[0]}function vf(n){var t=n.sPaginationType,i=u.ext.pager[t],e="function"==typeof i,o=function(n){ut(n)},t=r("<div/>").addClass(n.oClasses.sPaging+t)[0],f=n.aanFeatures;return e||i.fnInit(n,t,o),f.p||(t.id=n.sTableId+"_paginate",n.aoDrawCallback.push({fn:function(n){if(e)for(var u=n._iDisplayStart,r=n._iDisplayLength,s=n.fnRecordsDisplay(),t=-1===r,u=t?0:Math.ceil(u/r),r=t?1:Math.ceil(s/r),s=i(u,r),t=0,h=f.p.length;t<h;t++)gr(n,"pageButton")(n,f.p[t],t,s,u,r);else i.fnUpdate(n,o)},sName:"pagination"})),t}function yr(n,t,i){var r=n._iDisplayStart,u=n._iDisplayLength,f=n.fnRecordsDisplay();return 0===f||-1===u?r=0:"number"==typeof t?(r=t*u,r>f&&(r=0)):"first"==t?r=0:"previous"==t?(r=0<=u?r-u:0,0>r&&(r=0)):"next"==t?r+u<f&&(r+=u):"last"==t?r=Math.floor((f-1)/u)*u:tt(n,0,"Unknown paging action: "+t,5),t=n._iDisplayStart!==r,n._iDisplayStart=r,t&&(s(n,null,"page",[n]),i&&ut(n)),t}function yf(n){return r("<div/>",{id:n.aanFeatures.r?null:n.sTableId+"_processing","class":n.oClasses.sProcessing}).html(n.oLanguage.sProcessing).insertBefore(n.nTable)[0]}function w(n,t){n.oFeatures.bProcessing&&r(n.aanFeatures.r).css("display",t?"block":"none");s(n,null,"processing",[n,t])}function pf(n){var t=r(n.nTable),i;if(t.attr("role","grid"),i=n.oScroll,""===i.sX&&""===i.sY)return n.nTable;var u=i.sX,h=i.sY,f=n.oClasses,s=t.children("caption"),c=s.length?s[0]._captionSide:null,v=r(t[0].cloneNode(!1)),y=r(t[0].cloneNode(!1)),o=t.children("tfoot");i.sX&&"100%"===t.attr("width")&&t.removeAttr("width");o.length||(o=null);i=r("<div/>",{"class":f.sScrollWrapper}).append(r("<div/>",{"class":f.sScrollHead}).css({overflow:"hidden",position:"relative",border:0,width:u?u?e(u):null:"100%"}).append(r("<div/>",{"class":f.sScrollHeadInner}).css({"box-sizing":"content-box",width:i.sXInner||"100%"}).append(v.removeAttr("id").css("margin-left",0).append("top"===c?s:null).append(t.children("thead"))))).append(r("<div/>",{"class":f.sScrollBody}).css({overflow:"auto",height:h?e(h):null,width:u?e(u):null}).append(t));o&&i.append(r("<div/>",{"class":f.sScrollFoot}).css({overflow:"hidden",border:0,width:u?u?e(u):null:"100%"}).append(r("<div/>",{"class":f.sScrollFootInner}).append(y.removeAttr("id").css("margin-left",0).append("bottom"===c?s:null).append(t.children("tfoot")))));var t=i.children(),l=t[0],f=t[1],a=o?t[2]:null;if(u)r(f).on("scroll.DT",function(){var n=this.scrollLeft;l.scrollLeft=n;o&&(a.scrollLeft=n)});return n.nScrollHead=l,n.nScrollBody=f,n.nScrollFoot=a,n.aoDrawCallback.push({fn:ni,sName:"scrolling"}),i[0]}function ni(n){var i=n.oScroll,b=i.sX,it=i.sXInner,k=i.sY,o=i.iBarWidth,u=r(n.nScrollHead),vt=u[0].style,t=u.children("div"),st=t[0].style,d=t.children("table"),t=n.nScrollBody,s=r(t),v=t.style,rt=r(n.nScrollFoot).children("div"),yt=rt.children("table"),ut=r(n.nTHead),f=r(n.nTable),y=f[0],a=y.style,h=n.nTFoot?r(n.nTFoot):null,p=n.oBrowser,ft=p.bScrollOversize,ht,c,w,l,nt,et=[],ot=[],ct=[],lt,at=function(n){n=n.style;n.paddingTop="0";n.paddingBottom="0";n.borderTopWidth="0";n.borderBottomWidth="0";n.height=0};f.children("thead, tfoot").remove();nt=ut.clone().prependTo(f);ht=ut.find("tr");w=nt.find("tr");nt.find("th, td").removeAttr("tabindex");h&&(l=h.clone().prependTo(f),c=h.find("tr"),l=l.find("tr"));b||(v.width="100%",u[0].style.width="100%");r.each(li(n,nt),function(t,i){lt=ei(n,t);i.style.width=n.aoColumns[lt].sWidth});h&&g(function(n){n.style.width=""},l);i.bCollapse&&""!==k&&(v.height=s[0].offsetHeight+ut[0].offsetHeight+"px");u=f.outerWidth();""===b?(a.width="100%",ft&&(f.find("tbody").height()>t.offsetHeight||"scroll"==s.css("overflow-y")))&&(a.width=e(f.outerWidth()-o)):""!==it?a.width=e(it):u==s.width()&&s.height()<f.height()?(a.width=e(u-o),f.outerWidth()>u-o&&(a.width=e(u))):a.width=e(u);u=f.outerWidth();g(at,w);g(function(n){ct.push(n.innerHTML);et.push(e(r(n).css("width")))},w);g(function(n,t){n.style.width=et[t]},ht);r(w).height(0);h&&(g(at,l),g(function(n){ot.push(e(r(n).css("width")))},l),g(function(n,t){n.style.width=ot[t]},c),r(l).height(0));g(function(n,t){n.innerHTML='<div class="dataTables_sizing" style="height:0;overflow:hidden;">'+ct[t]+"<\/div>";n.style.width=et[t]},w);h&&g(function(n,t){n.innerHTML="";n.style.width=ot[t]},l);f.outerWidth()<u?(c=t.scrollHeight>t.offsetHeight||"scroll"==s.css("overflow-y")?u+o:u,ft&&(t.scrollHeight>t.offsetHeight||"scroll"==s.css("overflow-y"))&&(a.width=e(c-o)),(""===b||""!==it)&&tt(n,1,"Possible column misalignment",6)):c="100%";v.width=e(c);vt.width=e(c);h&&(n.nScrollFoot.style.width=e(c));!k&&ft&&(v.height=e(y.offsetHeight+o));k&&i.bCollapse&&(v.height=e(k),i=b&&y.offsetWidth>t.offsetWidth?o:0,y.offsetHeight<t.offsetHeight&&(v.height=e(y.offsetHeight+i)));i=f.outerWidth();d[0].style.width=e(i);st.width=e(i);d=f.height()>t.clientHeight||"scroll"==s.css("overflow-y");p="padding"+(p.bScrollbarLeft?"Left":"Right");st[p]=d?o+"px":"0px";h&&(yt[0].style.width=e(i),rt[0].style.width=e(i),rt[0].style[p]=d?o+"px":"0px");s.scroll();(n.bSorted||n.bFiltered)&&!n._drawHold&&(t.scrollTop=0)}function g(n,t,i){for(var e=0,u=0,o=t.length,r,f;u<o;){for(r=t[u].firstChild,f=i?i[u].firstChild:null;r;)1===r.nodeType&&(i?n(r,f,e):n(r,e),e++),r=r.nextSibling,f=i?f.nextSibling:null;u++}}function pr(t){var s=t.nTable,h=t.aoColumns,o=t.oScroll,c=o.sY,y=o.sX,a=o.sXInner,u=h.length,o=pt(t,"bVisible"),l=r("th",t.nTHead),v=s.getAttribute("width"),p=s.parentNode,w=!1,i,f,b;for((i=s.style.width)&&-1!==i.indexOf("%")&&(v=i),i=0;i<o.length;i++)f=h[o[i]],null!==f.sWidth&&(f.sWidth=wf(f.sWidthOrig,p),w=!0);if(w||y||c||u!=yt(t)||u!=l.length){for(u=r(s).clone().css("visibility","hidden").removeAttr("id"),u.find("tbody tr").remove(),b=r("<tr/>").appendTo(u.find("tbody")),u.find("tfoot th, tfoot td").css("width",""),l=li(t,u.find("thead")[0]),i=0;i<o.length;i++)f=h[o[i]],l[i].style.width=null!==f.sWidthOrig&&""!==f.sWidthOrig?e(f.sWidthOrig):"";if(t.aoData.length)for(i=0;i<o.length;i++)w=o[i],f=h[w],r(kf(t,w)).clone(!1).append(f.sContentPadding).appendTo(b);if(u.appendTo(p),y&&a?u.width(a):y?(u.css("width","auto"),u.width()<p.offsetWidth&&u.width(p.offsetWidth)):c?u.width(p.offsetWidth):v&&u.width(v),bf(t,u[0]),y){for(i=a=0;i<o.length;i++)f=h[o[i]],c=r(l[i]).outerWidth(),a+=null===f.sWidthOrig?c:parseInt(f.sWidth,10)+c-r(l[i]).width();u.width(e(a));s.style.width=e(a)}for(i=0;i<o.length;i++)(f=h[o[i]],c=r(l[i]).width())&&(f.sWidth=e(c));s.style.width=e(u.css("width"));u.remove()}else for(i=0;i<u;i++)h[i].sWidth=e(l.eq(i).width());v&&(s.style.width=e(v));(v||y)&&!t._reszEvt&&(s=function(){r(n).bind("resize.DT-"+t.sInstance,wi(function(){at(t)}))},t.oBrowser.bScrollOversize?setTimeout(s,1e3):s(),t._reszEvt=!0)}function wi(n,t){var u=t!==i?t:200,r,f;return function(){var t=this,e=+new Date,o=arguments;r&&e<r+u?(clearTimeout(f),f=setTimeout(function(){r=i;n.apply(t,o)},u)):(r=e,n.apply(t,o))}}function wf(n,i){if(!n)return 0;var u=r("<div/>").css("width",e(n)).appendTo(i||t.body),f=u[0].offsetWidth;return u.remove(),f}function bf(n,t){var i=n.oScroll;(i.sX||i.sY)&&(i=i.sX?0:i.iBarWidth,t.style.width=e(r(t).outerWidth()-i))}function kf(n,t){var i=df(n,t),u;return 0>i?null:(u=n.aoData[i],u.nTr?u.anCells[t]:r("<td/>").html(a(n,i,t,"display"))[0])}function df(n,t){for(var i,u=-1,f=-1,r=0,e=n.aoData.length;r<e;r++)i=a(n,r,t,"display")+"",i=i.replace(de,""),i.length>u&&(u=i.length,f=r);return f}function e(n){return null===n?"0px":"number"==typeof n?0>n?"0px":n+"px":n.match(/\d$/)?n+"px":n}function gf(){var n=u.__scrollbarWidth,t;return n===i&&(t=r("<p/>").css({position:"absolute",top:0,left:0,width:"100%",height:150,padding:0,overflow:"scroll",visibility:"hidden"}).appendTo("body"),n=t[0].offsetWidth-t[0].clientWidth,u.__scrollbarWidth=n,t.remove()),n}function st(n){var t,o,a=[],h=n.aoColumns,e,s,c,l,f;for(t=n.aaSortingFixed,o=r.isPlainObject(t),f=[],e=function(n){n.length&&!r.isArray(n[0])?f.push(n):f.push.apply(f,n)},r.isArray(t)&&e(t),o&&t.pre&&e(t.pre),e(n.aaSorting),o&&t.post&&e(t.post),n=0;n<f.length;n++)for(l=f[n][0],e=h[l].aDataSort,t=0,o=e.length;t<o;t++)s=e[t],c=h[s].sType||"string",f[n]._idx===i&&(f[n]._idx=r.inArray(f[n][1],h[s].asSorting)),a.push({src:l,col:s,dir:f[n][1],index:f[n]._idx,type:c,formatter:u.ext.type.order[c+"-pre"]});return a}function ne(n){var t,f,r=[],h=u.ext.type.order,e=n.aoData,c=0,s,o=n.aiDisplayMaster,i;for(er(n),i=st(n),t=0,f=i.length;t<f;t++)s=i[t],s.formatter&&c++,ie(n,s.col);if("ssp"!=y(n)&&0!==i.length){for(t=0,f=o.length;t<f;t++)r[o[t]]=t;c===i.length?o.sort(function(n,t){for(var u,f,s,h=i.length,c=e[n]._aSortData,l=e[t]._aSortData,o=0;o<h;o++)if(s=i[o],u=c[s.col],f=l[s.col],u=u<f?-1:u>f?1:0,0!==u)return"asc"===s.dir?u:-u;return u=r[n],f=r[t],u<f?-1:u>f?1:0}):o.sort(function(n,t){for(var u,o,f,c=i.length,l=e[n]._aSortData,a=e[t]._aSortData,s=0;s<c;s++)if(f=i[s],u=l[f.col],o=a[f.col],f=h[f.type+"-"+f.dir]||h["string-"+f.dir],u=f(u,o),0!==u)return u;return u=r[n],o=r[t],u<o?-1:u>o?1:0})}n.bSorted=!0}function te(n){for(var u,f,e,t,o=n.aoColumns,i=st(n),n=n.oLanguage.oAria,r=0,s=o.length;r<s;r++)t=o[r],u=t.asSorting,e=t.sTitle.replace(/<.*?>/g,""),f=t.nTh,f.removeAttribute("aria-sort"),t.bSortable&&(0<i.length&&i[0].col==r?(f.setAttribute("aria-sort","asc"==i[0].dir?"ascending":"descending"),t=u[i[0].index+1]||u[0]):t=u[0],e+="asc"===t?n.sSortAscending:n.sSortDescending),f.setAttribute("aria-label",e)}function wr(n,t,u,f){var e=n.aaSorting,o=n.aoColumns[t].asSorting,s=function(n,t){var u=n._idx;return u===i&&(u=r.inArray(n[1],o)),u+1<o.length?u+1:t?null:0};"number"==typeof e[0]&&(e=n.aaSorting=[e]);u&&n.oFeatures.bSortMulti?(u=r.inArray(t,b(e,"0")),-1!==u?(t=s(e[u],!0),null===t&&1===e.length&&(t=0),null===t?e.splice(u,1):(e[u][1]=o[t],e[u]._idx=t)):(e.push([t,o[0],0]),e[e.length-1]._idx=0)):e.length&&e[0][0]==t?(t=s(e[0]),e.length=1,e[0][1]=o[t],e[0]._idx=t):(e.length=0,e.push([t,o[0]]),e[0]._idx=0);ft(n);"function"==typeof f&&f(n)}function br(n,t,i,r){var u=n.aoColumns[i];kr(t,{},function(t){!1!==u.bSortable&&(n.oFeatures.bProcessing?(w(n,!0),setTimeout(function(){wr(n,i,t.shiftKey,r);"ssp"!==y(n)&&w(n,!1)},0)):wr(n,i,t.shiftKey,r))})}function bi(n){var e=n.aLastSort,o=n.oClasses.sSortColumn,f=st(n),t=n.oFeatures,i,u;if(t.bSort&&t.bSortClasses){for(t=0,i=e.length;t<i;t++)u=e[t].src,r(b(n.aoData,"anCells",u)).removeClass(o+(2>t?t+1:3));for(t=0,i=f.length;t<i;t++)u=f[t].src,r(b(n.aoData,"anCells",u)).addClass(o+(2>t?t+1:3))}n.aLastSort=f}function ie(n,t){var i=n.aoColumns[t],f=u.ext.order[i.sSortDataType],o;f&&(o=f.call(n.oInstance,n,t,vt(n,t)));for(var e,s=u.ext.type.order[i.sType+"-pre"],r=0,h=n.aoData.length;r<h;r++)(i=n.aoData[r],i._aSortData||(i._aSortData=[]),!i._aSortData[t]||f)&&(e=f?o[r]:a(n,r,t,"sort"),i._aSortData[t]=s?s(e):e)}function ki(n){if(n.oFeatures.bStateSave&&!n.bDestroying){var t={time:+new Date,start:n._iDisplayStart,length:n._iDisplayLength,order:r.extend(!0,[],n.aaSorting),search:of(n.oPreviousSearch),columns:r.map(n.aoColumns,function(t,i){return{visible:t.bVisible,search:of(n.aoPreSearchCols[i])}})};s(n,"aoStateSaveParams","stateSaveParams",[n,t]);n.oSavedState=t;n.fnStateSaveCallback.call(n.oInstance,n,t)}}function re(n){var u,o,e=n.aoColumns,t,f;if(n.oFeatures.bStateSave&&(t=n.fnStateLoadCallback.call(n.oInstance,n),t&&t.time&&(u=s(n,"aoStateLoadParams","stateLoadParams",[n,t]),-1===r.inArray(!1,u)&&(u=n.iStateDuration,!(0<u&&t.time<+new Date-1e3*u)&&e.length===t.columns.length)))){for(n.oLoadedState=r.extend(!0,{},t),t.start!==i&&(n._iDisplayStart=t.start,n.iInitDisplayStart=t.start),t.length!==i&&(n._iDisplayLength=t.length),t.order!==i&&(n.aaSorting=[],r.each(t.order,function(t,i){n.aaSorting.push(i[0]>=e.length?[0,i[1]]:i)})),t.search!==i&&r.extend(n.oPreviousSearch,sf(t.search)),u=0,o=t.columns.length;u<o;u++)f=t.columns[u],f.visible!==i&&(e[u].bVisible=f.visible),f.search!==i&&r.extend(n.aoPreSearchCols[u],sf(f.search));s(n,"aoStateLoaded","stateLoaded",[n,t])}}function di(n){var t=u.settings,n=r.inArray(n,b(t,"nTable"));return-1!==n?t[n]:null}function tt(t,i,r,f){if(r="DataTables warning: "+(null!==t?"table id="+t.sTableId+" - ":"")+r,f&&(r+=". For more information about this error, please see http://datatables.net/tn/"+f),i)n.console&&console.log&&console.log(r);else if(i=u.ext,i=i.sErrMode||i.errMode,s(t,null,"error",[t,f,r]),"alert"==i)alert(r);else{if("throw"==i)throw Error(r);"function"==typeof i&&i(t,f,r)}}function k(n,t,u,f){r.isArray(u)?r.each(u,function(i,u){r.isArray(u)?k(n,t,u[0],u[1]):k(n,t,u)}):(f===i&&(f=u),t[u]!==i&&(n[f]=t[u]))}function ue(n,t,i){var f,u;for(u in t)t.hasOwnProperty(u)&&(f=t[u],r.isPlainObject(f)?(r.isPlainObject(n[u])||(n[u]={}),r.extend(!0,n[u],f)):n[u]=i&&"data"!==u&&"aaData"!==u&&r.isArray(f)?f.slice():f);return n}function kr(n,t,i){r(n).bind("click.DT",t,function(t){n.blur();i(t)}).bind("keypress.DT",t,function(n){13===n.which&&(n.preventDefault(),i(n))}).bind("selectstart.DT",function(){return!1})}function v(n,t,i,r){i&&n[t].push({fn:i,sName:r})}function s(n,t,i,u){var f=[];return t&&(f=r.map(n[t].slice().reverse(),function(t){return t.fn.apply(n.oInstance,u)})),null!==i&&(t=r.Event(i+".dt"),r(n.nTable).trigger(t,u),f.push(t.result)),f}function dr(n){var t=n._iDisplayStart,r=n.fnDisplayEnd(),i=n._iDisplayLength;t>=r&&(t=r-i);t-=t%i;(-1===i||0>t)&&(t=0);n._iDisplayStart=t}function gr(n,t){var i=n.renderer,f=u.ext.renderer[t];return r.isPlainObject(i)&&i[t]?f[i[t]]||f._:"string"==typeof i?f[i]||f._:f._}function y(n){return n.oFeatures.bServerSide?"ssp":n.ajax||n.sAjaxSource?"ajax":"dom"}function nu(n,t){var i=[],i=lu.numbers_length,r=Math.floor(i/2);return t<=i?i=ht(0,t):n<=r?(i=ht(0,i-2),i.push("ellipsis"),i.push(t-1)):(n>=t-1-r?i=ht(t-(i-2),t):(i=ht(n-r+2,n+r-1),i.push("ellipsis"),i.push(t-1)),i.splice(0,0,"ellipsis"),i.splice(0,0,0)),i.DT_el="span",i}function fe(n){r.each({num:function(t){return ui(t,n)},"num-fmt":function(t){return ui(t,n,iu)},"html-num":function(t){return ui(t,n,gi)},"html-num-fmt":function(t){return ui(t,n,gi,iu)}},function(t,i){c.type.order[t+n+"-pre"]=i;t.match(/^html\-/)&&(c.type.search[t+n]=c.type.search.html)})}function ee(n){return function(){var t=[di(this[u.ext.iApiIndex])].concat(Array.prototype.slice.call(arguments));return u.ext.internal[n].apply(this,t)}}var u,c,o,f,h,tu={},oe=/[\r\n]/g,gi=/<.*?>/g,pe=/^[\w\+\-]/,we=/[\w\+\-]$/,be=RegExp("(\\/|\\.|\\*|\\+|\\?|\\||\\(|\\)|\\[|\\]|\\{|\\}|\\\\|\\$|\\^|\\-)","g"),iu=/[',$\u00a3\u20ac\u00a5%\u2009\u202F\u20BD\u20a9\u20BArfk]/gi,it=function(n){return!n||!0===n||"-"===n?!0:!1},se=function(n){var t=parseInt(n,10);return!isNaN(t)&&isFinite(n)?t:null},he=function(n,t){return tu[t]||(tu[t]=RegExp(yi(t),"g")),"string"==typeof n&&"."!==t?n.replace(/\./g,"").replace(tu[t],"."):n},ru=function(n,t,i){var r="string"==typeof n;return it(n)?!0:(t&&r&&(n=he(n,t)),i&&r&&(n=n.replace(iu,"")),!isNaN(parseFloat(n))&&isFinite(n))},ce=function(n,t,i){return it(n)?!0:(it(n)||"string"==typeof n)?ru(n.replace(gi,""),t,i)?!0:null:null},b=function(n,t,r){var f=[],u=0,e=n.length;if(r!==i)for(;u<e;u++)n[u]&&n[u][t]&&f.push(n[u][t][r]);else for(;u<e;u++)n[u]&&f.push(n[u][t]);return f},ti=function(n,t,r,u){var e=[],f=0,o=t.length;if(u!==i)for(;f<o;f++)n[t[f]][r]&&e.push(n[t[f]][r][u]);else for(;f<o;f++)e.push(n[t[f]][r]);return e},ht=function(n,t){var f=[],u,r;for(t===i?(t=0,u=n):(u=t,t=n),r=t;r<u;r++)f.push(r);return f},le=function(n){for(var i=[],t=0,r=n.length;t<r;t++)n[t]&&i.push(n[t]);return i},uu=function(n){var r=[],u,t,e=n.length,i,f=0;t=0;n:for(;t<e;t++){for(u=n[t],i=0;i<f;i++)if(r[i]===u)continue n;r.push(u);f++}return r},p=function(n,t,r){n[t]!==i&&(n[r]=n[t])},ii=/\[.*?\]$/,ct=/\(\)$/,nr=r("<div>")[0],ke=nr.textContent!==i,de=/<.*?>/g,fu,ir,hu,ve,cu,lu,ui;u=function(n){var f;this.$=function(n,t){return this.api(!0).$(n,t)};this._=function(n,t){return this.api(!0).rows(n,t).data()};this.api=function(n){return n?new o(di(this[c.iApiIndex])):new o(this)};this.fnAddData=function(n,t){var u=this.api(!0),f=r.isArray(n)&&(r.isArray(n[0])||r.isPlainObject(n[0]))?u.rows.add(n):u.row.add(n);return(t===i||t)&&u.draw(),f.flatten().toArray()};this.fnAdjustColumnSizing=function(n){var t=this.api(!0).columns.adjust(),r=t.settings()[0],u=r.oScroll;n===i||n?t.draw(!1):(""!==u.sX||""!==u.sY)&&ni(r)};this.fnClearTable=function(n){var t=this.api(!0).clear();(n===i||n)&&t.draw()};this.fnClose=function(n){this.api(!0).row(n).child.hide()};this.fnDeleteRow=function(n,t,r){var u=this.api(!0),n=u.rows(n),f=n.settings()[0],e=f.aoData[n[0][0]];return n.remove(),t&&t.call(this,f,e),(r===i||r)&&u.draw(),e};this.fnDestroy=function(n){this.api(!0).destroy(n)};this.fnDraw=function(n){this.api(!0).draw(n)};this.fnFilter=function(n,t,r,u,f,e){f=this.api(!0);null===t||t===i?f.search(n,r,u,e):f.column(t).search(n,r,u,e);f.draw()};this.fnGetData=function(n,t){var r=this.api(!0),u;return n!==i?(u=n.nodeName?n.nodeName.toLowerCase():"",t!==i||"td"==u||"th"==u?r.cell(n,t).data():r.row(n).data()||null):r.data().toArray()};this.fnGetNodes=function(n){var t=this.api(!0);return n!==i?t.row(n).node():t.rows().nodes().flatten().toArray()};this.fnGetPosition=function(n){var i=this.api(!0),t=n.nodeName.toUpperCase();return"TR"==t?i.row(n).index():"TD"==t||"TH"==t?(n=i.cell(n).index(),[n.row,n.columnVisible,n.column]):null};this.fnIsOpen=function(n){return this.api(!0).row(n).child.isShown()};this.fnOpen=function(n,t,i){return this.api(!0).row(n).child(t,i).show().child()[0]};this.fnPageChange=function(n,t){var r=this.api(!0).page(n);(t===i||t)&&r.draw(!1)};this.fnSetColumnVis=function(n,t,r){n=this.api(!0).column(n).visible(t);(r===i||r)&&n.columns.adjust().draw()};this.fnSettings=function(){return di(this[c.iApiIndex])};this.fnSort=function(n){this.api(!0).order(n).draw()};this.fnSortListener=function(n,t,i){this.api(!0).order.listener(n,t,i)};this.fnUpdate=function(n,t,r,u,f){var e=this.api(!0);return r===i||null===r?e.row(t).data(n):e.cell(t,r).data(n),(f===i||f)&&e.columns.adjust(),(u===i||u)&&e.draw(),0};this.fnVersionCheck=c.fnVersionCheck;var t=this,e=n===i,h=this.length;e&&(n={});this.oApi=this.internal=c.internal;for(f in u.ext.internal)f&&(this[f]=ee(f));return this.each(function(){var o={},o=1<h?ue(o,n,!0):n,c=0,l,b=this.getAttribute("id"),et=!1,p=u.defaults,d=r(this),w,a,f,g,ut,it,ft;if("table"!=this.nodeName.toLowerCase())tt(null,0,"Non-table node initialisation ("+this.nodeName+")",2);else{for(au(p),vu(p.column),nt(p,p,!0),nt(p.column,p.column,!0),nt(p,r.extend(o,d.data())),w=u.settings,c=0,l=w.length;c<l;c++){if(a=w[c],a.nTable==this||a.nTHead.parentNode==this||a.nTFoot&&a.nTFoot.parentNode==this){if(c=o.bRetrieve!==i?o.bRetrieve:p.bRetrieve,e||c)return a.oInstance;if(o.bDestroy!==i?o.bDestroy:p.bDestroy){a.oInstance.fnDestroy();break}else{tt(a,0,"Cannot reinitialise DataTable",3);return}}if(a.sTableId==this.id){w.splice(c,1);break}}if((null===b||""===b)&&(this.id=b="DataTables_Table_"+u.ext._unique++),f=r.extend(!0,{},u.models.oSettings,{sDestroyWidth:d[0].style.width,sInstance:b,sTableId:b}),f.nTable=this,f.oApi=t.internal,f.oInit=o,w.push(f),f.oInstance=1===t.length?t:d.dataTable(),au(o),o.oLanguage&&ur(o.oLanguage),o.aLengthMenu&&!o.iDisplayLength&&(o.iDisplayLength=r.isArray(o.aLengthMenu[0])?o.aLengthMenu[0][0]:o.aLengthMenu[0]),o=ue(r.extend(!0,{},p),o),k(f.oFeatures,o,"bPaginate bLengthChange bFilter bSort bSortMulti bInfo bProcessing bAutoWidth bSortClasses bServerSide bDeferRender".split(" ")),k(f,o,["asStripeClasses","ajax","fnServerData","fnFormatNumber","sServerMethod","aaSorting","aaSortingFixed","aLengthMenu","sPaginationType","sAjaxSource","sAjaxDataProp","iStateDuration","sDom","bSortCellsTop","iTabIndex","fnStateLoadCallback","fnStateSaveCallback","renderer","searchDelay",["iCookieDuration","iStateDuration"],["oSearch","oPreviousSearch"],["aoSearchCols","aoPreSearchCols"],["iDisplayLength","_iDisplayLength"],["bJQueryUI","bJUI"]]),k(f.oScroll,o,[["sScrollX","sX"],["sScrollXInner","sXInner"],["sScrollY","sY"],["bScrollCollapse","bCollapse"]]),k(f.oLanguage,o,"fnInfoCallback"),v(f,"aoDrawCallback",o.fnDrawCallback,"user"),v(f,"aoServerParams",o.fnServerParams,"user"),v(f,"aoStateSaveParams",o.fnStateSaveParams,"user"),v(f,"aoStateLoadParams",o.fnStateLoadParams,"user"),v(f,"aoStateLoaded",o.fnStateLoaded,"user"),v(f,"aoRowCallback",o.fnRowCallback,"user"),v(f,"aoRowCreatedCallback",o.fnCreatedRow,"user"),v(f,"aoHeaderCallback",o.fnHeaderCallback,"user"),v(f,"aoFooterCallback",o.fnFooterCallback,"user"),v(f,"aoInitComplete",o.fnInitComplete,"user"),v(f,"aoPreDrawCallback",o.fnPreDrawCallback,"user"),b=f.oClasses,o.bJQueryUI?(r.extend(b,u.ext.oJUIClasses,o.oClasses),o.sDom===p.sDom&&"lfrtip"===p.sDom&&(f.sDom='<"H"lfr>t<"F"ip>'),f.renderer)?r.isPlainObject(f.renderer)&&!f.renderer.header&&(f.renderer.header="jqueryui"):f.renderer="jqueryui":r.extend(b,u.ext.classes,o.oClasses),d.addClass(b.sTable),(""!==f.oScroll.sX||""!==f.oScroll.sY)&&(f.oScroll.iBarWidth=gf()),!0===f.oScroll.sX&&(f.oScroll.sX="100%"),f.iInitDisplayStart===i&&(f.iInitDisplayStart=o.iDisplayStart,f._iDisplayStart=o.iDisplayStart),null!==o.iDeferLoading&&(f.bDeferLoading=!0,c=r.isArray(o.iDeferLoading),f._iRecordsDisplay=c?o.iDeferLoading[0]:o.iDeferLoading,f._iRecordsTotal=c?o.iDeferLoading[1]:o.iDeferLoading),g=f.oLanguage,r.extend(!0,g,o.oLanguage),""!==g.sUrl&&(r.ajax({dataType:"json",url:g.sUrl,success:function(n){ur(n);nt(p.oLanguage,n);r.extend(!0,g,n);gt(f)},error:function(){gt(f)}}),et=!0),null===o.asStripeClasses&&(f.asStripeClasses=[b.sStripeOdd,b.sStripeEven]),c=f.asStripeClasses,ut=d.children("tbody").find("tr").eq(0),-1!==r.inArray(!0,r.map(c,function(n){return ut.hasClass(n)}))&&(r("tbody tr",this).removeClass(c.join(" ")),f.asDestroyStripes=c.slice()),w=[],c=this.getElementsByTagName("thead"),0!==c.length&&(kt(f.aoHeader,c[0]),w=li(f)),null===o.aoColumns)for(a=[],c=0,l=w.length;c<l;c++)a.push(null);else a=o.aoColumns;for(c=0,l=a.length;c<l;c++)fr(f,w?w[c]:null);if(wu(f,o.aoColumnDefs,a,function(n,t){fi(f,n,t)}),ut.length&&(it=function(n,t){return n.getAttribute("data-"+t)!==null?t:null},r.each(ci(f,ut[0]).cells,function(n,t){var e=f.aoColumns[n],r,u;e.mData===n&&(r=it(t,"sort")||it(t,"order"),u=it(t,"filter")||it(t,"search"),(r!==null||u!==null)&&(e.mData={_:n+".display",sort:r!==null?n+".@data-"+r:i,type:r!==null?n+".@data-"+r:i,filter:u!==null?n+".@data-"+u:i},fi(f,n)))})),ft=f.oFeatures,o.bStateSave&&(ft.bStateSave=!0,re(f,o),v(f,"aoDrawCallback",ki,"state_save")),o.aaSorting===i)for(w=f.aaSorting,c=0,l=w.length;c<l;c++)w[c][1]=f.aoColumns[c].asSorting[0];if(bi(f),ft.bSort&&v(f,"aoDrawCallback",function(){if(f.bSorted){var n=st(f),t={};r.each(n,function(n,i){t[i.src]=i.dir});s(f,null,"order",[f,n,t]);te(f)}}),v(f,"aoDrawCallback",function(){(f.bSorted||y(f)==="ssp"||ft.bDeferRender)&&bi(f)},"sc"),yu(f),c=d.children("caption").each(function(){this._captionSide=d.css("caption-side")}),l=d.children("thead"),0===l.length&&(l=r("<thead/>").appendTo(this)),f.nTHead=l[0],l=d.children("tbody"),0===l.length&&(l=r("<tbody/>").appendTo(this)),f.nTBody=l[0],l=d.children("tfoot"),0===l.length&&0<c.length&&(""!==f.oScroll.sX||""!==f.oScroll.sY)&&(l=r("<tfoot/>").appendTo(this)),0===l.length||0===l.children().length?d.addClass(b.sNoFooter):0<l.length&&(f.nTFoot=l[0],kt(f.aoFooter,f.nTFoot)),o.aaData)for(c=0;c<o.aaData.length;c++)rt(f,o.aaData[c]);else(f.bDeferLoading||"dom"==y(f))&&oi(f,r(f.nTBody).children("tr"));f.aiDisplay=f.aiDisplayMaster.slice();f.bInitialised=!0;!1===et&&gt(f)}}),t=null,this};var ae=[],l=Array.prototype,ge=function(n){var t,i,f=u.settings,e=r.map(f,function(n){return n.nTable});if(n){if(n.nTable&&n.oApi)return[n];if(n.nodeName&&"table"===n.nodeName.toLowerCase())return t=r.inArray(n,e),-1!==t?[f[t]]:null;if(n&&"function"==typeof n.settings)return n.settings().toArray();"string"==typeof n?i=r(n):n instanceof r&&(i=n)}else return[];if(i)return i.map(function(){return t=r.inArray(this,e),-1!==t?f[t]:null}).toArray()};o=function(n,t){var i,f,u,e;if(!(this instanceof o))return new o(n,t);if(i=[],f=function(n){(n=ge(n))&&i.push.apply(i,n)},r.isArray(n))for(u=0,e=n.length;u<e;u++)f(n[u]);else f(n);this.context=uu(i);t&&this.push.apply(this,t.toArray?t.toArray():t);this.selector={rows:null,cols:null,opts:null};o.extend(this,this,ae)};u.Api=o;o.prototype={any:function(){return 0!==this.flatten().length},concat:l.concat,context:[],each:function(n){for(var t=0,i=this.length;t<i;t++)n.call(this,this[t],t,this);return this},eq:function(n){var t=this.context;return t.length>n?new o(t[n],this[n]):null},filter:function(n){var i=[],t,r;if(l.filter)i=l.filter.call(this,n,this);else for(t=0,r=this.length;t<r;t++)n.call(this,this[t],t,this)&&i.push(this[t]);return new o(this.context,i)},flatten:function(){var n=[];return new o(this.context,n.concat.apply(n,this.toArray()))},join:l.join,indexOf:l.indexOf||function(n,t){for(var i=t||0,r=this.length;i<r;i++)if(this[i]===n)return i;return-1},iterator:function(n,t,r,u){var h=[],e,f,y,c,p,s=this.context,w,v,a=this.selector,l;for("string"==typeof n&&(u=r,r=t,t=n,n=!1),f=0,y=s.length;f<y;f++)if(l=new o(s[f]),"table"===t)e=r.call(l,s[f],f),e!==i&&h.push(e);else if("columns"===t||"rows"===t)e=r.call(l,s[f],this[f],f),e!==i&&h.push(e);else if("column"===t||"column-rows"===t||"row"===t||"cell"===t)for(v=this[f],"column-rows"===t&&(w=tr(s[f],a.opts)),c=0,p=v.length;c<p;c++)e=v[c],e="cell"===t?r.call(l,s[f],e.row,e.column,f,c):r.call(l,s[f],e,f,c,w),e!==i&&h.push(e);return h.length||u?(n=new o(s,n?h.concat.apply([],h):h),t=n.selector,t.rows=a.rows,t.cols=a.cols,t.opts=a.opts,n):this},lastIndexOf:l.lastIndexOf||function(){return this.indexOf.apply(this.toArray.reverse(),arguments)},length:0,map:function(n){var i=[],t,r;if(l.map)i=l.map.call(this,n,this);else for(t=0,r=this.length;t<r;t++)i.push(n.call(this,this[t],t));return new o(this.context,i)},pluck:function(n){return this.map(function(t){return t[n]})},pop:l.pop,push:l.push,reduce:l.reduce||function(n,t){return pu(this,n,t,0,this.length,1)},reduceRight:l.reduceRight||function(n,t){return pu(this,n,t,this.length-1,-1,-1)},reverse:l.reverse,selector:null,shift:l.shift,sort:l.sort,splice:l.splice,toArray:function(){return l.slice.call(this)},to$:function(){return r(this)},toJQuery:function(){return r(this)},unique:function(){return new o(this.context,uu(this))},unshift:l.unshift};o.extend=function(n,t,i){if(i.length&&t&&(t instanceof o||t.__dt_wrapper))for(var u,s=function(n,t,i){return function(){var r=t.apply(n,arguments);return o.extend(r,r,i.methodExt),r}},f=0,e=i.length;f<e;f++)u=i[f],t[u.name]="function"==typeof u.val?s(n,u.val,u):r.isPlainObject(u.val)?{}:u.val,t[u.name].__dt_wrapper=!0,o.extend(n,t[u.name],u.propExt)};o.register=f=function(n,t){var u,f,i,l;if(r.isArray(n))for(u=0,f=n.length;u<f;u++)o.register(n[u],t);else for(var s=n.split("."),e=ae,h,c,u=0,f=s.length;u<f;u++){h=(c=-1!==s[u].indexOf("()"))?s[u].replace("()",""):s[u];n:{for(i=0,l=e.length;i<l;i++)if(e[i].name===h){i=e[i];break n}i=null}i||(i={name:h,val:{},methodExt:[],propExt:[]},e.push(i));u===f-1?i.val=t:e=c?i.methodExt:i.propExt}};o.registerPlural=h=function(n,t,u){o.register(n,u);o.register(t,function(){var n=u.apply(this,arguments);return n===this?this:n instanceof o?n.length?r.isArray(n[0])?new o(n.context,n[0]):n[0]:i:n})};f("tables()",function(n){var t,i,u,n;return n?(t=o,i=this.context,"number"==typeof n?n=[i[n]]:(u=r.map(i,function(n){return n.nTable}),n=r(u).filter(n).map(function(){var n=r.inArray(this,u);return i[n]}).toArray()),t=new t(n)):t=this,t});f("table()",function(n){var n=this.tables(n),t=n.context;return t.length?new o(t[0]):n});h("tables().nodes()","table().node()",function(){return this.iterator("table",function(n){return n.nTable},1)});h("tables().body()","table().body()",function(){return this.iterator("table",function(n){return n.nTBody},1)});h("tables().header()","table().header()",function(){return this.iterator("table",function(n){return n.nTHead},1)});h("tables().footer()","table().footer()",function(){return this.iterator("table",function(n){return n.nTFoot},1)});h("tables().containers()","table().container()",function(){return this.iterator("table",function(n){return n.nTableWrapper},1)});f("draw()",function(n){return this.iterator("table",function(t){ft(t,!1===n)})});f("page()",function(n){return n===i?this.page.info().page:this.iterator("table",function(t){yr(t,n)})});f("page.info()",function(){if(0===this.context.length)return i;var n=this.context[0],r=n._iDisplayStart,t=n._iDisplayLength,u=n.fnRecordsDisplay(),f=-1===t;return{page:f?0:Math.floor(r/t),pages:f?1:Math.ceil(u/t),start:r,end:n.fnDisplayEnd(),length:t,recordsTotal:n.fnRecordsTotal(),recordsDisplay:u}});f("page.len()",function(n){return n===i?0!==this.context.length?this.context[0]._iDisplayLength:i:this.iterator("table",function(t){vr(t,n)})});fu=function(n,t,i){if(i){var r=new o(n);r.one("draw",function(){i(r.ajax.json())})}"ssp"==y(n)?ft(n,t):(w(n,!0),ai(n,[],function(i){si(n);for(var i=vi(n,i),r=0,u=i.length;r<u;r++)rt(n,i[r]);ft(n,t);w(n,!1)}))};f("ajax.json()",function(){var n=this.context;if(0<n.length)return n[0].json});f("ajax.params()",function(){var n=this.context;if(0<n.length)return n[0].oAjaxData});f("ajax.reload()",function(n,t){return this.iterator("table",function(i){fu(i,!1===t,n)})});f("ajax.url()",function(n){var t=this.context;return n===i?0===t.length?i:(t=t[0],t.ajax?r.isPlainObject(t.ajax)?t.ajax.url:t.ajax:t.sAjaxSource):this.iterator("table",function(t){r.isPlainObject(t.ajax)?t.ajax.url=n:t.ajax=n})});f("ajax.url().load()",function(n,t){return this.iterator("table",function(i){fu(i,!1===t,n)})});var eu=function(n,t,u,f,e){var h=[],v,l,o,a,s,y;for(o=typeof t,t&&"string"!==o&&"function"!==o&&t.length!==i||(t=[t]),o=0,a=t.length;o<a;o++)for(l=t[o]&&t[o].split?t[o].split(","):[t[o]],s=0,y=l.length;s<y;s++)(v=u("string"==typeof l[s]?r.trim(l[s]):l[s]))&&v.length&&h.push.apply(h,v);if(n=c.selector[n],n.length)for(o=0,a=n.length;o<a;o++)h=n[o](f,e,h);return h},ou=function(n){return n||(n={}),n.filter&&n.search===i&&(n.search=n.filter),r.extend({search:"none",order:"current",page:"all"},n)},su=function(n){for(var t=0,i=n.length;t<i;t++)if(0<n[t].length)return n[0]=n[t],n[0].length=1,n.length=1,n.context=[n.context[t]],n;return n.length=0,n},tr=function(n,t){var i,u,e,o=[],s=n.aiDisplay,f;if(i=n.aiDisplayMaster,f=t.search,u=t.order,e=t.page,"ssp"==y(n))return"removed"===f?[]:ht(0,i.length);if("current"==e)for(i=n._iDisplayStart,u=n.fnDisplayEnd();i<u;i++)o.push(s[i]);else if("current"==u||"applied"==u)o="none"==f?i.slice():"applied"==f?s.slice():r.map(i,function(n){return-1===r.inArray(n,s)?n:null});else if("index"==u||"original"==u)for(i=0,u=n.aoData.length;i<u;i++)"none"==f?o.push(i):(e=r.inArray(i,s),(-1===e&&"removed"==f||0<=e&&"applied"==f)&&o.push(i));return o};f("rows()",function(n,t){n===i?n="":r.isPlainObject(n)&&(t=n,n="");var t=ou(t),u=this.iterator("table",function(i){var u=t;return eu("row",n,function(n){var t=se(n),f;return t!==null&&!u?[t]:(f=tr(i,u),t!==null&&r.inArray(t,f)!==-1)?[t]:n?typeof n=="function"?r.map(f,function(t){var r=i.aoData[t];return n(t,r._aData,r.nTr)?t:null}):(t=le(ti(i.aoData,f,"nTr")),n.nodeName&&r.inArray(n,t)!==-1?[n._DT_RowIndex]:r(t).filter(n).map(function(){return this._DT_RowIndex}).toArray()):f},i,u)},1);return u.selector.rows=n,u.selector.opts=t,u});f("rows().nodes()",function(){return this.iterator("row",function(n,t){return n.aoData[t].nTr||i},1)});f("rows().data()",function(){return this.iterator(!0,"rows",function(n,t){return ti(n.aoData,t,"_aData")},1)});h("rows().cache()","row().cache()",function(n){return this.iterator("row",function(t,i){var r=t.aoData[i];return"search"===n?r._aFilterData:r._aSortData},1)});h("rows().invalidate()","row().invalidate()",function(n){return this.iterator("row",function(t,i){wt(t,i,n)})});h("rows().indexes()","row().index()",function(){return this.iterator("row",function(n,t){return t},1)});h("rows().remove()","row().remove()",function(){var n=this;return this.iterator("row",function(t,i,u){var e=t.aoData,f,o;for(e.splice(i,1),f=0,o=e.length;f<o;f++)null!==e[f].nTr&&(e[f].nTr._DT_RowIndex=f);r.inArray(i,t.aiDisplay);hi(t.aiDisplayMaster,i);hi(t.aiDisplay,i);hi(n[u],i,!1);dr(t)})});f("rows.add()",function(n){var i=this.iterator("table",function(t){for(var i,u=[],r=0,f=n.length;r<f;r++)i=n[r],i.nodeName&&"TR"===i.nodeName.toUpperCase()?u.push(oi(t,i)[0]):u.push(rt(t,i));return u},1),t=this.rows(-1);return t.pop(),t.push.apply(t,i.toArray()),t});f("row()",function(n,t){return su(this.rows(n,t))});f("row().data()",function(n){var t=this.context;return n===i?t.length&&this.length?t[0].aoData[this[0]]._aData:i:(t[0].aoData[this[0]]._aData=n,wt(t[0],this[0],"data"),this)});f("row().node()",function(){var n=this.context;return n.length&&this.length?n[0].aoData[this[0]].nTr||null:null});f("row.add()",function(n){n instanceof r&&n.length&&(n=n[0]);var t=this.iterator("table",function(t){return n.nodeName&&"TR"===n.nodeName.toUpperCase()?oi(t,n)[0]:rt(t,n)});return this.row(t[0])});ir=function(n,t){var r=n.context;r.length&&(r=r[0].aoData[t!==i?t:n[0]],r._details&&(r._details.remove(),r._detailsShow=i,r._details=i))};hu=function(n,t){var e=n.context,i;if(e.length&&n.length&&(i=e[0].aoData[n[0]],i._details)){(i._detailsShow=t)?i._details.insertAfter(i.nTr):i._details.detach();var f=e[0],r=new o(f),u=f.aoData;r.off("draw.dt.DT_details column-visibility.dt.DT_details destroy.dt.DT_details");0<b(u,"_details").length&&(r.on("draw.dt.DT_details",function(n,t){f===t&&r.rows({page:"current"}).eq(0).each(function(n){n=u[n];n._detailsShow&&n._details.insertAfter(n.nTr)})}),r.on("column-visibility.dt.DT_details",function(n,t){if(f===t)for(var i,e=yt(t),r=0,o=u.length;r<o;r++)i=u[r],i._details&&i._details.children("td[colspan]").attr("colspan",e)}),r.on("destroy.dt.DT_details",function(n,t){if(f===t)for(var i=0,e=u.length;i<e;i++)u[i]._details&&ir(r,i)}))}};f("row().child()",function(n,t){var u=this.context;if(n===i)return u.length&&this.length?u[0].aoData[this[0]]._details:i;if(!0===n)this.child.show();else if(!1===n)ir(this);else if(u.length&&this.length){var o=u[0],u=u[0].aoData[this[0]],f=[],e=function(n,t){if(r.isArray(n)||n instanceof r)for(var i=0,u=n.length;i<u;i++)e(n[i],t);else n.nodeName&&"tr"===n.nodeName.toLowerCase()?f.push(n):(i=r("<tr><td/><\/tr>").addClass(t),r("td",i).addClass(t).html(n)[0].colSpan=yt(o),f.push(i[0]))};e(n,t);u._details&&u._details.remove();u._details=r(f);u._detailsShow&&u._details.insertAfter(u.nTr)}return this});f(["row().child.show()","row().child().show()"],function(){return hu(this,!0),this});f(["row().child.hide()","row().child().hide()"],function(){return hu(this,!1),this});f(["row().child.remove()","row().child().remove()"],function(){return ir(this),this});f("row().child.isShown()",function(){var n=this.context;return n.length&&this.length?n[0].aoData[this[0]]._detailsShow||!1:!1});ve=/^(.+):(name|visIdx|visible)$/;cu=function(n,t,i,r,u){for(var i=[],r=0,f=u.length;r<f;r++)i.push(a(n,u[r],t));return i};f("columns()",function(n,t){n===i?n="":r.isPlainObject(n)&&(t=n,n="");var t=ou(t),u=this.iterator("table",function(i){var o=n,e=t,u=i.aoColumns,s=b(u,"sName"),f=b(u,"nTh");return eu("column",o,function(n){var t=se(n),c,o,h;if(n==="")return ht(u.length);if(t!==null)return[t>=0?t:u.length+t];if(typeof n=="function")return c=tr(i,e),r.map(u,function(t,r){return n(r,cu(i,r,0,0,c),f[r])?r:null});if(o=typeof n=="string"?n.match(ve):"",o)switch(o[2]){case"visIdx":case"visible":return(t=parseInt(o[1],10),t<0)?(h=r.map(u,function(n,t){return n.bVisible?t:null}),[h[h.length+t]]):[ei(i,t)];case"name":return r.map(s,function(n,t){return n===o[1]?t:null})}else return r(f).filter(n).map(function(){return r.inArray(this,f)}).toArray()},i,e)},1);return u.selector.cols=n,u.selector.opts=t,u});h("columns().header()","column().header()",function(){return this.iterator("column",function(n,t){return n.aoColumns[t].nTh},1)});h("columns().footer()","column().footer()",function(){return this.iterator("column",function(n,t){return n.aoColumns[t].nTf},1)});h("columns().data()","column().data()",function(){return this.iterator("column-rows",cu,1)});h("columns().dataSrc()","column().dataSrc()",function(){return this.iterator("column",function(n,t){return n.aoColumns[t].mData},1)});h("columns().cache()","column().cache()",function(n){return this.iterator("column-rows",function(t,i,r,u,f){return ti(t.aoData,f,"search"===n?"_aFilterData":"_aSortData",i)},1)});h("columns().nodes()","column().nodes()",function(){return this.iterator("column-rows",function(n,t,i,r,u){return ti(n.aoData,u,"anCells",t)},1)});h("columns().visible()","column().visible()",function(n,t){return this.iterator("column",function(u,f){var v;if(n===i)return u.aoColumns[f].bVisible;var e=u.aoColumns,l=e[f],h=u.aoData,o,a,c;if(n!==i&&l.bVisible!==n){if(n)for(v=r.inArray(!0,b(e,"bVisible"),f+1),o=0,a=h.length;o<a;o++)c=h[o].nTr,e=h[o].anCells,c&&c.insertBefore(e[f],e[v]||null);else r(b(u.aoData,"anCells",f)).detach();l.bVisible=n;bt(u,u.aoHeader);bt(u,u.aoFooter);(t===i||t)&&(at(u),(u.oScroll.sX||u.oScroll.sY)&&ni(u));s(u,null,"column-visibility",[u,f,n]);ki(u)}})});h("columns().indexes()","column().index()",function(n){return this.iterator("column",function(t,i){return"visible"===n?vt(t,i):i},1)});f("columns.adjust()",function(){return this.iterator("table",function(n){at(n)},1)});f("column.index()",function(n,t){if(0!==this.context.length){var i=this.context[0];if("fromVisible"===n||"toData"===n)return ei(i,t);if("fromData"===n||"toVisible"===n)return vt(i,t)}});f("column()",function(n,t){return su(this.columns(n,t))});f("cells()",function(n,t,u){if(r.isPlainObject(n)&&(n.row===i?(u=n,n=null):(u=t,t=null)),r.isPlainObject(t)&&(u=t,t=null),null===t||t===i)return this.iterator("table",function(t){var w=n,v=ou(u),y=t.aoData,c=tr(t,v),b=le(ti(y,c,"anCells")),k=r([].concat.apply([],b)),f,d=t.aoColumns.length,o,s,p,e,h,l;return eu("cell",w,function(n){var u=typeof n=="function";if(n===null||n===i||u){for(o=[],s=0,p=c.length;s<p;s++)for(f=c[s],e=0;e<d;e++)h={row:f,column:e},u?(l=t.aoData[f],n(h,a(t,f,e),l.anCells?l.anCells[e]:null)&&o.push(h)):o.push(h);return o}return r.isPlainObject(n)?[n]:k.filter(n).map(function(n,t){return f=t.parentNode._DT_RowIndex,{row:f,column:r.inArray(t,y[f].anCells)}}).toArray()},t,v)});var s=this.columns(t,u),h=this.rows(n,u),o,f,c,e,l,v=this.iterator("table",function(n,t){for(o=[],f=0,c=h[t].length;f<c;f++)for(e=0,l=s[t].length;e<l;e++)o.push({row:h[t][f],column:s[t][e]});return o},1);return r.extend(v.selector,{cols:t,rows:n,opts:u}),v});h("cells().nodes()","cell().node()",function(){return this.iterator("cell",function(n,t,r){return(n=n.aoData[t].anCells)?n[r]:i},1)});f("cells().data()",function(){return this.iterator("cell",function(n,t,i){return a(n,t,i)},1)});h("cells().cache()","cell().cache()",function(n){return n="search"===n?"_aFilterData":"_aSortData",this.iterator("cell",function(t,i,r){return t.aoData[i][n][r]},1)});h("cells().render()","cell().render()",function(n){return this.iterator("cell",function(t,i,r){return a(t,i,r,n)},1)});h("cells().indexes()","cell().index()",function(){return this.iterator("cell",function(n,t,i){return{row:t,column:i,columnVisible:vt(n,i)}},1)});h("cells().invalidate()","cell().invalidate()",function(n){return this.iterator("cell",function(t,i,r){wt(t,i,n,r)})});f("cell()",function(n,t,i){return su(this.cells(n,t,i))});f("cell().data()",function(n){var r=this.context,t=this[0];return n===i?r.length&&t.length?a(r[0],t[0].row,t[0].column):i:(or(r[0],t[0].row,t[0].column,n),wt(r[0],t[0].row,"data",t[0].column),this)});f("order()",function(n,t){var u=this.context;return n===i?0!==u.length?u[0].aaSorting:i:("number"==typeof n?n=[[n,t]]:r.isArray(n[0])||(n=Array.prototype.slice.call(arguments)),this.iterator("table",function(t){t.aaSorting=n.slice()}))});f("order.listener()",function(n,t,i){return this.iterator("table",function(r){br(r,n,t,i)})});f(["columns().order()","column().order()"],function(n){var t=this;return this.iterator("table",function(i,u){var f=[];r.each(t[u],function(t,i){f.push([i,n])});i.aaSorting=f})});f("search()",function(n,t,u,f){var e=this.context;return n===i?0!==e.length?e[0].oPreviousSearch.sSearch:i:this.iterator("table",function(i){i.oFeatures.bFilter&&dt(i,r.extend({},i.oPreviousSearch,{sSearch:n+"",bRegex:null===t?!1:t,bSmart:null===u?!0:u,bCaseInsensitive:null===f?!0:f}),1)})});h("columns().search()","column().search()",function(n,t,u,f){return this.iterator("column",function(e,o){var s=e.aoPreSearchCols;if(n===i)return s[o].sSearch;e.oFeatures.bFilter&&(r.extend(s[o],{sSearch:n+"",bRegex:null===t?!1:t,bSmart:null===u?!0:u,bCaseInsensitive:null===f?!0:f}),dt(e,e.oPreviousSearch,1))})});f("state()",function(){return this.context.length?this.context[0].oSavedState:null});f("state.clear()",function(){return this.iterator("table",function(n){n.fnStateSaveCallback.call(n.oInstance,n,{})})});f("state.loaded()",function(){return this.context.length?this.context[0].oLoadedState:null});f("state.save()",function(){return this.iterator("table",function(n){ki(n)})});u.versionCheck=u.fnVersionCheck=function(n){for(var f=u.version.split("."),n=n.split("."),i,r,t=0,e=n.length;t<e;t++)if(i=parseInt(f[t],10)||0,r=parseInt(n[t],10)||0,i!==r)return i>r;return!0};u.isDataTable=u.fnIsDataTable=function(n){var t=r(n).get(0),i=!1;return r.each(u.settings,function(n,u){var f=u.nScrollHead?r("table",u.nScrollHead)[0]:null,e=u.nScrollFoot?r("table",u.nScrollFoot)[0]:null;(u.nTable===t||f===t||e===t)&&(i=!0)}),i};u.tables=u.fnTables=function(n){return r.map(u.settings,function(t){if(!n||n&&r(t.nTable).is(":visible"))return t.nTable})};u.util={throttle:wi,escapeRegex:yi};u.camelToHungarian=nt;f("$()",function(n,t){var i=this.rows(t).nodes(),i=r(i);return r([].concat(i.filter(n).toArray(),i.find(n).toArray()))});r.each(["on","one","off"],function(n,t){f(t+"()",function(){var n=Array.prototype.slice.call(arguments),i;return n[0].match(/\.dt\b/)||(n[0]+=".dt"),i=r(this.tables().nodes()),i[t].apply(i,n),this})});f("clear()",function(){return this.iterator("table",function(n){si(n)})});f("settings()",function(){return new o(this.context,this.context)});f("init()",function(){var n=this.context;return n.length?n[0].oInit:null});f("data()",function(){return this.iterator("table",function(n){return b(n.aoData,"_aData")}).flatten()});f("destroy()",function(t){return t=t||!1,this.iterator("table",function(i){var h=i.nTableWrapper.parentNode,f=i.oClasses,a=i.nTable,c=i.nTBody,l=i.nTHead,v=i.nTFoot,e=r(a),c=r(c),y=r(i.nTableWrapper),p=r.map(i.aoData,function(n){return n.nTr}),w;i.bDestroying=!0;s(i,"aoDestroyCallback","destroy",[i]);t||new o(i).columns().visible(!0);y.unbind(".DT").find(":not(tbody *)").unbind(".DT");r(n).unbind(".DT-"+i.sInstance);a!=l.parentNode&&(e.children("thead").detach(),e.append(l));v&&a!=v.parentNode&&(e.children("tfoot").detach(),e.append(v));e.detach();y.detach();i.aaSorting=[];i.aaSortingFixed=[];bi(i);r(p).removeClass(i.asStripeClasses.join(" "));r("th, td",l).removeClass(f.sSortable+" "+f.sSortableAsc+" "+f.sSortableDesc+" "+f.sSortableNone);i.bJUI&&(r("th span."+f.sSortIcon+", td span."+f.sSortIcon,l).detach(),r("th, td",l).each(function(){var n=r("div."+f.sSortJUIWrapper,this);r(this).append(n.contents());n.detach()}));!t&&h&&h.insertBefore(a,i.nTableReinsertBefore);c.children().detach();c.append(p);e.css("width",i.sDestroyWidth).removeClass(f.sTable);(w=i.asDestroyStripes.length)&&c.children().each(function(n){r(this).addClass(i.asDestroyStripes[n%w])});h=r.inArray(i,u.settings);-1!==h&&u.settings.splice(h,1)})});r.each(["column","row","cell"],function(n,t){f(t+"s().every()",function(n){return this.iterator(t,function(i,r,u){n.call(new o(i)[t](r,u))})})});f("i18n()",function(n,t,u){var f=this.context[0],n=et(n)(f.oLanguage);return n===i&&(n=t),u!==i&&r.isPlainObject(n)&&(n=n[u]!==i?n[u]:n._),n.replace("%d",u)});u.version="1.10.7";u.settings=[];u.models={};u.models.oSearch={bCaseInsensitive:!0,sSearch:"",bRegex:!1,bSmart:!0};u.models.oRow={nTr:null,anCells:null,_aData:[],_aSortData:null,_aFilterData:null,_sFilterRow:null,_sRowStripe:"",src:null};u.models.oColumn={idx:null,aDataSort:null,asSorting:null,bSearchable:null,bSortable:null,bVisible:null,_sManualType:null,_bAttrSrc:!1,fnCreatedCell:null,fnGetData:null,fnSetData:null,mData:null,mRender:null,nTh:null,nTf:null,sClass:null,sContentPadding:null,sDefaultContent:null,sName:null,sSortDataType:"std",sSortingClass:null,sSortingClassJUI:null,sTitle:null,sType:null,sWidth:null,sWidthOrig:null};u.defaults={aaData:null,aaSorting:[[0,"asc"]],aaSortingFixed:[],ajax:null,aLengthMenu:[10,25,50,100],aoColumns:null,aoColumnDefs:null,aoSearchCols:[],asStripeClasses:null,bAutoWidth:!0,bDeferRender:!1,bDestroy:!1,bFilter:!0,bInfo:!0,bJQueryUI:!1,bLengthChange:!0,bPaginate:!0,bProcessing:!1,bRetrieve:!1,bScrollCollapse:!1,bServerSide:!1,bSort:!0,bSortMulti:!0,bSortCellsTop:!1,bSortClasses:!0,bStateSave:!1,fnCreatedRow:null,fnDrawCallback:null,fnFooterCallback:null,fnFormatNumber:function(n){return n.toString().replace(/\B(?=(\d{3})+(?!\d))/g,this.oLanguage.sThousands)},fnHeaderCallback:null,fnInfoCallback:null,fnInitComplete:null,fnPreDrawCallback:null,fnRowCallback:null,fnServerData:null,fnServerParams:null,fnStateLoadCallback:function(n){try{return JSON.parse((-1===n.iStateDuration?sessionStorage:localStorage).getItem("DataTables_"+n.sInstance+"_"+location.pathname))}catch(t){}},fnStateLoadParams:null,fnStateLoaded:null,fnStateSaveCallback:function(n,t){try{(-1===n.iStateDuration?sessionStorage:localStorage).setItem("DataTables_"+n.sInstance+"_"+location.pathname,JSON.stringify(t))}catch(i){}},fnStateSaveParams:null,iStateDuration:7200,iDeferLoading:null,iDisplayLength:10,iDisplayStart:0,iTabIndex:0,oClasses:{},oLanguage:{oAria:{sSortAscending:": activate to sort column ascending",sSortDescending:": activate to sort column descending"},oPaginate:{sFirst:"First",sLast:"Last",sNext:"Next",sPrevious:"Previous"},sEmptyTable:"No data available in table",sInfo:"Showing _START_ to _END_ of _TOTAL_ entries",sInfoEmpty:"Showing 0 to 0 of 0 entries",sInfoFiltered:"(filtered from _MAX_ total entries)",sInfoPostFix:"",sDecimal:"",sThousands:",",sLengthMenu:"Show _MENU_ entries",sLoadingRecords:"Loading...",sProcessing:"Processing...",sSearch:"Search:",sSearchPlaceholder:"",sUrl:"",sZeroRecords:"No matching records found"},oSearch:r.extend({},u.models.oSearch),sAjaxDataProp:"data",sAjaxSource:null,sDom:"lfrtip",searchDelay:null,sPaginationType:"simple_numbers",sScrollX:"",sScrollXInner:"",sScrollY:"",sServerMethod:"GET",renderer:null};lt(u.defaults);u.defaults.column={aDataSort:null,iDataSort:-1,asSorting:["asc","desc"],bSearchable:!0,bSortable:!0,bVisible:!0,fnCreatedCell:null,mData:null,mRender:null,sCellType:"td",sClass:"",sContentPadding:"",sDefaultContent:null,sName:"",sSortDataType:"std",sTitle:null,sType:null,sWidth:null};lt(u.defaults.column);u.models.oSettings={oFeatures:{bAutoWidth:null,bDeferRender:null,bFilter:null,bInfo:null,bLengthChange:null,bPaginate:null,bProcessing:null,bServerSide:null,bSort:null,bSortMulti:null,bSortClasses:null,bStateSave:null},oScroll:{bCollapse:null,iBarWidth:0,sX:null,sXInner:null,sY:null},oLanguage:{fnInfoCallback:null},oBrowser:{bScrollOversize:!1,bScrollbarLeft:!1},ajax:null,aanFeatures:[],aoData:[],aiDisplay:[],aiDisplayMaster:[],aoColumns:[],aoHeader:[],aoFooter:[],oPreviousSearch:{},aoPreSearchCols:[],aaSorting:null,aaSortingFixed:[],asStripeClasses:null,asDestroyStripes:[],sDestroyWidth:0,aoRowCallback:[],aoHeaderCallback:[],aoFooterCallback:[],aoDrawCallback:[],aoRowCreatedCallback:[],aoPreDrawCallback:[],aoInitComplete:[],aoStateSaveParams:[],aoStateLoadParams:[],aoStateLoaded:[],sTableId:"",nTable:null,nTHead:null,nTFoot:null,nTBody:null,nTableWrapper:null,bDeferLoading:!1,bInitialised:!1,aoOpenRows:[],sDom:null,searchDelay:null,sPaginationType:"two_button",iStateDuration:0,aoStateSave:[],aoStateLoad:[],oSavedState:null,oLoadedState:null,sAjaxSource:null,sAjaxDataProp:null,bAjaxDataGet:!0,jqXHR:null,json:i,oAjaxData:i,fnServerData:null,aoServerParams:[],sServerMethod:null,fnFormatNumber:null,aLengthMenu:null,iDraw:0,bDrawing:!1,iDrawError:-1,_iDisplayLength:10,_iDisplayStart:0,_iRecordsTotal:0,_iRecordsDisplay:0,bJUI:null,oClasses:{},bFiltered:!1,bSorted:!1,bSortCellsTop:null,oInit:null,aoDestroyCallback:[],fnRecordsTotal:function(){return"ssp"==y(this)?1*this._iRecordsTotal:this.aiDisplayMaster.length},fnRecordsDisplay:function(){return"ssp"==y(this)?1*this._iRecordsDisplay:this.aiDisplay.length},fnDisplayEnd:function(){var n=this._iDisplayLength,t=this._iDisplayStart,r=t+n,i=this.aiDisplay.length,u=this.oFeatures,f=u.bPaginate;return u.bServerSide?!1===f||-1===n?t+i:Math.min(t+n,this._iRecordsDisplay):!f||r>i||-1===n?i:r},oInstance:null,sInstance:null,iTabIndex:0,nScrollHead:null,nScrollFoot:null,aLastSort:[],oPlugins:{}};u.ext=c={buttons:{},classes:{},errMode:"alert",feature:[],search:[],selector:{cell:[],column:[],row:[]},internal:{},legacy:{ajax:null},pager:{},renderer:{pageButton:{},header:{}},order:{},type:{detect:[],search:{},order:{}},_unique:0,fnVersionCheck:u.fnVersionCheck,iApiIndex:0,oJUIClasses:{},sVersion:u.version};r.extend(c,{afnFiltering:c.search,aTypes:c.type.detect,ofnSearch:c.type.search,oSort:c.type.order,afnSortData:c.order,aoFeatures:c.feature,oApi:c.internal,oStdClasses:c.classes,oPagination:c.pager});r.extend(u.ext.classes,{sTable:"dataTable",sNoFooter:"no-footer",sPageButton:"paginate_button",sPageButtonActive:"current",sPageButtonDisabled:"disabled",sStripeOdd:"odd",sStripeEven:"even",sRowEmpty:"dataTables_empty",sWrapper:"dataTables_wrapper",sFilter:"dataTables_filter",sInfo:"dataTables_info",sPaging:"dataTables_paginate paging_",sLength:"dataTables_length",sProcessing:"dataTables_processing",sSortAsc:"sorting_asc",sSortDesc:"sorting_desc",sSortable:"sorting",sSortableAsc:"sorting_asc_disabled",sSortableDesc:"sorting_desc_disabled",sSortableNone:"sorting_disabled",sSortColumn:"sorting_",sFilterInput:"",sLengthSelect:"",sScrollWrapper:"dataTables_scroll",sScrollHead:"dataTables_scrollHead",sScrollHeadInner:"dataTables_scrollHeadInner",sScrollBody:"dataTables_scrollBody",sScrollFoot:"dataTables_scrollFoot",sScrollFootInner:"dataTables_scrollFootInner",sHeaderTH:"",sFooterTH:"",sSortJUIAsc:"",sSortJUIDesc:"",sSortJUI:"",sSortJUIAscAllowed:"",sSortJUIDescAllowed:"",sSortJUIWrapper:"",sSortIcon:"",sJUIHeader:"",sJUIFooter:""});var rr="",rr="",d=rr+"ui-state-default",ri=rr+"css_right ui-icon ui-icon-",ye=rr+"fg-toolbar ui-toolbar ui-widget-header ui-helper-clearfix";return r.extend(u.ext.oJUIClasses,u.ext.classes,{sPageButton:"fg-button ui-button "+d,sPageButtonActive:"ui-state-disabled",sPageButtonDisabled:"ui-state-disabled",sPaging:"dataTables_paginate fg-buttonset ui-buttonset fg-buttonset-multi ui-buttonset-multi paging_",sSortAsc:d+" sorting_asc",sSortDesc:d+" sorting_desc",sSortable:d+" sorting",sSortableAsc:d+" sorting_asc_disabled",sSortableDesc:d+" sorting_desc_disabled",sSortableNone:d+" sorting_disabled",sSortJUIAsc:ri+"triangle-1-n",sSortJUIDesc:ri+"triangle-1-s",sSortJUI:ri+"carat-2-n-s",sSortJUIAscAllowed:ri+"carat-1-n",sSortJUIDescAllowed:ri+"carat-1-s",sSortJUIWrapper:"DataTables_sort_wrapper",sSortIcon:"DataTables_sort_icon",sScrollHead:"dataTables_scrollHead "+d,sScrollFoot:"dataTables_scrollFoot "+d,sHeaderTH:d,sFooterTH:d,sJUIHeader:ye+" ui-corner-tl ui-corner-tr",sJUIFooter:ye+" ui-corner-bl ui-corner-br"}),lu=u.ext.pager,r.extend(lu,{simple:function(){return["previous","next"]},full:function(){return["first","previous","next","last"]},simple_numbers:function(n,t){return["previous",nu(n,t),"next"]},full_numbers:function(n,t){return["first","previous",nu(n,t),"next","last"]},_numbers:nu,numbers_length:7}),r.extend(!0,u.ext.renderer,{pageButton:{_:function(n,i,u,f,e,o){var c=n.oClasses,l=n.oLanguage.oPaginate,s,h,v=0,y=function(t,i){for(var p,f,b=function(t){yr(n,t.data.action,!0)},a=0,w=i.length;a<w;a++)if(f=i[a],r.isArray(f))p=r("<"+(f.DT_el||"div")+"/>").appendTo(t),y(p,f);else{h=s="";switch(f){case"ellipsis":t.append('<span class="ellipsis">&#x2026;<\/span>');break;case"first":s=l.sFirst;h=f+(e>0?"":" "+c.sPageButtonDisabled);break;case"previous":s=l.sPrevious;h=f+(e>0?"":" "+c.sPageButtonDisabled);break;case"next":s=l.sNext;h=f+(e<o-1?"":" "+c.sPageButtonDisabled);break;case"last":s=l.sLast;h=f+(e<o-1?"":" "+c.sPageButtonDisabled);break;default:s=f+1;h=e===f?c.sPageButtonActive:""}s&&(p=r("<a>",{"class":c.sPageButton+" "+h,"aria-controls":n.sTableId,"data-dt-idx":v,tabindex:n.iTabIndex,id:u===0&&typeof f=="string"?n.sTableId+"_"+f:null}).html(s).appendTo(t),kr(p,{action:f},b),v++)}},a;try{a=r(t.activeElement).data("dt-idx")}catch(p){}y(r(i).empty(),f);a&&r(i).find("[data-dt-idx="+a+"]").focus()}}}),r.extend(u.ext.type.detect,[function(n,t){var i=t.oLanguage.sDecimal;return ru(n,i)?"num"+i:null},function(n){if(n&&!(n instanceof Date)&&(!pe.test(n)||!we.test(n)))return null;var t=Date.parse(n);return null!==t&&!isNaN(t)||it(n)?"date":null},function(n,t){var i=t.oLanguage.sDecimal;return ru(n,i,!0)?"num-fmt"+i:null},function(n,t){var i=t.oLanguage.sDecimal;return ce(n,i)?"html-num"+i:null},function(n,t){var i=t.oLanguage.sDecimal;return ce(n,i,!0)?"html-num-fmt"+i:null},function(n){return it(n)||"string"==typeof n&&-1!==n.indexOf("<")?"html":null}]),r.extend(u.ext.type.search,{html:function(n){return it(n)?n:"string"==typeof n?n.replace(oe," ").replace(gi,""):""},string:function(n){return it(n)?n:"string"==typeof n?n.replace(oe," "):n}}),ui=function(n,t,i,r){return 0!==n&&(!n||"-"===n)?-Infinity:(t&&(n=he(n,t)),n.replace&&(i&&(n=n.replace(i,"")),r&&(n=n.replace(r,""))),1*n)},r.extend(c.type.order,{"date-pre":function(n){return Date.parse(n)||0},"html-pre":function(n){return it(n)?"":n.replace?n.replace(/<.*?>/g,"").toLowerCase():n+""},"string-pre":function(n){return it(n)?"":"string"==typeof n?n.toLowerCase():n.toString?n.toString():""},"string-asc":function(n,t){return n<t?-1:n>t?1:0},"string-desc":function(n,t){return n<t?1:n>t?-1:0}}),fe(""),r.extend(!0,u.ext.renderer,{header:{_:function(n,t,i,u){r(n.nTable).on("order.dt.DT",function(r,f,e,o){n===f&&(r=i.idx,t.removeClass(i.sSortingClass+" "+u.sSortAsc+" "+u.sSortDesc).addClass(o[r]=="asc"?u.sSortAsc:o[r]=="desc"?u.sSortDesc:i.sSortingClass))})},jqueryui:function(n,t,i,u){r("<div/>").addClass(u.sSortJUIWrapper).append(t.contents()).append(r("<span/>").addClass(u.sSortIcon+" "+i.sSortingClassJUI)).appendTo(t);r(n.nTable).on("order.dt.DT",function(r,f,e,o){n===f&&(r=i.idx,t.removeClass(u.sSortAsc+" "+u.sSortDesc).addClass(o[r]=="asc"?u.sSortAsc:o[r]=="desc"?u.sSortDesc:i.sSortingClass),t.find("span."+u.sSortIcon).removeClass(u.sSortJUIAsc+" "+u.sSortJUIDesc+" "+u.sSortJUI+" "+u.sSortJUIAscAllowed+" "+u.sSortJUIDescAllowed).addClass(o[r]=="asc"?u.sSortJUIAsc:o[r]=="desc"?u.sSortJUIDesc:i.sSortingClassJUI))})}}}),u.render={number:function(n,t,i,r){return{display:function(u){if("number"!=typeof u&&"string"!=typeof u)return u;var e=0>u?"-":"",u=Math.abs(parseFloat(u)),f=parseInt(u,10),u=i?t+(u-f).toFixed(i).substring(2):"";return e+(r||"")+f.toString().replace(/\B(?=(\d{3})+(?!\d))/g,n)+u}}}},r.extend(u.ext.internal,{_fnExternApiFunc:ee,_fnBuildAjax:ai,_fnAjaxUpdate:du,_fnAjaxParameters:gu,_fnAjaxUpdateDraw:nf,_fnAjaxDataSrc:vi,_fnAddColumn:fr,_fnColumnOptions:fi,_fnAdjustColumnSizing:at,_fnVisibleToColumnIndex:ei,_fnColumnIndexToVisible:vt,_fnVisbleColumns:yt,_fnGetColumns:pt,_fnColumnTypes:er,_fnApplyColumnDefs:wu,_fnHungarianMap:lt,_fnCamelToHungarian:nt,_fnLanguageCompat:ur,_fnBrowserDetect:yu,_fnAddData:rt,_fnAddTr:oi,_fnNodeToDataIndex:function(n,t){return t._DT_RowIndex!==i?t._DT_RowIndex:null},_fnNodeToColumnIndex:function(n,t,i){return r.inArray(i,n.aoData[t].anCells)},_fnGetCellData:a,_fnSetCellData:or,_fnSplitObjNotation:sr,_fnGetObjectDataFn:et,_fnSetObjectDataFn:ot,_fnGetDataMaster:hr,_fnClearTable:si,_fnDeleteIndex:hi,_fnInvalidate:wt,_fnGetRowElements:ci,_fnCreateTr:cr,_fnBuildHead:bu,_fnDrawHead:bt,_fnDraw:ut,_fnReDraw:ft,_fnAddOptionsHtml:ku,_fnDetectHeader:kt,_fnGetUniqueThs:li,_fnFeatureHtmlFilter:tf,_fnFilterComplete:dt,_fnFilterCustom:rf,_fnFilterColumn:uf,_fnFilter:ff,_fnFilterCreateSearch:ar,_fnEscapeRegex:yi,_fnFilterData:ef,_fnFeatureHtmlInfo:hf,_fnUpdateInfo:cf,_fnInfoMacros:lf,_fnInitialise:gt,_fnInitComplete:pi,_fnLengthChange:vr,_fnFeatureHtmlLength:af,_fnFeatureHtmlPaginate:vf,_fnPageChange:yr,_fnFeatureHtmlProcessing:yf,_fnProcessingDisplay:w,_fnFeatureHtmlTable:pf,_fnScrollDraw:ni,_fnApplyToChildren:g,_fnCalculateColumnWidths:pr,_fnThrottle:wi,_fnConvertToWidth:wf,_fnScrollingWidthAdjust:bf,_fnGetWidestNode:kf,_fnGetMaxLenString:df,_fnStringToCss:e,_fnScrollBarWidth:gf,_fnSortFlatten:st,_fnSort:ne,_fnSortAria:te,_fnSortListener:wr,_fnSortAttachListener:br,_fnSortingClasses:bi,_fnSortData:ie,_fnSaveState:ki,_fnLoadState:re,_fnSettingsFromNode:di,_fnLog:tt,_fnMap:k,_fnBindAction:kr,_fnCallbackReg:v,_fnCallbackFire:s,_fnLengthOverflow:dr,_fnRenderer:gr,_fnDataSource:y,_fnRowAttributes:lr,_fnCalculateEnd:function(){}}),r.fn.dataTable=u,r.fn.dataTableSettings=u.settings,r.fn.dataTableExt=u.ext,r.fn.DataTable=function(n){return r(this).dataTable(n).api()},r.each(u,function(n,t){r.fn.DataTable[n]=t}),r.fn.dataTable};"function"==typeof define&&define.amd?define("datatables",["jquery"],r):"object"==typeof exports?module.exports=r(require("jquery")):jQuery&&!jQuery.fn.dataTable&&r(jQuery)}(window,document);jQuery.fn.dataTableExt.oApi.fnPagingInfo=function(n){return{iStart:n._iDisplayStart,iEnd:n.fnDisplayEnd(),iLength:n._iDisplayLength,iTotal:n.fnRecordsTotal(),iFilteredTotal:n.fnRecordsDisplay(),iPage:Math.ceil(n._iDisplayStart/n._iDisplayLength),iTotalPages:Math.ceil(n.fnRecordsDisplay()/n._iDisplayLength)}};jQuery.extend(jQuery.fn.dataTableExt.oPagination,{bootstrap:{fnInit:function(n,t,i){var u=n.oLanguage.oPaginate,f=function(t){t.preventDefault();n.oApi._fnPageChange(n,t.data.action)&&i(n)},r;jQuery(t).append('<ul class="pagination pagination-sm remove-margin"><li class="prev disabled"><a href="javascript:void(0)"><i class="fa fa-chevron-left"><\/i> '+u.sPrevious+'<\/a><\/li><li class="next disabled"><a href="javascript:void(0)">'+u.sNext+' <i class="fa fa-chevron-right"><\/i><\/a><\/li><\/ul>');r=jQuery("a",t);jQuery(r[0]).bind("click.DT",{action:"previous"},f);jQuery(r[1]).bind("click.DT",{action:"next"},f)},fnUpdate:function(n,t){var r,e,c,f,o,s=5,i=n.oInstance.fnPagingInfo(),u=n.aanFeatures.p,h=Math.floor(s/2);for(i.iTotalPages<s?(f=1,o=i.iTotalPages):i.iPage<=h?(f=1,o=s):i.iPage>=i.iTotalPages-h?(f=i.iTotalPages-s+1,o=i.iTotalPages):(f=i.iPage-h+1,o=f+s-1),r=0,iLen=u.length;iLen>r;r++){for(jQuery("li:gt(0)",u[r]).filter(":not(:last)").remove(),e=f;o>=e;e++)c=e===i.iPage+1?'class="active"':"",jQuery("<li "+c+'><a href="javascript:void(0)">'+e+"<\/a><\/li>").insertBefore(jQuery("li:last",u[r])[0]).bind("click",function(r){r.preventDefault();n._iDisplayStart=(parseInt(jQuery("a",this).text(),10)-1)*i.iLength;t(n)});0===i.iPage?jQuery("li:first",u[r]).addClass("disabled"):jQuery("li:first",u[r]).removeClass("disabled");i.iPage===i.iTotalPages-1||0===i.iTotalPages?jQuery("li:last",u[r]).addClass("disabled"):jQuery("li:last",u[r]).removeClass("disabled")}}}}),function(n){function it(n,t,i){switch(arguments.length){case 2:return null!=n?n:t;case 3:return null!=n?n:null!=t?t:i;default:throw new Error("Implement me");}}function p(n,t){return uf.call(n,t)}function ot(){return{empty:!1,unusedTokens:[],unusedInput:[],overflow:-2,charsLeftOver:0,nullInput:!1,invalidMonth:null,invalidFormat:!1,userInvalidated:!1,iso:!1}}function ri(n){t.suppressDeprecationWarnings===!1&&"undefined"!=typeof console&&console.warn&&console.warn("Deprecation warning: "+n)}function o(n,t){var i=!0;return w(function(){return i&&(ri(n),i=!1),t.apply(this,arguments)},t)}function dr(n,t){br[n]||(ri(t),br[n]=!0)}function ui(n,t){return function(i){return r(n.call(this,i),t)}}function gr(n,t){return function(i){return this.localeData().ordinal(n.call(this,i),t)}}function nu(n,t){var r,f,u=12*(t.year()-n.year())+(t.month()-n.month()),i=n.clone().add(u,"months");return 0>t-i?(r=n.clone().add(u-1,"months"),f=(t-i)/(i-r)):(r=n.clone().add(u+1,"months"),f=(t-i)/(r-i)),-(u+f)}function tu(n,t,i){var r;return null==i?t:null!=n.meridiemHour?n.meridiemHour(t,i):null!=n.isPM?(r=n.isPM(i),r&&12>t&&(t+=12),r||12!==t||(t=0),t):t}function fi(){}function rt(n,i){i!==!1&&pi(n);ei(this,n);this._d=new Date(+n._d);ii===!1&&(ii=!0,t.updateOffset(this),ii=!1)}function st(n){var i=li(n),r=i.year||0,u=i.quarter||0,f=i.month||0,e=i.week||0,o=i.day||0,s=i.hour||0,h=i.minute||0,c=i.second||0,l=i.millisecond||0;this._milliseconds=+l+1e3*c+6e4*h+36e5*s;this._days=+o+7*e;this._months=+f+3*u+12*r;this._data={};this._locale=t.localeData();this._bubble()}function w(n,t){for(var i in t)p(t,i)&&(n[i]=t[i]);return p(t,"toString")&&(n.toString=t.toString),p(t,"valueOf")&&(n.valueOf=t.valueOf),n}function ei(n,t){var u,i,r;if("undefined"!=typeof t._isAMomentObject&&(n._isAMomentObject=t._isAMomentObject),"undefined"!=typeof t._i&&(n._i=t._i),"undefined"!=typeof t._f&&(n._f=t._f),"undefined"!=typeof t._l&&(n._l=t._l),"undefined"!=typeof t._strict&&(n._strict=t._strict),"undefined"!=typeof t._tzm&&(n._tzm=t._tzm),"undefined"!=typeof t._isUTC&&(n._isUTC=t._isUTC),"undefined"!=typeof t._offset&&(n._offset=t._offset),"undefined"!=typeof t._pf&&(n._pf=t._pf),"undefined"!=typeof t._locale&&(n._locale=t._locale),ft.length>0)for(u in ft)i=ft[u],r=t[i],"undefined"!=typeof r&&(n[i]=r);return n}function s(n){return 0>n?Math.ceil(n):Math.floor(n)}function r(n,t,i){for(var r=""+Math.abs(n),u=n>=0;r.length<t;)r="0"+r;return(u?i?"+":"":"-")+r}function oi(n,t){var i={milliseconds:0,months:0};return i.months=t.month()-n.month()+12*(t.year()-n.year()),n.clone().add(i.months,"M").isAfter(t)&&--i.months,i.milliseconds=+t-+n.clone().add(i.months,"M"),i}function iu(n,t){var i;return t=lt(t,n),n.isBefore(t)?i=oi(n,t):(i=oi(t,n),i.milliseconds=-i.milliseconds,i.months=-i.months),i}function si(n,i){return function(r,u){var f,e;return null===u||isNaN(+u)||(dr(i,"moment()."+i+"(period, number) is deprecated. Please use moment()."+i+"(number, period)."),e=r,r=u,u=e),r="string"==typeof r?+r:r,f=t.duration(r,u),hi(this,f,n),this}}function hi(n,i,r,u){var o=i._milliseconds,f=i._days,e=i._months;u=null==u?!0:u;o&&n._d.setTime(+n._d+o*r);f&&rr(n,"Date",bt(n,"Date")+f*r);e&&ir(n,bt(n,"Month")+e*r);u&&t.updateOffset(n,f||e)}function ut(n){return"[object Array]"===Object.prototype.toString.call(n)}function ht(n){return"[object Date]"===Object.prototype.toString.call(n)||n instanceof Date}function ci(n,t,r){for(var e=Math.min(n.length,t.length),o=Math.abs(n.length-t.length),f=0,u=0;e>u;u++)(r&&n[u]!==t[u]||!r&&i(n[u])!==i(t[u]))&&f++;return f+o}function f(n){if(n){var t=n.toLowerCase().replace(/(.)s$/,"$1");n=ne[n]||te[t]||t}return n}function li(n){var i,t,r={};for(t in n)p(n,t)&&(i=f(t),i&&(r[i]=n[t]));return r}function ru(i){var r,u;if(0===i.indexOf("week"))r=7,u="day";else{if(0!==i.indexOf("month"))return;r=12;u="month"}t[i]=function(f,e){var o,s,c=t._locale[i],h=[];if("number"==typeof f&&(e=f,f=n),s=function(n){var i=t().utc().set(u,n);return c.call(t._locale,i,f||"")},null!=e)return s(e);for(o=0;r>o;o++)h.push(s(o));return h}}function i(n){var t=+n,i=0;return 0!==t&&isFinite(t)&&(i=t>=0?Math.floor(t):Math.ceil(t)),i}function ct(n,t){return new Date(Date.UTC(n,t+1,0)).getUTCDate()}function ai(n,i,r){return b(t([n,11,31+i-r]),i,r).week}function vi(n){return yi(n)?366:365}function yi(n){return n%4==0&&n%100!=0||n%400==0}function pi(n){var t;n._a&&-2===n._pf.overflow&&(t=n._a[a]<0||n._a[a]>11?a:n._a[h]<1||n._a[h]>ct(n._a[l],n._a[a])?h:n._a[e]<0||n._a[e]>24||24===n._a[e]&&(0!==n._a[d]||0!==n._a[g]||0!==n._a[nt])?e:n._a[d]<0||n._a[d]>59?d:n._a[g]<0||n._a[g]>59?g:n._a[nt]<0||n._a[nt]>999?nt:-1,n._pf._overflowDayOfYear&&(l>t||t>h)&&(t=h),n._pf.overflow=t)}function wi(t){return null==t._isValid&&(t._isValid=!isNaN(t._d.getTime())&&t._pf.overflow<0&&!t._pf.empty&&!t._pf.invalidMonth&&!t._pf.nullInput&&!t._pf.invalidFormat&&!t._pf.userInvalidated,t._strict&&(t._isValid=t._isValid&&0===t._pf.charsLeftOver&&0===t._pf.unusedTokens.length&&t._pf.bigHour===n)),t._isValid}function bi(n){return n?n.toLowerCase().replace("_","-"):n}function uu(n){for(var i,t,f,r,u=0;u<n.length;){for(r=bi(n[u]).split("-"),i=r.length,t=bi(n[u+1]),t=t?t.split("-"):null;i>0;){if(f=ki(r.slice(0,i).join("-")))return f;if(t&&t.length>=i&&ci(r,t,!0)>=i-1)break;i--}u++}return null}function ki(n){var i=null;if(!tt[n]&&sr)try{i=t.locale();require("./locale/"+n);t.locale(i)}catch(r){}return tt[n]}function lt(n,i){var r,u;return i._isUTC?(r=i.clone(),u=(t.isMoment(n)||ht(n)?+n:+t(n))-+r,r._d.setTime(+r._d+u),t.updateOffset(r,!1),r):t(n).local()}function fu(n){return n.match(/\[[\s\S]/)?n.replace(/^\[|\]$/g,""):n.replace(/\\/g,"")}function eu(n){for(var i=n.match(hr),t=0,r=i.length;r>t;t++)i[t]=v[i[t]]?v[i[t]]:fu(i[t]);return function(u){var f="";for(t=0;r>t;t++)f+=i[t]instanceof Function?i[t].call(u,n):i[t];return f}}function at(n,t){return n.isValid()?(t=di(t,n.localeData()),ti[t]||(ti[t]=eu(t)),ti[t](n)):n.localeData().invalidDate()}function di(n,t){function r(n){return t.longDateFormat(n)||n}var i=5;for(et.lastIndex=0;i>=0&&et.test(n);)n=n.replace(et,r),et.lastIndex=0,i-=1;return n}function ou(n,t){var i=t._strict;switch(n){case"Q":return lr;case"DDDD":return vr;case"YYYY":case"GGGG":case"gggg":return i?wf:hf;case"Y":case"G":case"g":return kf;case"YYYYYY":case"YYYYY":case"GGGGG":case"ggggg":return i?bf:cf;case"S":if(i)return lr;case"SS":if(i)return ar;case"SSS":if(i)return vr;case"DDD":return sf;case"MMM":case"MMMM":case"dd":case"ddd":case"dddd":return af;case"a":case"A":return t._locale._meridiemParse;case"x":return yf;case"X":return pf;case"Z":case"ZZ":return dt;case"T":return vf;case"SSSS":return lf;case"MM":case"DD":case"YY":case"GG":case"gg":case"HH":case"hh":case"mm":case"ss":case"ww":case"WW":return i?ar:cr;case"M":case"D":case"d":case"H":case"h":case"m":case"s":case"w":case"W":case"e":case"E":return cr;case"Do":return i?t._locale._ordinalParse:t._locale._ordinalParseLenient;default:return new RegExp(vu(au(n.replace("\\","")),"i"))}}function vt(n){n=n||"";var r=n.match(dt)||[],f=r[r.length-1]||[],t=(f+"").match(gf)||["-",0,0],u=+(60*t[1])+i(t[2]);return"+"===t[0]?u:-u}function su(n,r,u){var o,f=u._a;switch(n){case"Q":null!=r&&(f[a]=3*(i(r)-1));break;case"M":case"MM":null!=r&&(f[a]=i(r)-1);break;case"MMM":case"MMMM":o=u._locale.monthsParse(r,n,u._strict);null!=o?f[a]=o:u._pf.invalidMonth=r;break;case"D":case"DD":null!=r&&(f[h]=i(r));break;case"Do":null!=r&&(f[h]=i(parseInt(r.match(/\d{1,2}/)[0],10)));break;case"DDD":case"DDDD":null!=r&&(u._dayOfYear=i(r));break;case"YY":f[l]=t.parseTwoDigitYear(r);break;case"YYYY":case"YYYYY":case"YYYYYY":f[l]=i(r);break;case"a":case"A":u._meridiem=r;break;case"h":case"hh":u._pf.bigHour=!0;case"H":case"HH":f[e]=i(r);break;case"m":case"mm":f[d]=i(r);break;case"s":case"ss":f[g]=i(r);break;case"S":case"SS":case"SSS":case"SSSS":f[nt]=i(1e3*("0."+r));break;case"x":u._d=new Date(i(r));break;case"X":u._d=new Date(1e3*parseFloat(r));break;case"Z":case"ZZ":u._useUTC=!0;u._tzm=vt(r);break;case"dd":case"ddd":case"dddd":o=u._locale.weekdaysParse(r);null!=o?(u._w=u._w||{},u._w.d=o):u._pf.invalidWeekday=r;break;case"w":case"ww":case"W":case"WW":case"d":case"e":case"E":n=n.substr(0,1);case"gggg":case"GGGG":case"GGGGG":n=n.substr(0,2);r&&(u._w=u._w||{},u._w[n]=i(r));break;case"gg":case"GG":u._w=u._w||{};u._w[n]=t.parseTwoDigitYear(r)}}function hu(n){var i,o,f,u,r,e,s;i=n._w;null!=i.GG||null!=i.W||null!=i.E?(r=1,e=4,o=it(i.GG,n._a[l],b(t(),1,4).year),f=it(i.W,1),u=it(i.E,1)):(r=n._locale._week.dow,e=n._locale._week.doy,o=it(i.gg,n._a[l],b(t(),r,e).year),f=it(i.w,1),null!=i.d?(u=i.d,r>u&&++f):u=null!=i.e?i.e+r:r);s=tf(o,f,u,e,r);n._a[l]=s.year;n._dayOfYear=s.dayOfYear}function yt(n){var t,i,r,u,f=[];if(!n._d){for(r=lu(n),n._w&&null==n._a[h]&&null==n._a[a]&&hu(n),n._dayOfYear&&(u=it(n._a[l],r[l]),n._dayOfYear>vi(u)&&(n._pf._overflowDayOfYear=!0),i=wt(u,0,n._dayOfYear),n._a[a]=i.getUTCMonth(),n._a[h]=i.getUTCDate()),t=0;3>t&&null==n._a[t];++t)n._a[t]=f[t]=r[t];for(;7>t;t++)n._a[t]=f[t]=null==n._a[t]?2===t?1:0:n._a[t];24===n._a[e]&&0===n._a[d]&&0===n._a[g]&&0===n._a[nt]&&(n._nextDay=!0,n._a[e]=0);n._d=(n._useUTC?wt:ku).apply(null,f);null!=n._tzm&&n._d.setUTCMinutes(n._d.getUTCMinutes()-n._tzm);n._nextDay&&(n._a[e]=24)}}function cu(n){var t;n._d||(t=li(n._i),n._a=[t.year,t.month,t.day||t.date,t.hour,t.minute,t.second,t.millisecond],yt(n))}function lu(n){var t=new Date;return n._useUTC?[t.getUTCFullYear(),t.getUTCMonth(),t.getUTCDate()]:[t.getFullYear(),t.getMonth(),t.getDate()]}function pt(i){if(i._f===t.ISO_8601)return void gi(i);i._a=[];i._pf.empty=!0;for(var r,f,h,u=""+i._i,l=u.length,c=0,s=di(i._f,i._locale).match(hr)||[],o=0;o<s.length;o++)f=s[o],r=(u.match(ou(f,i))||[])[0],r&&(h=u.substr(0,u.indexOf(r)),h.length>0&&i._pf.unusedInput.push(h),u=u.slice(u.indexOf(r)+r.length),c+=r.length),v[f]?(r?i._pf.empty=!1:i._pf.unusedTokens.push(f),su(f,r,i)):i._strict&&!r&&i._pf.unusedTokens.push(f);i._pf.charsLeftOver=l-c;u.length>0&&i._pf.unusedInput.push(u);i._pf.bigHour===!0&&i._a[e]<=12&&(i._pf.bigHour=n);i._a[e]=tu(i._locale,i._a[e],i._meridiem);yt(i);pi(i)}function au(n){return n.replace(/\\(\[)|\\(\])|\[([^\]\[]*)\]|\\(.)/g,function(n,t,i,r,u){return t||i||r||u})}function vu(n){return n.replace(/[-\/\\^$*+?.()|[\]{}]/g,"\\$&")}function yu(n){var t,f,u,r,i;if(0===n._f.length)return n._pf.invalidFormat=!0,void(n._d=new Date(NaN));for(r=0;r<n._f.length;r++)i=0,t=ei({},n),null!=n._useUTC&&(t._useUTC=n._useUTC),t._pf=ot(),t._f=n._f[r],pt(t),wi(t)&&(i+=t._pf.charsLeftOver,i+=10*t._pf.unusedTokens.length,t._pf.score=i,(null==u||u>i)&&(u=i,f=t));w(n,f||t)}function gi(n){var t,i,r=n._i,u=df.exec(r);if(u){for(n._pf.iso=!0,t=0,i=gt.length;i>t;t++)if(gt[t][1].exec(r)){n._f=gt[t][0]+(u[6]||" ");break}for(t=0,i=ni.length;i>t;t++)if(ni[t][1].exec(r)){n._f+=ni[t][0];break}r.match(dt)&&(n._f+="Z");pt(n)}else n._isValid=!1}function pu(n){gi(n);n._isValid===!1&&(delete n._isValid,t.createFromInputFallback(n))}function wu(n,t){for(var r=[],i=0;i<n.length;++i)r.push(t(n[i],i));return r}function bu(i){var u,r=i._i;r===n?i._d=new Date:ht(r)?i._d=new Date(+r):null!==(u=ff.exec(r))?i._d=new Date(+u[1]):"string"==typeof r?pu(i):ut(r)?(i._a=wu(r.slice(0),function(n){return parseInt(n,10)}),yt(i)):"object"==typeof r?cu(i):"number"==typeof r?i._d=new Date(r):t.createFromInputFallback(i)}function ku(n,t,i,r,u,f,e){var o=new Date(n,t,i,r,u,f,e);return 1970>n&&o.setFullYear(n),o}function wt(n){var t=new Date(Date.UTC.apply(null,arguments));return 1970>n&&t.setUTCFullYear(n),t}function du(n,t){if("string"==typeof n)if(isNaN(n)){if(n=t.weekdaysParse(n),"number"!=typeof n)return null}else n=parseInt(n,10);return n}function gu(n,t,i,r,u){return u.relativeTime(t||1,!!i,n,r)}function nf(n,i,r){var u=t.duration(n).abs(),c=k(u.as("s")),e=k(u.as("m")),o=k(u.as("h")),s=k(u.as("d")),h=k(u.as("M")),l=k(u.as("y")),f=c<y.s&&["s",c]||1===e&&["m"]||e<y.m&&["mm",e]||1===o&&["h"]||o<y.h&&["hh",o]||1===s&&["d"]||s<y.d&&["dd",s]||1===h&&["M"]||h<y.M&&["MM",h]||1===l&&["y"]||["yy",l];return f[2]=i,f[3]=+n>0,f[4]=r,gu.apply({},f)}function b(n,i,r){var f,e=r-i,u=r-n.day();return u>e&&(u-=7),e-7>u&&(u+=7),f=t(n).add(u,"d"),{week:Math.ceil(f.dayOfYear()/7),year:f.year()}}function tf(n,t,i,r,u){var o,e,f=wt(n,0,1).getUTCDay();return f=0===f?7:f,i=null!=i?i:u,o=u-f+(f>r?7:0)-(u>f?7:0),e=7*(t-1)+(i-u)+o+1,{year:e>0?n:n-1,dayOfYear:e>0?e:vi(n-1)+e}}function nr(i){var u,r=i._i,f=i._f;return i._locale=i._locale||t.localeData(i._l),null===r||f===n&&""===r?t.invalid({nullInput:!0}):("string"==typeof r&&(i._i=r=i._locale.preparse(r)),t.isMoment(r)?new rt(r,!0):(f?ut(f)?yu(i):pt(i):bu(i),u=new rt(i),u._nextDay&&(u.add(1,"d"),u._nextDay=n),u))}function tr(n,i){var u,r;if(1===i.length&&ut(i[0])&&(i=i[0]),!i.length)return t();for(u=i[0],r=1;r<i.length;++r)i[r][n](u)&&(u=i[r]);return u}function ir(n,t){var i;return"string"==typeof t&&(t=n.localeData().monthsParse(t),"number"!=typeof t)?n:(i=Math.min(n.date(),ct(n.year(),t)),n._d["set"+(n._isUTC?"UTC":"")+"Month"](t,i),n)}function bt(n,t){return n._d["get"+(n._isUTC?"UTC":"")+t]()}function rr(n,t,i){return"Month"===t?ir(n,i):n._d["set"+(n._isUTC?"UTC":"")+t](i)}function c(n,i){return function(r){return null!=r?(rr(this,n,r),t.updateOffset(this,i),this):bt(this,n)}}function ur(n){return 400*n/146097}function fr(n){return 146097*n/400}function rf(n){t.duration.fn[n]=function(){return this._data[n]}}function er(n){"undefined"==typeof ender&&(or=kt.moment,kt.moment=n?o("Accessing Moment through the global scope is deprecated, and will be removed in an upcoming release.",t):t)}for(var t,or,u,kt="undefined"==typeof global||"undefined"!=typeof window&&window!==global.window?this:global,k=Math.round,uf=Object.prototype.hasOwnProperty,l=0,a=1,h=2,e=3,d=4,g=5,nt=6,tt={},ft=[],sr="undefined"!=typeof module&&module&&module.exports,ff=/^\/?Date\((\-?\d+)/i,ef=/(\-)?(?:(\d*)\.)?(\d+)\:(\d+)(?:\:(\d+)\.?(\d{3})?)?/,of=/^(-)?P(?:(?:([0-9,.]*)Y)?(?:([0-9,.]*)M)?(?:([0-9,.]*)D)?(?:T(?:([0-9,.]*)H)?(?:([0-9,.]*)M)?(?:([0-9,.]*)S)?)?|([0-9,.]*)W)$/,hr=/(\[[^\[]*\])|(\\)?(Mo|MM?M?M?|Do|DDDo|DD?D?D?|ddd?d?|do?|w[o|w]?|W[o|W]?|Q|YYYYYY|YYYYY|YYYY|YY|gg(ggg?)?|GG(GGG?)?|e|E|a|A|hh?|HH?|mm?|ss?|S{1,4}|x|X|zz?|ZZ?|.)/g,et=/(\[[^\[]*\])|(\\)?(LTS|LT|LL?L?L?|l{1,4})/g,cr=/\d\d?/,sf=/\d{1,3}/,hf=/\d{1,4}/,cf=/[+\-]?\d{1,6}/,lf=/\d+/,af=/[0-9]*['a-z\u00A0-\u05FF\u0700-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF]+|[\u0600-\u06FF\/]+(\s*?[\u0600-\u06FF]+){1,2}/i,dt=/Z|[\+\-]\d\d:?\d\d/gi,vf=/T/i,yf=/[\+\-]?\d+/,pf=/[\+\-]?\d+(\.\d{1,3})?/,lr=/\d/,ar=/\d\d/,vr=/\d{3}/,wf=/\d{4}/,bf=/[+-]?\d{6}/,kf=/[+-]?\d+/,df=/^\s*(?:[+-]\d{6}|\d{4})-(?:(\d\d-\d\d)|(W\d\d$)|(W\d\d-\d)|(\d\d\d))((T| )(\d\d(:\d\d(:\d\d(\.\d+)?)?)?)?([\+\-]\d\d(?::?\d\d)?|\s*Z)?)?$/,gt=[["YYYYYY-MM-DD",/[+-]\d{6}-\d{2}-\d{2}/],["YYYY-MM-DD",/\d{4}-\d{2}-\d{2}/],["GGGG-[W]WW-E",/\d{4}-W\d{2}-\d/],["GGGG-[W]WW",/\d{4}-W\d{2}/],["YYYY-DDD",/\d{4}-\d{3}/]],ni=[["HH:mm:ss.SSSS",/(T| )\d\d:\d\d:\d\d\.\d+/],["HH:mm:ss",/(T| )\d\d:\d\d:\d\d/],["HH:mm",/(T| )\d\d:\d\d/],["HH",/(T| )\d\d/]],gf=/([\+\-]|\d\d)/gi,yr=("Date|Hours|Minutes|Seconds|Milliseconds".split("|"),{Milliseconds:1,Seconds:1e3,Minutes:6e4,Hours:36e5,Days:864e5,Months:2592e6,Years:31536e6}),ne={ms:"millisecond",s:"second",m:"minute",h:"hour",d:"day",D:"date",w:"week",W:"isoWeek",M:"month",Q:"quarter",y:"year",DDD:"dayOfYear",e:"weekday",E:"isoWeekday",gg:"weekYear",GG:"isoWeekYear"},te={dayofyear:"dayOfYear",isoweekday:"isoWeekday",isoweek:"isoWeek",weekyear:"weekYear",isoweekyear:"isoWeekYear"},ti={},y={s:45,m:45,h:22,d:26,M:11},pr="DDD w W M D d".split(" "),wr="M D H h m s w W".split(" "),v={M:function(){return this.month()+1},MMM:function(n){return this.localeData().monthsShort(this,n)},MMMM:function(n){return this.localeData().months(this,n)},D:function(){return this.date()},DDD:function(){return this.dayOfYear()},d:function(){return this.day()},dd:function(n){return this.localeData().weekdaysMin(this,n)},ddd:function(n){return this.localeData().weekdaysShort(this,n)},dddd:function(n){return this.localeData().weekdays(this,n)},w:function(){return this.week()},W:function(){return this.isoWeek()},YY:function(){return r(this.year()%100,2)},YYYY:function(){return r(this.year(),4)},YYYYY:function(){return r(this.year(),5)},YYYYYY:function(){var n=this.year(),t=n>=0?"+":"-";return t+r(Math.abs(n),6)},gg:function(){return r(this.weekYear()%100,2)},gggg:function(){return r(this.weekYear(),4)},ggggg:function(){return r(this.weekYear(),5)},GG:function(){return r(this.isoWeekYear()%100,2)},GGGG:function(){return r(this.isoWeekYear(),4)},GGGGG:function(){return r(this.isoWeekYear(),5)},e:function(){return this.weekday()},E:function(){return this.isoWeekday()},a:function(){return this.localeData().meridiem(this.hours(),this.minutes(),!0)},A:function(){return this.localeData().meridiem(this.hours(),this.minutes(),!1)},H:function(){return this.hours()},h:function(){return this.hours()%12||12},m:function(){return this.minutes()},s:function(){return this.seconds()},S:function(){return i(this.milliseconds()/100)},SS:function(){return r(i(this.milliseconds()/10),2)},SSS:function(){return r(this.milliseconds(),3)},SSSS:function(){return r(this.milliseconds(),3)},Z:function(){var n=this.utcOffset(),t="+";return 0>n&&(n=-n,t="-"),t+r(i(n/60),2)+":"+r(i(n)%60,2)},ZZ:function(){var n=this.utcOffset(),t="+";return 0>n&&(n=-n,t="-"),t+r(i(n/60),2)+r(i(n)%60,2)},z:function(){return this.zoneAbbr()},zz:function(){return this.zoneName()},x:function(){return this.valueOf()},X:function(){return this.unix()},Q:function(){return this.quarter()}},br={},kr=["months","monthsShort","weekdays","weekdaysShort","weekdaysMin"],ii=!1;pr.length;)u=pr.pop(),v[u+"o"]=gr(v[u],u);for(;wr.length;)u=wr.pop(),v[u+u]=ui(v[u],2);for(v.DDDD=ui(v.DDD,3),w(fi.prototype,{set:function(n){var t,i;for(i in n)t=n[i],"function"==typeof t?this[i]=t:this["_"+i]=t;this._ordinalParseLenient=new RegExp(this._ordinalParse.source+"|"+/\d{1,2}/.source)},_months:"January_February_March_April_May_June_July_August_September_October_November_December".split("_"),months:function(n){return this._months[n.month()]},_monthsShort:"Jan_Feb_Mar_Apr_May_Jun_Jul_Aug_Sep_Oct_Nov_Dec".split("_"),monthsShort:function(n){return this._monthsShort[n.month()]},monthsParse:function(n,i,r){var u,f,e;for(this._monthsParse||(this._monthsParse=[],this._longMonthsParse=[],this._shortMonthsParse=[]),u=0;12>u;u++)if((f=t.utc([2e3,u]),r&&!this._longMonthsParse[u]&&(this._longMonthsParse[u]=new RegExp("^"+this.months(f,"").replace(".","")+"$","i"),this._shortMonthsParse[u]=new RegExp("^"+this.monthsShort(f,"").replace(".","")+"$","i")),r||this._monthsParse[u]||(e="^"+this.months(f,"")+"|^"+this.monthsShort(f,""),this._monthsParse[u]=new RegExp(e.replace(".",""),"i")),r&&"MMMM"===i&&this._longMonthsParse[u].test(n))||r&&"MMM"===i&&this._shortMonthsParse[u].test(n)||!r&&this._monthsParse[u].test(n))return u},_weekdays:"Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),weekdays:function(n){return this._weekdays[n.day()]},_weekdaysShort:"Sun_Mon_Tue_Wed_Thu_Fri_Sat".split("_"),weekdaysShort:function(n){return this._weekdaysShort[n.day()]},_weekdaysMin:"Su_Mo_Tu_We_Th_Fr_Sa".split("_"),weekdaysMin:function(n){return this._weekdaysMin[n.day()]},weekdaysParse:function(n){var i,r,u;for(this._weekdaysParse||(this._weekdaysParse=[]),i=0;7>i;i++)if(this._weekdaysParse[i]||(r=t([2e3,1]).day(i),u="^"+this.weekdays(r,"")+"|^"+this.weekdaysShort(r,"")+"|^"+this.weekdaysMin(r,""),this._weekdaysParse[i]=new RegExp(u.replace(".",""),"i")),this._weekdaysParse[i].test(n))return i},_longDateFormat:{LTS:"h:mm:ss A",LT:"h:mm A",L:"MM/DD/YYYY",LL:"MMMM D, YYYY",LLL:"MMMM D, YYYY LT",LLLL:"dddd, MMMM D, YYYY LT"},longDateFormat:function(n){var t=this._longDateFormat[n];return!t&&this._longDateFormat[n.toUpperCase()]&&(t=this._longDateFormat[n.toUpperCase()].replace(/MMMM|MM|DD|dddd/g,function(n){return n.slice(1)}),this._longDateFormat[n]=t),t},isPM:function(n){return"p"===(n+"").toLowerCase().charAt(0)},_meridiemParse:/[ap]\.?m?\.?/i,meridiem:function(n,t,i){return n>11?i?"pm":"PM":i?"am":"AM"},_calendar:{sameDay:"[Today at] LT",nextDay:"[Tomorrow at] LT",nextWeek:"dddd [at] LT",lastDay:"[Yesterday at] LT",lastWeek:"[Last] dddd [at] LT",sameElse:"L"},calendar:function(n,t,i){var r=this._calendar[n];return"function"==typeof r?r.apply(t,[i]):r},_relativeTime:{future:"in %s",past:"%s ago",s:"a few seconds",m:"a minute",mm:"%d minutes",h:"an hour",hh:"%d hours",d:"a day",dd:"%d days",M:"a month",MM:"%d months",y:"a year",yy:"%d years"},relativeTime:function(n,t,i,r){var u=this._relativeTime[i];return"function"==typeof u?u(n,t,i,r):u.replace(/%d/i,n)},pastFuture:function(n,t){var i=this._relativeTime[n>0?"future":"past"];return"function"==typeof i?i(t):i.replace(/%s/i,t)},ordinal:function(n){return this._ordinal.replace("%d",n)},_ordinal:"%d",_ordinalParse:/\d{1,2}/,preparse:function(n){return n},postformat:function(n){return n},week:function(n){return b(n,this._week.dow,this._week.doy).week},_week:{dow:0,doy:6},firstDayOfWeek:function(){return this._week.dow},firstDayOfYear:function(){return this._week.doy},_invalidDate:"Invalid date",invalidDate:function(){return this._invalidDate}}),t=function(t,i,r,u){var f;return"boolean"==typeof r&&(u=r,r=n),f={},f._isAMomentObject=!0,f._i=t,f._f=i,f._l=r,f._strict=u,f._isUTC=!1,f._pf=ot(),nr(f)},t.suppressDeprecationWarnings=!1,t.createFromInputFallback=o("moment construction falls back to js Date. This is discouraged and will be removed in upcoming major release. Please refer to https://github.com/moment/moment/issues/1407 for more info.",function(n){n._d=new Date(n._i+(n._useUTC?" UTC":""))}),t.min=function(){var n=[].slice.call(arguments,0);return tr("isBefore",n)},t.max=function(){var n=[].slice.call(arguments,0);return tr("isAfter",n)},t.utc=function(t,i,r,u){var f;return"boolean"==typeof r&&(u=r,r=n),f={},f._isAMomentObject=!0,f._useUTC=!0,f._isUTC=!0,f._l=r,f._i=t,f._f=i,f._strict=u,f._pf=ot(),nr(f).utc()},t.unix=function(n){return t(1e3*n)},t.duration=function(n,r){var o,c,s,l,u=n,f=null;return t.isDuration(n)?u={ms:n._milliseconds,d:n._days,M:n._months}:"number"==typeof n?(u={},r?u[r]=n:u.milliseconds=n):(f=ef.exec(n))?(o="-"===f[1]?-1:1,u={y:0,d:i(f[h])*o,h:i(f[e])*o,m:i(f[d])*o,s:i(f[g])*o,ms:i(f[nt])*o}):(f=of.exec(n))?(o="-"===f[1]?-1:1,s=function(n){var t=n&&parseFloat(n.replace(",","."));return(isNaN(t)?0:t)*o},u={y:s(f[2]),M:s(f[3]),d:s(f[4]),h:s(f[5]),m:s(f[6]),s:s(f[7]),w:s(f[8])}):null==u?u={}:"object"==typeof u&&("from"in u||"to"in u)&&(l=iu(t(u.from),t(u.to)),u={},u.ms=l.milliseconds,u.M=l.months),c=new st(u),t.isDuration(n)&&p(n,"_locale")&&(c._locale=n._locale),c},t.version="2.9.0",t.defaultFormat="YYYY-MM-DDTHH:mm:ssZ",t.ISO_8601=function(){},t.momentProperties=ft,t.updateOffset=function(){},t.relativeTimeThreshold=function(t,i){return y[t]===n?!1:i===n?y[t]:(y[t]=i,!0)},t.lang=o("moment.lang is deprecated. Use moment.locale instead.",function(n,i){return t.locale(n,i)}),t.locale=function(n,i){var r;return n&&(r="undefined"!=typeof i?t.defineLocale(n,i):t.localeData(n),r&&(t.duration._locale=t._locale=r)),t._locale._abbr},t.defineLocale=function(n,i){return null!==i?(i.abbr=n,tt[n]||(tt[n]=new fi),tt[n].set(i),t.locale(n),tt[n]):(delete tt[n],null)},t.langData=o("moment.langData is deprecated. Use moment.localeData instead.",function(n){return t.localeData(n)}),t.localeData=function(n){var i;if(n&&n._locale&&n._locale._abbr&&(n=n._locale._abbr),!n)return t._locale;if(!ut(n)){if(i=ki(n))return i;n=[n]}return uu(n)},t.isMoment=function(n){return n instanceof rt||null!=n&&p(n,"_isAMomentObject")},t.isDuration=function(n){return n instanceof st},u=kr.length-1;u>=0;--u)ru(kr[u]);t.normalizeUnits=function(n){return f(n)};t.invalid=function(n){var i=t.utc(NaN);return null!=n?w(i._pf,n):i._pf.userInvalidated=!0,i};t.parseZone=function(){return t.apply(null,arguments).parseZone()};t.parseTwoDigitYear=function(n){return i(n)+(i(n)>68?1900:2e3)};t.isDate=ht;w(t.fn=rt.prototype,{clone:function(){return t(this)},valueOf:function(){return+this._d-6e4*(this._offset||0)},unix:function(){return Math.floor(+this/1e3)},toString:function(){return this.clone().locale("en").format("ddd MMM DD YYYY HH:mm:ss [GMT]ZZ")},toDate:function(){return this._offset?new Date(+this):this._d},toISOString:function(){var n=t(this).utc();return 0<n.year()&&n.year()<=9999?"function"==typeof Date.prototype.toISOString?this.toDate().toISOString():at(n,"YYYY-MM-DD[T]HH:mm:ss.SSS[Z]"):at(n,"YYYYYY-MM-DD[T]HH:mm:ss.SSS[Z]")},toArray:function(){var n=this;return[n.year(),n.month(),n.date(),n.hours(),n.minutes(),n.seconds(),n.milliseconds()]},isValid:function(){return wi(this)},isDSTShifted:function(){return this._a?this.isValid()&&ci(this._a,(this._isUTC?t.utc(this._a):t(this._a)).toArray())>0:!1},parsingFlags:function(){return w({},this._pf)},invalidAt:function(){return this._pf.overflow},utc:function(n){return this.utcOffset(0,n)},local:function(n){return this._isUTC&&(this.utcOffset(0,n),this._isUTC=!1,n&&this.subtract(this._dateUtcOffset(),"m")),this},format:function(n){var i=at(this,n||t.defaultFormat);return this.localeData().postformat(i)},add:si(1,"add"),subtract:si(-1,"subtract"),diff:function(n,t,i){var r,u,e=lt(n,this),o=6e4*(e.utcOffset()-this.utcOffset());return t=f(t),"year"===t||"month"===t||"quarter"===t?(u=nu(this,e),"quarter"===t?u/=3:"year"===t&&(u/=12)):(r=this-e,u="second"===t?r/1e3:"minute"===t?r/6e4:"hour"===t?r/36e5:"day"===t?(r-o)/864e5:"week"===t?(r-o)/6048e5:r),i?u:s(u)},from:function(n,i){return t.duration({to:this,from:n}).locale(this.locale()).humanize(!i)},fromNow:function(n){return this.from(t(),n)},calendar:function(n){var r=n||t(),u=lt(r,this).startOf("day"),i=this.diff(u,"days",!0),f=-6>i?"sameElse":-1>i?"lastWeek":0>i?"lastDay":1>i?"sameDay":2>i?"nextDay":7>i?"nextWeek":"sameElse";return this.format(this.localeData().calendar(f,this,t(r)))},isLeapYear:function(){return yi(this.year())},isDST:function(){return this.utcOffset()>this.clone().month(0).utcOffset()||this.utcOffset()>this.clone().month(5).utcOffset()},day:function(n){var t=this._isUTC?this._d.getUTCDay():this._d.getDay();return null!=n?(n=du(n,this.localeData()),this.add(n-t,"d")):t},month:c("Month",!0),startOf:function(n){switch(n=f(n)){case"year":this.month(0);case"quarter":case"month":this.date(1);case"week":case"isoWeek":case"day":this.hours(0);case"hour":this.minutes(0);case"minute":this.seconds(0);case"second":this.milliseconds(0)}return"week"===n?this.weekday(0):"isoWeek"===n&&this.isoWeekday(1),"quarter"===n&&this.month(3*Math.floor(this.month()/3)),this},endOf:function(t){return t=f(t),t===n||"millisecond"===t?this:this.startOf(t).add(1,"isoWeek"===t?"week":t).subtract(1,"ms")},isAfter:function(n,i){var r;return i=f("undefined"!=typeof i?i:"millisecond"),"millisecond"===i?(n=t.isMoment(n)?n:t(n),+this>+n):(r=t.isMoment(n)?+n:+t(n),r<+this.clone().startOf(i))},isBefore:function(n,i){var r;return i=f("undefined"!=typeof i?i:"millisecond"),"millisecond"===i?(n=t.isMoment(n)?n:t(n),+n>+this):(r=t.isMoment(n)?+n:+t(n),+this.clone().endOf(i)<r)},isBetween:function(n,t,i){return this.isAfter(n,i)&&this.isBefore(t,i)},isSame:function(n,i){var r;return i=f(i||"millisecond"),"millisecond"===i?(n=t.isMoment(n)?n:t(n),+this==+n):(r=+t(n),+this.clone().startOf(i)<=r&&r<=+this.clone().endOf(i))},min:o("moment().min is deprecated, use moment.min instead. https://github.com/moment/moment/issues/1548",function(n){return n=t.apply(null,arguments),this>n?this:n}),max:o("moment().max is deprecated, use moment.max instead. https://github.com/moment/moment/issues/1548",function(n){return n=t.apply(null,arguments),n>this?this:n}),zone:o("moment().zone is deprecated, use moment().utcOffset instead. https://github.com/moment/moment/issues/1779",function(n,t){return null!=n?("string"!=typeof n&&(n=-n),this.utcOffset(n,t),this):-this.utcOffset()}),utcOffset:function(n,i){var r,u=this._offset||0;return null!=n?("string"==typeof n&&(n=vt(n)),Math.abs(n)<16&&(n=60*n),!this._isUTC&&i&&(r=this._dateUtcOffset()),this._offset=n,this._isUTC=!0,null!=r&&this.add(r,"m"),u!==n&&(!i||this._changeInProgress?hi(this,t.duration(n-u,"m"),1,!1):this._changeInProgress||(this._changeInProgress=!0,t.updateOffset(this,!0),this._changeInProgress=null)),this):this._isUTC?u:this._dateUtcOffset()},isLocal:function(){return!this._isUTC},isUtcOffset:function(){return this._isUTC},isUtc:function(){return this._isUTC&&0===this._offset},zoneAbbr:function(){return this._isUTC?"UTC":""},zoneName:function(){return this._isUTC?"Coordinated Universal Time":""},parseZone:function(){return this._tzm?this.utcOffset(this._tzm):"string"==typeof this._i&&this.utcOffset(vt(this._i)),this},hasAlignedHourOffset:function(n){return n=n?t(n).utcOffset():0,(this.utcOffset()-n)%60==0},daysInMonth:function(){return ct(this.year(),this.month())},dayOfYear:function(n){var i=k((t(this).startOf("day")-t(this).startOf("year"))/864e5)+1;return null==n?i:this.add(n-i,"d")},quarter:function(n){return null==n?Math.ceil((this.month()+1)/3):this.month(3*(n-1)+this.month()%3)},weekYear:function(n){var t=b(this,this.localeData()._week.dow,this.localeData()._week.doy).year;return null==n?t:this.add(n-t,"y")},isoWeekYear:function(n){var t=b(this,1,4).year;return null==n?t:this.add(n-t,"y")},week:function(n){var t=this.localeData().week(this);return null==n?t:this.add(7*(n-t),"d")},isoWeek:function(n){var t=b(this,1,4).week;return null==n?t:this.add(7*(n-t),"d")},weekday:function(n){var t=(this.day()+7-this.localeData()._week.dow)%7;return null==n?t:this.add(n-t,"d")},isoWeekday:function(n){return null==n?this.day()||7:this.day(this.day()%7?n:n-7)},isoWeeksInYear:function(){return ai(this.year(),1,4)},weeksInYear:function(){var n=this.localeData()._week;return ai(this.year(),n.dow,n.doy)},get:function(n){return n=f(n),this[n]()},set:function(n,t){var i;if("object"==typeof n)for(i in n)this.set(i,n[i]);else n=f(n),"function"==typeof this[n]&&this[n](t);return this},locale:function(i){var r;return i===n?this._locale._abbr:(r=t.localeData(i),null!=r&&(this._locale=r),this)},lang:o("moment().lang() is deprecated. Instead, use moment().localeData() to get the language configuration. Use moment().locale() to change languages.",function(t){return t===n?this.localeData():this.locale(t)}),localeData:function(){return this._locale},_dateUtcOffset:function(){return 15*-Math.round(this._d.getTimezoneOffset()/15)}});t.fn.millisecond=t.fn.milliseconds=c("Milliseconds",!1);t.fn.second=t.fn.seconds=c("Seconds",!1);t.fn.minute=t.fn.minutes=c("Minutes",!1);t.fn.hour=t.fn.hours=c("Hours",!0);t.fn.date=c("Date",!0);t.fn.dates=o("dates accessor is deprecated. Use date instead.",c("Date",!0));t.fn.year=c("FullYear",!0);t.fn.years=o("years accessor is deprecated. Use year instead.",c("FullYear",!0));t.fn.days=t.fn.day;t.fn.months=t.fn.month;t.fn.weeks=t.fn.week;t.fn.isoWeeks=t.fn.isoWeek;t.fn.quarters=t.fn.quarter;t.fn.toJSON=t.fn.toISOString;t.fn.isUTC=t.fn.isUtc;w(t.duration.fn=st.prototype,{_bubble:function(){var u,f,e,o=this._milliseconds,t=this._days,i=this._months,n=this._data,r=0;n.milliseconds=o%1e3;u=s(o/1e3);n.seconds=u%60;f=s(u/60);n.minutes=f%60;e=s(f/60);n.hours=e%24;t+=s(e/24);r=s(ur(t));t-=s(fr(r));i+=s(t/30);t%=30;r+=s(i/12);i%=12;n.days=t;n.months=i;n.years=r},abs:function(){return this._milliseconds=Math.abs(this._milliseconds),this._days=Math.abs(this._days),this._months=Math.abs(this._months),this._data.milliseconds=Math.abs(this._data.milliseconds),this._data.seconds=Math.abs(this._data.seconds),this._data.minutes=Math.abs(this._data.minutes),this._data.hours=Math.abs(this._data.hours),this._data.months=Math.abs(this._data.months),this._data.years=Math.abs(this._data.years),this},weeks:function(){return s(this.days()/7)},valueOf:function(){return this._milliseconds+864e5*this._days+this._months%12*2592e6+31536e6*i(this._months/12)},humanize:function(n){var t=nf(this,!n,this.localeData());return n&&(t=this.localeData().pastFuture(+this,t)),this.localeData().postformat(t)},add:function(n,i){var r=t.duration(n,i);return this._milliseconds+=r._milliseconds,this._days+=r._days,this._months+=r._months,this._bubble(),this},subtract:function(n,i){var r=t.duration(n,i);return this._milliseconds-=r._milliseconds,this._days-=r._days,this._months-=r._months,this._bubble(),this},get:function(n){return n=f(n),this[n.toLowerCase()+"s"]()},as:function(n){var t,i;if(n=f(n),"month"===n||"year"===n)return t=this._days+this._milliseconds/864e5,i=this._months+12*ur(t),"month"===n?i:i/12;switch(t=this._days+Math.round(fr(this._months/12)),n){case"week":return t/7+this._milliseconds/6048e5;case"day":return t+this._milliseconds/864e5;case"hour":return 24*t+this._milliseconds/36e5;case"minute":return 1440*t+this._milliseconds/6e4;case"second":return 86400*t+this._milliseconds/1e3;case"millisecond":return Math.floor(864e5*t)+this._milliseconds;default:throw new Error("Unknown unit "+n);}},lang:t.fn.lang,locale:t.fn.locale,toIsoString:o("toIsoString() is deprecated. Please use toISOString() instead (notice the capitals)",function(){return this.toISOString()}),toISOString:function(){var r=Math.abs(this.years()),u=Math.abs(this.months()),f=Math.abs(this.days()),n=Math.abs(this.hours()),t=Math.abs(this.minutes()),i=Math.abs(this.seconds()+this.milliseconds()/1e3);return this.asSeconds()?(this.asSeconds()<0?"-":"")+"P"+(r?r+"Y":"")+(u?u+"M":"")+(f?f+"D":"")+(n||t||i?"T":"")+(n?n+"H":"")+(t?t+"M":"")+(i?i+"S":""):"P0D"},localeData:function(){return this._locale},toJSON:function(){return this.toISOString()}});t.duration.fn.toString=t.duration.fn.toISOString;for(u in yr)p(yr,u)&&rf(u.toLowerCase());t.duration.fn.asMilliseconds=function(){return this.as("ms")};t.duration.fn.asSeconds=function(){return this.as("s")};t.duration.fn.asMinutes=function(){return this.as("m")};t.duration.fn.asHours=function(){return this.as("h")};t.duration.fn.asDays=function(){return this.as("d")};t.duration.fn.asWeeks=function(){return this.as("weeks")};t.duration.fn.asMonths=function(){return this.as("M")};t.duration.fn.asYears=function(){return this.as("y")};t.locale("en",{ordinalParse:/\d{1,2}(th|st|nd|rd)/,ordinal:function(n){var t=n%10,r=1===i(n%100/10)?"th":1===t?"st":2===t?"nd":3===t?"rd":"th";return n+r}});sr?module.exports=t:"function"==typeof define&&define.amd?(define(function(n,i,r){return r.config&&r.config()&&r.config().noGlobal===!0&&(kt.moment=or),t}),er(!0)):er()}.call(this);!function(n){"function"==typeof define&&define.amd?define(["jquery","moment"],n):"object"==typeof exports?module.exports=n(require("jquery"),require("moment")):n(jQuery,moment)}(function(n,t){function k(n){return vt(n,ti)}function ru(t){var i,r={views:t.views||{}};return n.each(t,function(t,u){"views"!=t&&(n.isPlainObject(u)&&!/(time|duration|interval)$/i.test(t)&&-1==n.inArray(t,ti)?(i=null,n.each(u,function(n,u){/^(month|week|day|default|basic(Week|Day)?|agenda(Week|Day)?)$/.test(n)?(r.views[n]||(r.views[n]={}),r.views[n][t]=u):(i||(i={}),i[n]=u)}),i&&(r[t]=i)):r[t]=u)}),r}function oi(n,t){t.left&&n.css({"border-left-width":1,"margin-left":t.left-1});t.right&&n.css({"border-right-width":1,"margin-right":t.right-1})}function si(n){n.css({"margin-left":"","margin-right":"","border-left-width":"","border-right-width":""})}function nt(){n("body").addClass("fc-not-allowed")}function w(){n("body").removeClass("fc-not-allowed")}function hi(t,i,r){var u=Math.floor(i/t.length),e=Math.floor(i-u*(t.length-1)),f=[],o=[],s=[],h=0;ci(t);t.each(function(i,r){var l=i===t.length-1?e:u,c=n(r).outerHeight(!0);l>c?(f.push(r),o.push(c),s.push(n(r).height())):h+=c});r&&(i-=h,u=Math.floor(i/f.length),e=Math.floor(i-u*(f.length-1)));n(f).each(function(t,i){var r=t===f.length-1?e:u,h=o[t],c=s[t],l=r-(h-c);r>h&&n(i).height(l)})}function ci(n){n.height("")}function li(t){var i=0;return t.find("> *").each(function(t,r){var u=n(r).outerWidth();u>i&&(i=u)}),i++,t.width(i),i}function ai(n,t){return n.height(t).addClass("fc-scroller"),n[0].scrollHeight-1>n[0].clientHeight?!0:(ht(n),!1)}function ht(n){n.height("").removeClass("fc-scroller")}function vi(t){var r=t.css("position"),i=t.parents().filter(function(){var t=n(this);return/(auto|scroll)/.test(t.css("overflow")+t.css("overflow-y")+t.css("overflow-x"))}).eq(0);return"fixed"!==r&&i.length?i:n(t[0].ownerDocument||document)}function yi(n){var t=n.offset();return{left:t.left,right:t.left+n.outerWidth(),top:t.top,bottom:t.top+n.outerHeight()}}function pi(n){var t=n.offset(),i=tt(n),r=t.left+b(n,"border-left-width")+i.left,u=t.top+b(n,"border-top-width")+i.top;return{left:r,right:r+n[0].clientWidth,top:u,bottom:u+n[0].clientHeight}}function uu(n){var t=n.offset(),i=t.left+b(n,"border-left-width")+b(n,"padding-left"),r=t.top+b(n,"border-top-width")+b(n,"padding-top");return{left:i,right:i+n.width(),top:r,bottom:r+n.height()}}function tt(n){var i=n.innerWidth()-n[0].clientWidth,t={left:0,right:0,top:0,bottom:n.innerHeight()-n[0].clientHeight};return fu()&&"rtl"==n.css("direction")?t.left=i:t.right=i,t}function fu(){return null===ft&&(ft=eu()),ft}function eu(){var t=n("<div><div/><\/div>").css({position:"absolute",top:-1e3,left:0,border:0,padding:0,overflow:"scroll",direction:"rtl"}).appendTo("body"),i=t.children(),r=i.offset().left>t.offset().left;return t.remove(),r}function b(n,t){return parseFloat(n.css(t))||0}function wi(n){return 1==n.which&&!n.ctrlKey}function ou(n,t){var i={left:Math.max(n.left,t.left),right:Math.min(n.right,t.right),top:Math.max(n.top,t.top),bottom:Math.min(n.bottom,t.bottom)};return i.left<i.right&&i.top<i.bottom?i:!1}function su(n,t){return{left:Math.min(Math.max(n.left,t.left),t.right),top:Math.min(Math.max(n.top,t.top),t.bottom)}}function hu(n){return{left:(n.left+n.right)/2,top:(n.top+n.bottom)/2}}function cu(n,t){return{left:n.left-t.left,top:n.top-t.top}}function ct(n,t){var i,r,u,f,e=n.start,o=n.end,s=t.start,h=t.end;if(o>s&&h>e)return(e>=s?(i=e.clone(),u=!0):(i=s.clone(),u=!1),h>=o?(r=o.clone(),f=!0):(r=h.clone(),f=!1),{start:i,end:r,isStart:u,isEnd:f})}function bi(n,i){return t.duration({days:n.clone().stripTime().diff(i.clone().stripTime(),"days"),ms:n.time()-i.time()})}function lu(n,i){return t.duration({days:n.clone().stripTime().diff(i.clone().stripTime(),"days")})}function ki(n,i,r){return t.duration(Math.round(n.diff(i,r,!0)),r)}function lt(n,t){for(var r,u,i=0;i<ui.length&&(r=ui[i],u=au(r,n,t),!(u>=1&&tr(u)));i++);return r}function au(n,i,r){return null!=r?r.diff(i,n,!0):t.isDuration(i)?i.as(n):i.end.diff(i.start,n,!0)}function at(n){return Boolean(n.hours()||n.minutes()||n.seconds()||n.milliseconds())}function vu(n){return"[object Date]"===Object.prototype.toString.call(n)||n instanceof Date}function di(n){return/^\d+\:\d+(?:\:\d+\.?(?:\d{3})?)?$/.test(n)}function vt(n,t){var i,r,e,o,u,s,f={};if(t)for(i=0;i<t.length;i++){for(r=t[i],e=[],o=n.length-1;o>=0;o--)if(u=n[o][r],"object"==typeof u)e.unshift(u);else if(void 0!==u){f[r]=u;break}e.length&&(f[r]=vt(e))}for(i=n.length-1;i>=0;i--){s=n[i];for(r in s)r in f||(f[r]=s[r])}return f}function it(n){var t=function(){};return t.prototype=n,new t}function yt(n,t){for(var i in n)gi(n,i)&&(t[i]=n[i])}function yu(n,t){for(var i,u=["constructor","toString","valueOf"],r=0;r<u.length;r++)i=u[r],n[i]!==Object.prototype[i]&&(t[i]=n[i])}function gi(n,t){return yf.call(n,t)}function pu(t){return/undefined|null|boolean|number|string/.test(n.type(t))}function rt(t,i,r){if(n.isFunction(t)&&(t=[t]),t){for(var f,u=0;u<t.length;u++)f=t[u].apply(i,r)||f;return f}}function o(){for(var n=0;n<arguments.length;n++)if(void 0!==arguments[n])return arguments[n]}function r(n){return(n+"").replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/'/g,"&#039;").replace(/"/g,"&quot;").replace(/\n/g,"<br />")}function pt(n){return n.replace(/&.*?;/g,"")}function ut(t){var i=[];return n.each(t,function(n,t){null!=t&&i.push(n+":"+t)}),i.join(";")}function nr(n){return n.charAt(0).toUpperCase()+n.slice(1)}function wu(n,t){return n-t}function tr(n){return n%1==0}function h(n,t){var i=n[t];return function(){return i.apply(n,arguments)}}function wt(n,t){var i,r,u,f,e=function(){var o=+new Date-f;t>o&&o>0?i=setTimeout(e,t-o):(i=null,n.apply(u,r),i||(u=r=null))};return function(){u=this;r=arguments;f=+new Date;i||(i=setTimeout(e,t))}}function bt(i,r,u){var o,s,h,f,e=i[0],c=1==i.length&&"string"==typeof e;return t.isMoment(e)?(f=t.apply(null,i),ir(e,f)):vu(e)||void 0===e?f=t.apply(null,i):(o=!1,s=!1,c?pf.test(e)?(e+="-01",i=[e],o=!0,s=!0):(h=wf.exec(e))&&(o=!h[5],s=!0):n.isArray(e)&&(s=!0),f=r||o?t.utc.apply(t,i):t.apply(null,i),o?(f._ambigTime=!0,f._ambigZone=!0):u&&(s?f._ambigZone=!0:c&&(f.utcOffset?f.utcOffset(e):f.zone(e)))),f._fullCalendar=!0,f}function kt(n,r){for(var u,o=!1,s=!1,h=n.length,e=[],f=0;h>f;f++)u=n[f],t.isMoment(u)||(u=i.moment.parseZone(u)),o=o||u._ambigTime,s=s||u._ambigZone,e.push(u);for(f=0;h>f;f++)u=e[f],r||!o||u._ambigTime?s&&!u._ambigZone&&(e[f]=u.clone().stripZone()):e[f]=u.clone().stripTime();return e}function ir(n,t){n._ambigTime?t._ambigTime=!0:t._ambigTime&&(t._ambigTime=!1);n._ambigZone?t._ambigZone=!0:t._ambigZone&&(t._ambigZone=!1)}function rr(n,t){n.year(t[0]||0).month(t[1]||0).date(t[2]||0).hours(t[3]||0).minutes(t[4]||0).seconds(t[5]||0).milliseconds(t[6]||0)}function l(n,t){return f.format.call(n,t)}function bu(n,t){return ur(n,or(t))}function ur(n,t){for(var r="",i=0;i<t.length;i++)r+=dt(n,t[i]);return r}function dt(n,t){var i,r;return"string"==typeof t?t:(i=t.token)?fi[i]?fi[i](n):l(n,i):t.maybe&&(r=ur(n,t.maybe),r.match(/[1-9]/))?r:""}function fr(n,t,r,u,f){var e;return n=i.moment.parseZone(n),t=i.moment.parseZone(t),e=(n.localeData||n.lang).call(n),r=e.longDateFormat(r)||r,u=u||" - ",ku(n,t,or(r),u,f)}function ku(n,t,i,r,u){for(var f,o,s,a="",l="",h="",c="",v="",e=0;e<i.length&&(f=er(n,t,i[e]),f!==!1);e++)a+=f;for(o=i.length-1;o>e&&(f=er(n,t,i[o]),f!==!1);o--)l=f+l;for(s=e;o>=s;s++)h+=dt(n,i[s]),c+=dt(t,i[s]);return(h||c)&&(v=u?c+r+h:h+r+c),a+v+l}function er(n,t,i){var r,u;return"string"==typeof i?i:(r=i.token)&&(u=br[r.charAt(0)],u&&n.isSame(t,u))?l(n,r):!1}function or(n){return n in et?et[n]:et[n]=sr(n)}function sr(n){for(var t,i=[],r=/\[([^\]]*)\]|\(([^\)]*)\)|(LTS|LT|(\w)\4*o?)|([^\w\[\(]+)/g;t=r.exec(n);)t[1]?i.push(t[1]):t[2]?i.push({maybe:sr(t[2])}):t[3]?i.push({token:t[3]}):t[5]&&i.push(t[5]);return i}function s(){}function hr(n,t){return n||t?n&&t?n.grid===t.grid&&n.row===t.row&&n.col===t.col:!1:!0}function du(n){var t=cr(n);return"background"===t||"inverse-background"===t}function gu(n){return"inverse-background"===cr(n)}function cr(n){return o((n.source||{}).rendering,n.rendering)}function nf(n){for(var i,r={},t=0;t<n.length;t++)i=n[t],(r[i._id]||(r[i._id]=[])).push(i);return r}function tf(n,t){return n.eventStartMS-t.eventStartMS}function d(n,t){return n.eventStartMS-t.eventStartMS||t.eventDurationMS-n.eventDurationMS||t.event.allDay-n.event.allDay||(n.event.title||"").localeCompare(t.event.title)}function rf(r){var u,f,e,s,o=i.dataAttrPrefix;return o&&(o+="-"),u=r.data(o+"event")||null,u&&(u="object"==typeof u?n.extend({},u):{},f=u.start,null==f&&(f=u.time),e=u.duration,s=u.stick,delete u.start,delete u.time,delete u.duration,delete u.stick),null==f&&(f=r.data(o+"start")),null==f&&(f=r.data(o+"time")),null==e&&(e=r.data(o+"duration")),null==s&&(s=r.data(o+"stick")),f=null!=f?t.duration(f):null,e=null!=e?t.duration(e):null,s=Boolean(s),{eventProps:u,startTime:f,duration:e,stick:s}}function uf(n,t){for(var r,i=0;i<t.length;i++)if(r=t[i],r.leftCol<=n.rightCol&&r.rightCol>=n.leftCol)return!0;return!1}function ff(n,t){return n.leftCol-t.leftCol}function ef(n){var r,i,t;if(n.sort(d),r=of(n),sf(r),i=r[0]){for(t=0;t<i.length;t++)lr(i[t]);for(t=0;t<i.length;t++)gt(i[t],0,0)}}function of(n){for(var u,t,i=[],r=0;r<n.length;r++){for(u=n[r],t=0;t<i.length&&ar(u,i[t]).length;t++);u.level=t;(i[t]||(i[t]=[])).push(u)}return i}function sf(n){for(var f,i,r,u,t=0;t<n.length;t++)for(f=n[t],i=0;i<f.length;i++)for(r=f[i],r.forwardSegs=[],u=t+1;u<n.length;u++)ar(r,n[u],r.forwardSegs)}function lr(n){var t,i,u=n.forwardSegs,r=0;if(void 0===n.forwardPressure){for(t=0;t<u.length;t++)i=u[t],lr(i),r=Math.max(r,1+i.forwardPressure);n.forwardPressure=r}}function gt(n,t,i){var u,r=n.forwardSegs;if(void 0===n.forwardCoord)for(r.length?(r.sort(cf),gt(r[0],t+1,i),n.forwardCoord=r[0].backwardCoord):n.forwardCoord=1,n.backwardCoord=n.forwardCoord-(n.forwardCoord-i)/(t+1),u=0;u<r.length;u++)gt(r[u],0,n.forwardCoord)}function ar(n,t,i){i=i||[];for(var r=0;r<t.length;r++)hf(n,t[r])&&i.push(t[r]);return i}function hf(n,t){return n.bottom>t.top&&n.top<t.bottom}function cf(n,t){return t.forwardPressure-n.forwardPressure||(n.backwardCoord||0)-(t.backwardCoord||0)||d(n,t)}function lf(r,u){function ht(){a?v()&&(rt(),h()):ct()}function ct(){pi=e.theme?"ui":"fc";r.addClass("fc");e.isRTL?r.addClass("fc-rtl"):r.addClass("fc-ltr");e.theme?r.addClass("ui-widget"):r.addClass("fc-unthemed");a=n("<div class='fc-view-container'/>").prependTo(r);l=f.header=new af(f,e);y=l.render();y&&r.prepend(y);h(e.defaultView);e.handleWindowResize&&(d=wt(at,e.windowResizeDelay),n(window).resize(d))}function lt(){o&&o.removeElement();l.removeElement();a.remove();r.removeClass("fc fc-ltr fc-rtl fc-unthemed ui-widget");d&&n(window).unbind("resize",d)}function v(){return r.is(":visible")}function h(t){p++;o&&t&&o.type!==t&&(l.deactivateButton(o.type),b(),o.removeElement(),o=f.view=null);!o&&t&&(o=f.view=ot[t]||(ot[t]=f.instantiateView(t)),o.setElement(n("<div class='fc-view fc-"+t+"-view' />").appendTo(a)),l.activateButton(t));o&&(s=o.massageCurrentDate(s),o.displaying&&s.isWithin(o.intervalStart,o.intervalEnd)||v()&&(b(),o.display(s),k(),dt(),gt(),pt()));k();p--}function tt(n){if(v())return(n&&ut(),p++,o.updateSize(!0),p--,!0)}function rt(){v()&&ut()}function ut(){nt="number"==typeof e.contentHeight?e.contentHeight:"number"==typeof e.height?e.height-(y?y.outerHeight(!0):0):Math.round(a.width()/Math.max(e.aspectRatio,.5))}function at(n){!p&&n.target===window&&o.start&&tt(!0)&&o.trigger("windowResize",et)}function vt(){yt();ft()}function w(){v()&&(b(),o.displayEvents(st),k())}function yt(){b();o.clearEvents();k()}function pt(){!e.lazyFetching||wi(o.start,o.end)?ft():w()}function ft(){bi(o.start,o.end)}function bt(n){st=n;w()}function kt(){w()}function dt(){l.updateTitle(o.title)}function gt(){var n=f.getNow();n.isWithin(o.intervalStart,o.intervalEnd)?l.disableButton("today"):l.enableButton("today")}function ni(){o.select(f.buildSelectRange.apply(f,arguments))}function ti(){o&&o.unselect()}function ii(){s=o.computePrevDate(s);h()}function ri(){s=o.computeNextDate(s);h()}function ui(){s.add(-1,"years");h()}function fi(){s.add(1,"years");h()}function ei(){s=f.getNow();h()}function oi(n){s=f.moment(n);h()}function si(n){s.add(t.duration(n));h()}function hi(n,t){var i;t=t||"day";i=f.getViewSpec(t)||f.getUnitViewSpec(t);s=n;h(i?i.type:null)}function ci(){return s.clone()}function b(){a.css({width:"100%",height:a.height(),overflow:"hidden"})}function k(){a.css({width:"",height:"",overflow:""})}function li(){return f}function ai(){return o}function vi(n,t){return void 0===t?e[n]:void(("height"==n||"contentHeight"==n||"aspectRatio"==n)&&(e[n]=t,tt(!0)))}function yi(n,t){if(e[n])return e[n].apply(t||et,Array.prototype.slice.call(arguments,2))}var f=this,e,c,g;f.initOptions(u||{});e=this.options;f.render=ht;f.destroy=lt;f.refetchEvents=vt;f.reportEvents=bt;f.reportEventChange=kt;f.rerenderEvents=w;f.changeView=h;f.select=ni;f.unselect=ti;f.prev=ii;f.next=ri;f.prevYear=ui;f.nextYear=fi;f.today=ei;f.gotoDate=oi;f.incrementDate=si;f.zoomTo=hi;f.getDate=ci;f.getCalendar=li;f.getView=ai;f.option=vi;f.trigger=yi;c=it(yr(e.lang));(e.monthNames&&(c._months=e.monthNames),e.monthNamesShort&&(c._monthsShort=e.monthNamesShort),e.dayNames&&(c._weekdays=e.dayNames),e.dayNamesShort&&(c._weekdaysShort=e.dayNamesShort),null!=e.firstDay)&&(g=it(c._week),g.dow=e.firstDay,c._week=g);c._fullCalendar_weekCalc=function(n){return"function"==typeof n?n:"local"===n?n:"iso"===n||"ISO"===n?"ISO":void 0}(e.weekNumberCalculation);f.defaultAllDayEventDuration=t.duration(e.defaultAllDayEventDuration);f.defaultTimedEventDuration=t.duration(e.defaultTimedEventDuration);f.moment=function(){var n;return"local"===e.timezone?(n=i.moment.apply(null,arguments),n.hasTime()&&n.local()):n="UTC"===e.timezone?i.moment.utc.apply(null,arguments):i.moment.parseZone.apply(null,arguments),"_locale"in n?n._locale=c:n._lang=c,n};f.getIsAmbigTimezone=function(){return"local"!==e.timezone&&"UTC"!==e.timezone};f.rezoneDate=function(n){return f.moment(n.toArray())};f.getNow=function(){var n=e.now;return"function"==typeof n&&(n=n()),f.moment(n)};f.getEventEnd=function(n){return n.end?n.end.clone():f.getDefaultEventEnd(n.allDay,n.start)};f.getDefaultEventEnd=function(n,t){var i=t.clone();return n?i.stripTime().add(f.defaultAllDayEventDuration):i.add(f.defaultTimedEventDuration),f.getIsAmbigTimezone()&&i.stripZone(),i};f.humanizeDuration=function(n){return(n.locale||n.lang).call(n,e.lang).humanize()};vf.call(f,e);var l,y,a,pi,o,nt,d,s,wi=f.isFetchNeeded,bi=f.fetchEvents,et=r[0],ot={},p=0,st=[];s=null!=e.defaultDate?f.moment(e.defaultDate):f.getNow();f.getSuggestedViewHeight=function(){return void 0===nt&&rt(),nt};f.isHeightAuto=function(){return"auto"===e.contentHeight||"auto"===e.height};f.initialize()}function vr(t){n.each(ie,function(n,i){null==t[n]&&(t[n]=i(t))})}function yr(n){var i=t.localeData||t.langData;return i.call(t,n)||i.call(t,"en")}function af(t,i){function h(){var t=i.header;return u=i.theme?"ui":"fc",t?f=n("<div class='fc-toolbar'/>").append(o("left")).append(o("right")).append(o("center")).append('<div class="fc-clear"/>'):void 0}function c(){f.remove();f=n()}function o(f){var e=n('<div class="fc-'+f+'"/>'),o=i.header[f];return o&&n.each(o.split(" "),function(){var o,f=n(),h=!0;n.each(this.split(","),function(e,o){var l,a,v,y,p,w,b,k,c;"title"==o?(f=f.add(n("<h2>&nbsp;<\/h2>")),h=!1):(l=t.getViewSpec(o),l?(a=function(){t.changeView(o)},s.push(o),v=l.buttonTextOverride,y=l.buttonTextDefault):t[o]&&(a=function(){t[o]()},v=(t.overrides.buttonText||{})[o],y=i.buttonText[o]),a&&(p=i.themeButtonIcons[o],w=i.buttonIcons[o],b=v?r(v):p&&i.theme?"<span class='ui-icon ui-icon-"+p+"'><\/span>":w&&!i.theme?"<span class='fc-icon fc-icon-"+w+"'><\/span>":r(y),k=["fc-"+o+"-button",u+"-button",u+"-state-default"],c=n('<button type="button" class="'+k.join(" ")+'">'+b+"<\/button>").click(function(){c.hasClass(u+"-state-disabled")||(a(),(c.hasClass(u+"-state-active")||c.hasClass(u+"-state-disabled"))&&c.removeClass(u+"-state-hover"))}).mousedown(function(){c.not("."+u+"-state-active").not("."+u+"-state-disabled").addClass(u+"-state-down")}).mouseup(function(){c.removeClass(u+"-state-down")}).hover(function(){c.not("."+u+"-state-active").not("."+u+"-state-disabled").addClass(u+"-state-hover")},function(){c.removeClass(u+"-state-hover").removeClass(u+"-state-down")}),f=f.add(c)))});h&&f.first().addClass(u+"-corner-left").end().last().addClass(u+"-corner-right").end();f.length>1?(o=n("<div/>"),h&&o.addClass("fc-button-group"),o.append(f),e.append(o)):e.append(f)}),e}function l(n){f.find("h2").text(n)}function a(n){f.find(".fc-"+n+"-button").addClass(u+"-state-active")}function v(n){f.find(".fc-"+n+"-button").removeClass(u+"-state-active")}function y(n){f.find(".fc-"+n+"-button").attr("disabled","disabled").addClass(u+"-state-disabled")}function p(n){f.find(".fc-"+n+"-button").removeAttr("disabled").removeClass(u+"-state-disabled")}function w(){return s}var e=this,u,f,s;e.render=h;e.removeElement=c;e.updateTitle=l;e.activateButton=a;e.deactivateButton=v;e.disableButton=y;e.enableButton=p;e.getViewsWithButtons=w;f=n();s=[]}function vf(r){function at(n,t){return!s||n.clone().stripZone()<s.clone().stripZone()||t.clone().stripZone()>c.clone().stripZone()}function vt(n,t){var u,r,i;for(s=n,c=t,f=[],u=++k,r=e.length,y=r,i=0;r>i;i++)d(e[i],u)}function d(t,i){g(t,function(r){var u,e,o,s=n.isArray(t.events);if(i==k){if(r)for(u=0;u<r.length;u++)e=r[u],o=s?e:h(e,t),o&&f.push.apply(f,a(o));y--;y||v(f)}})}function g(t,f){for(var l,v=i.sourceFetchers,e,y,h=0;h<v.length;h++){if(l=v[h].call(u,t,s.clone(),c.clone(),r.timezone,f),l===!0)return;if("object"==typeof l)return void g(l,f)}if(e=t.events,e)n.isFunction(e)?(u.pushLoading(),e.call(u,s.clone(),c.clone(),r.timezone,function(n){f(n);u.popLoading()})):n.isArray(e)?f(e):f();else if(y=t.url,y){var p,k=t.success,d=t.error,nt=t.complete;p=n.isFunction(t.data)?t.data():t.data;var a=n.extend({},p||{}),w=o(t.startParam,r.startParam),b=o(t.endParam,r.endParam),tt=o(t.timezoneParam,r.timezoneParam);w&&(a[w]=s.format());b&&(a[b]=c.format());r.timezone&&"local"!=r.timezone&&(a[tt]=r.timezone);u.pushLoading();n.ajax(n.extend({},dr,t,{data:a,success:function(t){t=t||[];var i=rt(k,this,arguments);n.isArray(i)&&(t=i);f(t)},error:function(){rt(d,this,arguments);f()},complete:function(){rt(nt,this,arguments);u.popLoading()}}))}else f()}function yt(n){var t=nt(n);t&&(e.push(t),y++,d(t,k))}function nt(t){var r,f,e=i.sourceNormalizers;if(n.isFunction(t)||n.isArray(t)?r={events:t}:"string"==typeof t?r={url:t}:"object"==typeof t&&(r=n.extend({},t)),r){for(r.className?"string"==typeof r.className&&(r.className=r.className.split(/\s+/)):r.className=[],n.isArray(r.events)&&(r.origArray=r.events,r.events=n.map(r.events,function(n){return h(n,r)})),f=0;f<e.length;f++)e[f].call(u,r);return r}}function pt(t){e=n.grep(e,function(n){return!tt(n,t)});f=n.grep(f,function(n){return!tt(n.source,t)});v(f)}function tt(n,t){return n&&t&&it(n)==it(t)}function it(n){return("object"==typeof n?n.origArray||n.googleCalendarId||n.url||n.events:null)||n}function wt(n){n.start=u.moment(n.start);n.end=n.end?u.moment(n.end):null;ot(n,bt(n));v(f)}function bt(t){var i={};return n.each(t,function(n,t){ut(n)&&void 0!==t&&pu(t)&&(i[n]=t)}),i}function ut(n){return!/^_|^(id|allDay|start|end)$/.test(n)}function kt(n,t){var r,u,i,e=h(n);if(e){for(r=a(e),u=0;u<r.length;u++)i=r[u],i.source||(t&&(b.events.push(i),i.source=b),f.push(i));return v(f),r}return[]}function dt(t){var r,i;for(null==t?t=function(){return!0}:n.isFunction(t)||(r=t+"",t=function(n){return n._id==r}),f=n.grep(f,t,!0),i=0;i<e.length;i++)n.isArray(e[i].events)&&(e[i].events=n.grep(e[i].events,t,!0));v(f)}function p(t){return n.isFunction(t)?n.grep(f,t):null!=t?(t+="",n.grep(f,function(n){return n._id==t})):f}function h(i,f){var s,e,c,h={};if(r.eventDataTransform&&(i=r.eventDataTransform(i)),f&&f.eventDataTransform&&(i=f.eventDataTransform(i)),n.extend(h,i),f&&(h.source=f),h._id=i._id||(void 0===i.id?"_fc"+gr++:i.id+""),h.className=i.className?"string"==typeof i.className?i.className.split(/\s+/):i.className:[],s=i.start||i.date,e=i.end,di(s)&&(s=t.duration(s)),di(e)&&(e=t.duration(e)),i.dow||t.isDuration(s)||t.isDuration(e))h.start=s?t.duration(s):null,h.end=e?t.duration(e):null,h._recurring=!0;else{if(s&&(s=u.moment(s),!s.isValid()))return!1;e&&(e=u.moment(e),e.isValid()||(e=null));c=i.allDay;void 0===c&&(c=o(f?f.allDayDefault:void 0,r.allDayDefault));ft(s,e,c,h)}return h}function ft(n,t,i,r){r.start=n;r.end=t;r.allDay=i;l(r);ni(r)}function l(n){et(n);n.end&&!n.end.isAfter(n.start)&&(n.end=null);n.end||(n.end=r.forceEventDuration?u.getDefaultEventEnd(n.allDay,n.start):null)}function et(n){null==n.allDay&&(n.allDay=!(n.start.hasTime()||n.end&&n.end.hasTime()));n.allDay?(n.start.stripTime(),n.end&&n.end.stripTime()):(n.start.hasTime()||(n.start=u.rezoneDate(n.start)),n.end&&!n.end.hasTime()&&(n.end=u.rezoneDate(n.end)))}function w(t){var i;return t.end||(i=t.allDay,null==i&&(i=!t.start.hasTime()),t=n.extend({},t),t.end=u.getDefaultEventEnd(i,t.start)),t}function a(t,i,r){var f,a,e,u,o,h,l,v,y,p=[];if(i=i||s,r=r||c,t)if(t._recurring){if(a=t.dow)for(f={},e=0;e<a.length;e++)f[a[e]]=!0;for(u=i.clone().stripTime();u.isBefore(r);)(!f||f[u.day()])&&(o=t.start,h=t.end,l=u.clone(),v=null,o&&(l=l.time(o)),h&&(v=u.clone().time(h)),y=n.extend({},t),ft(l,v,!o&&!h,y),p.push(y)),u.add(1,"days")}else p.push(t);return p}function ot(t,i,r){function s(n,t){return r?ki(n,t,r):i.allDay?lu(n,t):bi(n,t)}var f,h,e,c,o,a,v={};return i=i||{},i.start||(i.start=t.start.clone()),void 0===i.end&&(i.end=t.end?t.end.clone():null),null==i.allDay&&(i.allDay=t.allDay),l(i),f={start:t._start.clone(),end:t._end?t._end.clone():u.getDefaultEventEnd(t._allDay,t._start),allDay:i.allDay},l(f),h=null!==t._end&&null===i.end,e=s(i.start,f.start),i.end?(c=s(i.end,f.end),o=c.subtract(e)):o=null,n.each(i,function(n,t){ut(n)&&void 0!==t&&(v[n]=t)}),a=gt(p(t._id),h,i.allDay,e,o,v),{dateDelta:e,durationDelta:o,undo:a}}function gt(t,i,r,f,e,o){var h=u.getIsAmbigTimezone(),s=[];return f&&!f.valueOf()&&(f=null),e&&!e.valueOf()&&(e=null),n.each(t,function(t,c){var v,a;v={start:c.start.clone(),end:c.end?c.end.clone():null,allDay:c.allDay};n.each(o,function(n){v[n]=c[n]});a={start:c._start,end:c._end,allDay:r};l(a);i?a.end=null:e&&!a.end&&(a.end=u.getDefaultEventEnd(a.allDay,a.start));f&&(a.start.add(f),a.end&&a.end.add(f));e&&a.end.add(e);h&&!a.allDay&&(f||e)&&(a.start.stripZone(),a.end&&a.end.stripZone());n.extend(c,o,a);ni(c);s.push(function(){n.extend(c,v);ni(c)})}),function(){for(var n=0;n<s.length;n++)s[n]()}}function st(t){var i,f=r.businessHours,e=u.getView();return f&&(i=n.extend({},{className:"fc-nonbusiness",start:"09:00",end:"17:00",dow:[1,2,3,4,5],rendering:"inverse-background"},"object"==typeof f?f:{})),i?(t&&(i.start=null,i.end=null),a(h(i),e.start,e.end)):[]}function ht(n,t){var i=t.source||{},u=o(t.constraint,i.constraint,r.eventConstraint),f=o(t.overlap,i.overlap,r.eventOverlap);return n=w(n),lt(n,u,f,t)}function ct(n){return lt(n,r.selectConstraint,r.selectOverlap)}function ti(t,i){var u,r;return i&&(u=n.extend({},i,t),r=a(h(u))[0]),r?ht(t,r):(t=w(t),ct(t))}function lt(t,i,r,f){var c,l,a,e,s,h;if(t=n.extend({},t),t.start=t.start.clone().stripZone(),t.end=t.end.clone().stripZone(),null!=i){for(c=ii(i),l=!1,e=0;e<c.length;e++)if(ri(c[e],t)){l=!0;break}if(!l)return!1}for(a=u.getPeerEvents(f,t),e=0;e<a.length;e++)if((s=a[e],ui(s,t))&&(r===!1||"function"==typeof r&&!r(s,f)||f&&((h=o(s.overlap,(s.source||{}).overlap),h===!1)||"function"==typeof h&&!h(f,s))))return!1;return!0}function ii(n){return"businessHours"===n?st():"object"==typeof n?a(h(n)):p(n)}function ri(n,t){var i=n.start.clone().stripZone(),r=u.getEventEnd(n).stripZone();return t.start>=i&&t.end<=r}function ui(n,t){var i=n.start.clone().stripZone(),r=u.getEventEnd(n).stripZone();return t.start<r&&t.end>i}var u=this;u.isFetchNeeded=at;u.fetchEvents=vt;u.addEventSource=yt;u.removeEventSource=pt;u.updateEvent=wt;u.renderEvent=kt;u.removeEvents=dt;u.clientEvents=p;u.mutateEvent=ot;u.normalizeEventRange=l;u.normalizeEventRangeTimes=et;u.ensureVisibleEventRange=w;var s,c,v=u.reportEvents,b={events:[]},e=[b],k=0,y=0,f=[];n.each((r.events?[r.events]:[]).concat(r.eventSources||[]),function(n,t){var i=nt(t);i&&e.push(i)});u.getBusinessHoursEvents=st;u.isEventRangeAllowed=ht;u.isSelectionRangeAllowed=ct;u.isExternalDropRangeAllowed=ti;u.getEventCache=function(){return f}}function ni(n){n._allDay=n.allDay;n._start=n.start.clone();n._end=n.end?n.end.clone():null}var i=n.fullCalendar={version:"2.3.2"},a=i.views={},ti,ft,fi,br,et,g,ei,p,e,y,dr,gr,st,nu,tu,iu;n.fn.fullCalendar=function(t){var r=Array.prototype.slice.call(arguments,1),i=this;return this.each(function(u,f){var h,s=n(f),o=s.data("fullCalendar");"string"==typeof t?o&&n.isFunction(o[t])&&(h=o[t].apply(o,r),u||(i=h),"destroy"===t&&s.removeData("fullCalendar")):o||(o=new e(s,t),s.data("fullCalendar",o),o.render())}),i};ti=["header","buttonText","buttonIcons","themeButtonIcons"];i.intersectionToSeg=ct;i.applyAll=rt;i.debounce=wt;i.isInt=tr;i.htmlEscape=r;i.cssToStr=ut;i.proxy=h;i.capitaliseFirstLetter=nr;i.getClientRect=pi;i.getContentRect=uu;i.getScrollbarWidths=tt;ft=null;i.computeIntervalUnit=lt;i.durationHasTime=at;var ii,ri,pr,wr=["sun","mon","tue","wed","thu","fri","sat"],ui=["year","month","week","day","hour","minute","second","millisecond"],yf={}.hasOwnProperty,pf=/^\s*\d{4}-\d\d$/,wf=/^\s*\d{4}-(?:(\d\d-\d\d)|(W\d\d$)|(W\d\d-\d)|(\d\d\d))((T| )(\d\d(:\d\d(:\d\d(\.\d+)?)?)?)?)?$/,u=t.fn,f=n.extend({},u);i.moment=function(){return bt(arguments)};i.moment.utc=function(){var n=bt(arguments,!0);return n.hasTime()&&n.utc(),n};i.moment.parseZone=function(){return bt(arguments,!0,!0)};u.clone=function(){var n=f.clone.apply(this,arguments);return ir(this,n),this._fullCalendar&&(n._fullCalendar=!0),n};u.week=u.weeks=function(n){var t=(this._locale||this._lang)._fullCalendar_weekCalc;return null==n&&"function"==typeof t?t(this):"ISO"===t?f.isoWeek.apply(this,arguments):f.week.apply(this,arguments)};u.time=function(n){if(!this._fullCalendar)return f.time.apply(this,arguments);if(null==n)return t.duration({hours:this.hours(),minutes:this.minutes(),seconds:this.seconds(),milliseconds:this.milliseconds()});this._ambigTime=!1;t.isDuration(n)||t.isMoment(n)||(n=t.duration(n));var i=0;return t.isDuration(n)&&(i=24*Math.floor(n.asDays())),this.hours(i+n.hours()).minutes(n.minutes()).seconds(n.seconds()).milliseconds(n.milliseconds())};u.stripTime=function(){var n;return this._ambigTime||(n=this.toArray(),this.utc(),ri(this,n.slice(0,3)),this._ambigTime=!0,this._ambigZone=!0),this};u.hasTime=function(){return!this._ambigTime};u.stripZone=function(){var n,t;return this._ambigZone||(n=this.toArray(),t=this._ambigTime,this.utc(),ri(this,n),this._ambigTime=t||!1,this._ambigZone=!0),this};u.hasZone=function(){return!this._ambigZone};u.local=function(){var n=this.toArray(),t=this._ambigZone;return f.local.apply(this,arguments),this._ambigTime=!1,this._ambigZone=!1,t&&pr(this,n),this};u.utc=function(){return f.utc.apply(this,arguments),this._ambigTime=!1,this._ambigZone=!1,this};n.each(["zone","utcOffset"],function(n,t){f[t]&&(u[t]=function(n){return null!=n&&(this._ambigTime=!1,this._ambigZone=!1),f[t].apply(this,arguments)})});u.format=function(){return this._fullCalendar&&arguments[0]?bu(this,arguments[0]):this._ambigTime?l(this,"YYYY-MM-DD"):this._ambigZone?l(this,"YYYY-MM-DD[T]HH:mm:ss"):f.format.apply(this,arguments)};u.toISOString=function(){return this._ambigTime?l(this,"YYYY-MM-DD"):this._ambigZone?l(this,"YYYY-MM-DD[T]HH:mm:ss"):f.toISOString.apply(this,arguments)};u.isWithin=function(n,t){var i=kt([this,n,t]);return i[0]>=i[1]&&i[0]<i[2]};u.isSame=function(n,t){var r;return this._fullCalendar?t?(r=kt([this,n],!0),f.isSame.call(r[0],r[1],t)):(n=i.moment.parseZone(n),f.isSame.call(this,n)&&Boolean(this._ambigTime)===Boolean(n._ambigTime)&&Boolean(this._ambigZone)===Boolean(n._ambigZone)):f.isSame.apply(this,arguments)};n.each(["isBefore","isAfter"],function(n,t){u[t]=function(n,i){var r;return this._fullCalendar?(r=kt([this,n]),f[t].call(r[0],r[1],i)):f[t].apply(this,arguments)}});ii="_d"in t()&&"updateOffset"in t;ri=ii?function(n,i){n._d.setTime(Date.UTC.apply(Date,i));t.updateOffset(n,!1)}:rr;pr=ii?function(n,i){n._d.setTime(+new Date(i[0]||0,i[1]||0,i[2]||0,i[3]||0,i[4]||0,i[5]||0,i[6]||0));t.updateOffset(n,!1)}:rr;fi={t:function(n){return l(n,"a").charAt(0)},T:function(n){return l(n,"A").charAt(0)}};i.formatRange=fr;br={Y:"year",M:"month",D:"day",d:"day",A:"second",a:"second",T:"second",t:"second",H:"second",h:"second",m:"second",s:"second"};et={};i.Class=s;s.extend=function(n){var t,i=this;return n=n||{},gi(n,"constructor")&&(t=n.constructor),"function"!=typeof t&&(t=n.constructor=function(){i.apply(this,arguments)}),t.prototype=it(i.prototype),yt(n,t.prototype),yu(n,t.prototype),yt(i,t),t};s.mixin=function(n){yt(n.prototype||n,this.prototype)};var bf=s.extend({isHidden:!0,options:null,el:null,documentMousedownProxy:null,margin:10,constructor:function(n){this.options=n||{}},show:function(){this.isHidden&&(this.el||this.render(),this.el.show(),this.position(),this.isHidden=!1,this.trigger("show"))},hide:function(){this.isHidden||(this.el.hide(),this.isHidden=!0,this.trigger("hide"))},render:function(){var i=this,t=this.options;this.el=n('<div class="fc-popover"/>').addClass(t.className||"").css({top:0,left:0}).append(t.content).appendTo(t.parentEl);this.el.on("click",".fc-close",function(){i.hide()});t.autoHide&&n(document).on("mousedown",this.documentMousedownProxy=h(this,"documentMousedown"))},documentMousedown:function(t){this.el&&!n(t.target).closest(this.el).length&&this.hide()},removeElement:function(){this.hide();this.el&&(this.el.remove(),this.el=null);n(document).off("mousedown",this.documentMousedownProxy)},position:function(){var f,e,o,t,i,r=this.options,h=this.el.offsetParent().offset(),c=this.el.outerWidth(),l=this.el.outerHeight(),s=n(window),u=vi(this.el);t=r.top||0;i=void 0!==r.left?r.left:void 0!==r.right?r.right-c:0;u.is(window)||u.is(document)?(u=s,f=0,e=0):(o=u.offset(),f=o.top,e=o.left);f+=s.scrollTop();e+=s.scrollLeft();r.viewportConstrain!==!1&&(t=Math.min(t,f+u.outerHeight()-l-this.margin),t=Math.max(t,f+this.margin),i=Math.min(i,e+u.outerWidth()-c-this.margin),i=Math.max(i,e+this.margin));this.el.css({top:t-h.top,left:i-h.left})},trigger:function(n){this.options[n]&&this.options[n].apply(this,Array.prototype.slice.call(arguments,1))}}),kf=s.extend({grid:null,rowCoords:null,colCoords:null,containerEl:null,bounds:null,constructor:function(n){this.grid=n},build:function(){this.grid.build();this.rowCoords=this.grid.computeRowCoords();this.colCoords=this.grid.computeColCoords();this.computeBounds()},clear:function(){this.grid.clear();this.rowCoords=null;this.colCoords=null},getCell:function(t,i){var r,u,f,s=this.rowCoords,c=s.length,h=this.colCoords,l=h.length,e=null,o=null;if(this.inBounds(t,i)){for(r=0;c>r;r++)if(u=s[r],i>=u.top&&i<u.bottom){e=r;break}for(r=0;l>r;r++)if(u=h[r],t>=u.left&&t<u.right){o=r;break}if(null!==e&&null!==o)return f=this.grid.getCell(e,o),f.grid=this.grid,n.extend(f,s[e],h[o]),f}return null},computeBounds:function(){this.bounds=this.containerEl?pi(this.containerEl):null},inBounds:function(n,t){var i=this.bounds;return i?n>=i.left&&n<i.right&&t>=i.top&&t<i.bottom:!0}}),df=s.extend({coordMaps:null,constructor:function(n){this.coordMaps=n},build:function(){for(var t=this.coordMaps,n=0;n<t.length;n++)t[n].build()},getCell:function(n,t){for(var u=this.coordMaps,r=null,i=0;i<u.length&&!r;i++)r=u[i].getCell(n,t);return r},clear:function(){for(var t=this.coordMaps,n=0;n<t.length;n++)t[n].clear()}}),v=i.DragListener=s.extend({options:null,isListening:!1,isDragging:!1,originX:null,originY:null,mousemoveProxy:null,mouseupProxy:null,subjectEl:null,subjectHref:null,scrollEl:null,scrollBounds:null,scrollTopVel:null,scrollLeftVel:null,scrollIntervalId:null,scrollHandlerProxy:null,scrollSensitivity:30,scrollSpeed:200,scrollIntervalMs:50,constructor:function(n){n=n||{};this.options=n;this.subjectEl=n.subjectEl},mousedown:function(n){wi(n)&&(n.preventDefault(),this.startListening(n),this.options.distance||this.startDrag(n))},startListening:function(t){var i;this.isListening||(t&&this.options.scroll&&(i=vi(n(t.target)),i.is(window)||i.is(document)||(this.scrollEl=i,this.scrollHandlerProxy=wt(h(this,"scrollHandler"),100),this.scrollEl.on("scroll",this.scrollHandlerProxy))),n(document).on("mousemove",this.mousemoveProxy=h(this,"mousemove")).on("mouseup",this.mouseupProxy=h(this,"mouseup")).on("selectstart",this.preventDefault),t?(this.originX=t.pageX,this.originY=t.pageY):(this.originX=0,this.originY=0),this.isListening=!0,this.listenStart(t))},listenStart:function(n){this.trigger("listenStart",n)},mousemove:function(n){var t,u,i=n.pageX-this.originX,r=n.pageY-this.originY;this.isDragging||(t=this.options.distance||1,u=i*i+r*r,u>=t*t&&this.startDrag(n));this.isDragging&&this.drag(i,r,n)},startDrag:function(n){this.isListening||this.startListening();this.isDragging||(this.isDragging=!0,this.dragStart(n))},dragStart:function(n){var t=this.subjectEl;this.trigger("dragStart",n);(this.subjectHref=t?t.attr("href"):null)&&t.removeAttr("href")},drag:function(n,t,i){this.trigger("drag",n,t,i);this.updateScroll(i)},mouseup:function(n){this.stopListening(n)},stopDrag:function(n){this.isDragging&&(this.stopScrolling(),this.dragStop(n),this.isDragging=!1)},dragStop:function(n){var t=this;this.trigger("dragStop",n);setTimeout(function(){t.subjectHref&&t.subjectEl.attr("href",t.subjectHref)},0)},stopListening:function(t){this.stopDrag(t);this.isListening&&(this.scrollEl&&(this.scrollEl.off("scroll",this.scrollHandlerProxy),this.scrollHandlerProxy=null),n(document).off("mousemove",this.mousemoveProxy).off("mouseup",this.mouseupProxy).off("selectstart",this.preventDefault),this.mousemoveProxy=null,this.mouseupProxy=null,this.isListening=!1,this.listenStop(t))},listenStop:function(n){this.trigger("listenStop",n)},trigger:function(n){this.options[n]&&this.options[n].apply(this,Array.prototype.slice.call(arguments,1))},preventDefault:function(n){n.preventDefault()},computeScrollBounds:function(){var n=this.scrollEl;this.scrollBounds=n?yi(n):null},updateScroll:function(n){var r,u,f,e,t=this.scrollSensitivity,i=this.scrollBounds,o=0,s=0;i&&(r=(t-(n.pageY-i.top))/t,u=(t-(i.bottom-n.pageY))/t,f=(t-(n.pageX-i.left))/t,e=(t-(i.right-n.pageX))/t,r>=0&&1>=r?o=r*this.scrollSpeed*-1:u>=0&&1>=u&&(o=u*this.scrollSpeed),f>=0&&1>=f?s=f*this.scrollSpeed*-1:e>=0&&1>=e&&(s=e*this.scrollSpeed));this.setScrollVel(o,s)},setScrollVel:function(n,t){this.scrollTopVel=n;this.scrollLeftVel=t;this.constrainScrollVel();!this.scrollTopVel&&!this.scrollLeftVel||this.scrollIntervalId||(this.scrollIntervalId=setInterval(h(this,"scrollIntervalFunc"),this.scrollIntervalMs))},constrainScrollVel:function(){var n=this.scrollEl;this.scrollTopVel<0?n.scrollTop()<=0&&(this.scrollTopVel=0):this.scrollTopVel>0&&n.scrollTop()+n[0].clientHeight>=n[0].scrollHeight&&(this.scrollTopVel=0);this.scrollLeftVel<0?n.scrollLeft()<=0&&(this.scrollLeftVel=0):this.scrollLeftVel>0&&n.scrollLeft()+n[0].clientWidth>=n[0].scrollWidth&&(this.scrollLeftVel=0)},scrollIntervalFunc:function(){var n=this.scrollEl,t=this.scrollIntervalMs/1e3;this.scrollTopVel&&n.scrollTop(n.scrollTop()+this.scrollTopVel*t);this.scrollLeftVel&&n.scrollLeft(n.scrollLeft()+this.scrollLeftVel*t);this.constrainScrollVel();this.scrollTopVel||this.scrollLeftVel||this.stopScrolling()},stopScrolling:function(){this.scrollIntervalId&&(clearInterval(this.scrollIntervalId),this.scrollIntervalId=null,this.scrollStop())},scrollHandler:function(){this.scrollIntervalId||this.scrollStop()},scrollStop:function(){}}),ot=v.extend({coordMap:null,origCell:null,cell:null,coordAdjust:null,constructor:function(n,t){v.prototype.constructor.call(this,t);this.coordMap=n},listenStart:function(n){var i,r,t,u=this.subjectEl;v.prototype.listenStart.apply(this,arguments);this.computeCoords();n?(r={left:n.pageX,top:n.pageY},t=r,u&&(i=yi(u),t=su(t,i)),this.origCell=this.getCell(t.left,t.top),u&&this.options.subjectCenter&&(this.origCell&&(i=ou(this.origCell,i)||i),t=hu(i)),this.coordAdjust=cu(t,r)):(this.origCell=null,this.coordAdjust=null)},computeCoords:function(){this.coordMap.build();this.computeScrollBounds()},dragStart:function(n){var t;v.prototype.dragStart.apply(this,arguments);t=this.getCell(n.pageX,n.pageY);t&&this.cellOver(t)},drag:function(n,t,i){var r;v.prototype.drag.apply(this,arguments);r=this.getCell(i.pageX,i.pageY);hr(r,this.cell)||(this.cell&&this.cellOut(),r&&this.cellOver(r))},dragStop:function(){this.cellDone();v.prototype.dragStop.apply(this,arguments)},cellOver:function(n){this.cell=n;this.trigger("cellOver",n,hr(n,this.origCell),this.origCell)},cellOut:function(){this.cell&&(this.trigger("cellOut",this.cell),this.cellDone(),this.cell=null)},cellDone:function(){this.cell&&this.trigger("cellDone",this.cell)},listenStop:function(){v.prototype.listenStop.apply(this,arguments);this.origCell=this.cell=null;this.coordMap.clear()},scrollStop:function(){v.prototype.scrollStop.apply(this,arguments);this.computeCoords()},getCell:function(n,t){return this.coordAdjust&&(n+=this.coordAdjust.left,t+=this.coordAdjust.top),this.coordMap.getCell(n,t)}}),gf=s.extend({options:null,sourceEl:null,el:null,parentEl:null,top0:null,left0:null,mouseY0:null,mouseX0:null,topDelta:null,leftDelta:null,mousemoveProxy:null,isFollowing:!1,isHidden:!1,isAnimating:!1,constructor:function(t,i){this.options=i=i||{};this.sourceEl=t;this.parentEl=i.parentEl?n(i.parentEl):t.parent()},start:function(t){this.isFollowing||(this.isFollowing=!0,this.mouseY0=t.pageY,this.mouseX0=t.pageX,this.topDelta=0,this.leftDelta=0,this.isHidden||this.updatePosition(),n(document).on("mousemove",this.mousemoveProxy=h(this,"mousemove")))},stop:function(t,i){function r(){this.isAnimating=!1;f.removeElement();this.top0=this.left0=null;i&&i()}var f=this,u=this.options.revertDuration;this.isFollowing&&!this.isAnimating&&(this.isFollowing=!1,n(document).off("mousemove",this.mousemoveProxy),t&&u&&!this.isHidden?(this.isAnimating=!0,this.el.animate({top:this.top0,left:this.left0},{duration:u,complete:r})):r())},getEl:function(){var n=this.el;return n||(this.sourceEl.width(),n=this.el=this.sourceEl.clone().css({position:"absolute",visibility:"",display:this.isHidden?"none":"",margin:0,right:"auto",bottom:"auto",width:this.sourceEl.width(),height:this.sourceEl.height(),opacity:this.options.opacity||"",zIndex:this.options.zIndex}).appendTo(this.parentEl)),n},removeElement:function(){this.el&&(this.el.remove(),this.el=null)},updatePosition:function(){var n,t;this.getEl();null===this.top0&&(this.sourceEl.width(),n=this.sourceEl.offset(),t=this.el.offsetParent().offset(),this.top0=n.top-t.top,this.left0=n.left-t.left);this.el.css({top:this.top0+this.topDelta,left:this.left0+this.leftDelta})},mousemove:function(n){this.topDelta=n.pageY-this.mouseY0;this.leftDelta=n.pageX-this.mouseX0;this.isHidden||this.updatePosition()},hide:function(){this.isHidden||(this.isHidden=!0,this.el&&this.el.hide())},show:function(){this.isHidden&&(this.isHidden=!1,this.updatePosition(),this.getEl().show())}}),kr=s.extend({view:null,isRTL:null,cellHtml:"<td/>",constructor:function(n){this.view=n;this.isRTL=n.opt("isRTL")},rowHtml:function(n,t){var i,u,f=this.getHtmlRenderer("cell",n),r="";for(t=t||0,i=0;i<this.colCnt;i++)u=this.getCell(t,i),r+=f(u);return r=this.bookendCells(r,n,t),"<tr>"+r+"<\/tr>"},bookendCells:function(n,t,i){var r=this.getHtmlRenderer("intro",t)(i||0),u=this.getHtmlRenderer("outro",t)(i||0),f=this.isRTL?u:r,e=this.isRTL?r:u;return"string"==typeof n?f+n+e:n.prepend(f).append(e)},getHtmlRenderer:function(n,t){var e,r,u,i,f=this.view;return e=n+"Html",t&&(r=t+nr(n)+"Html"),r&&(i=f[r])?u=f:r&&(i=this[r])?u=this:(i=f[e])?u=f:(i=this[e])&&(u=this),"function"==typeof i?function(){return i.apply(u,arguments)||""}:function(){return i||""}}}),c=i.Grid=kr.extend({start:null,end:null,rowCnt:0,colCnt:0,el:null,coordMap:null,elsByFill:null,externalDragStartProxy:null,colHeadFormat:null,eventTimeFormat:null,displayEventTime:null,displayEventEnd:null,cellDuration:null,largeUnit:null,constructor:function(){kr.apply(this,arguments);this.coordMap=new kf(this);this.elsByFill={};this.externalDragStartProxy=h(this,"externalDragStart")},computeColHeadFormat:function(){},computeEventTimeFormat:function(){return this.view.opt("smallTimeFormat")},computeDisplayEventTime:function(){return!0},computeDisplayEventEnd:function(){return!0},setRange:function(n){this.start=n.start.clone();this.end=n.end.clone();this.rangeUpdated();this.processRangeOptions()},rangeUpdated:function(){},processRangeOptions:function(){var t,i,n=this.view;this.colHeadFormat=n.opt("columnFormat")||this.computeColHeadFormat();this.eventTimeFormat=n.opt("eventTimeFormat")||n.opt("timeFormat")||this.computeEventTimeFormat();t=n.opt("displayEventTime");null==t&&(t=this.computeDisplayEventTime());i=n.opt("displayEventEnd");null==i&&(i=this.computeDisplayEventEnd());this.displayEventTime=t;this.displayEventEnd=i},build:function(){},clear:function(){},rangeToSegs:function(){},diffDates:function(n,t){return this.largeUnit?ki(n,t,this.largeUnit):bi(n,t)},getCell:function(t,i){var r;return null==i&&("number"==typeof t?(i=t%this.colCnt,t=Math.floor(t/this.colCnt)):(i=t.col,t=t.row)),r={row:t,col:i},n.extend(r,this.getRowData(t),this.getColData(i)),n.extend(r,this.computeCellRange(r)),r},computeCellRange:function(n){var t=this.computeCellDate(n);return{start:t,end:t.clone().add(this.cellDuration)}},computeCellDate:function(){},getRowData:function(){return{}},getColData:function(){return{}},getRowEl:function(){},getColEl:function(){},getCellDayEl:function(n){return this.getColEl(n.col)||this.getRowEl(n.row)},computeRowCoords:function(){for(var t,i,r=[],n=0;n<this.rowCnt;n++)t=this.getRowEl(n),i=t.offset().top,r.push({top:i,bottom:i+t.outerHeight()});return r},computeColCoords:function(){for(var t,i,r=[],n=0;n<this.colCnt;n++)t=this.getColEl(n),i=t.offset().left,r.push({left:i,right:i+t.outerWidth()});return r},setElement:function(t){var i=this;this.el=t;t.on("mousedown",function(t){n(t.target).is(".fc-event-container *, .fc-more")||n(t.target).closest(".fc-popover").length||i.dayMousedown(t)});this.bindSegHandlers();this.bindGlobalHandlers()},removeElement:function(){this.unbindGlobalHandlers();this.el.remove()},renderSkeleton:function(){},renderDates:function(){},unrenderDates:function(){},bindGlobalHandlers:function(){n(document).on("dragstart sortstart",this.externalDragStartProxy)},unbindGlobalHandlers:function(){n(document).off("dragstart sortstart",this.externalDragStartProxy)},dayMousedown:function(n){var i,t,u=this,r=this.view,f=r.opt("selectable"),e=new ot(this.coordMap,{scroll:r.opt("dragScroll"),dragStart:function(){r.unselect()},cellOver:function(n,r,e){e&&(i=r?n:null,f&&(t=u.computeSelection(e,n),t?u.renderSelection(t):nt()))},cellOut:function(){i=null;t=null;u.unrenderSelection();w()},listenStop:function(n){i&&r.triggerDayClick(i,u.getCellDayEl(i),n);t&&r.reportSelection(t,n);w()}});e.mousedown(n)},renderRangeHelper:function(n,t){var i=this.fabricateHelperEvent(n,t);this.renderHelper(i,t)},fabricateHelperEvent:function(n,t){var i=t?it(t.event):{};return i.start=n.start.clone(),i.end=n.end?n.end.clone():null,i.allDay=null,this.view.calendar.normalizeEventRange(i),i.className=(i.className||[]).concat("fc-helper"),t||(i.editable=!1),i},renderHelper:function(){},unrenderHelper:function(){},renderSelection:function(n){this.renderHighlight(this.selectionRangeToSegs(n))},unrenderSelection:function(){this.unrenderHighlight()},computeSelection:function(n,t){var i,r=[n.start,n.end,t.start,t.end];return r.sort(wu),i={start:r[0].clone(),end:r[3].clone()},this.view.calendar.isSelectionRangeAllowed(i)?i:null},selectionRangeToSegs:function(n){return this.rangeToSegs(n)},renderHighlight:function(n){this.renderFill("highlight",n)},unrenderHighlight:function(){this.unrenderFill("highlight")},highlightSegClasses:function(){return["fc-highlight"]},renderFill:function(){},unrenderFill:function(n){var t=this.elsByFill[n];t&&(t.remove(),delete this.elsByFill[n])},renderFillSegEls:function(t,i){var r,u=this,f=this[t+"SegEl"],e="",o=[];if(i.length){for(r=0;r<i.length;r++)e+=this.fillSegHtml(t,i[r]);n(e).each(function(t,r){var s=i[t],e=n(r);f&&(e=f.call(u,s,e));e&&(e=n(e),e.is(u.fillSegTag)&&(s.el=e,o.push(s)))})}return o},fillSegTag:"div",fillSegHtml:function(n,t){var i=this[n+"SegClasses"],r=this[n+"SegCss"],u=i?i.call(this,t):[],f=ut(r?r.call(this,t):{});return"<"+this.fillSegTag+(u.length?' class="'+u.join(" ")+'"':"")+(f?' style="'+f+'"':"")+" />"},headHtml:function(){return'<div class="fc-row '+this.view.widgetHeaderClass+'"><table><thead>'+this.rowHtml("head")+"<\/thead><\/table><\/div>"},headCellHtml:function(n){var i=this.view,t=n.start;return'<th class="fc-day-header '+i.widgetHeaderClass+" fc-"+wr[t.day()]+'">'+r(t.format(this.colHeadFormat))+"<\/th>"},bgCellHtml:function(n){var r=this.view,t=n.start,i=this.getDayClasses(t);return i.unshift("fc-day",r.widgetContentClass),'<td class="'+i.join(" ")+'" data-date="'+t.format("YYYY-MM-DD")+'"><\/td>'},getDayClasses:function(n){var i=this.view,r=i.calendar.getNow().stripTime(),t=["fc-"+wr[n.day()]];return 1==i.intervalDuration.as("months")&&n.month()!=i.intervalStart.month()&&t.push("fc-other-month"),n.isSame(r,"day")?t.push("fc-today",i.highlightStateClass):r>n?t.push("fc-past"):t.push("fc-future"),t}});c.mixin({mousedOverSeg:null,isDraggingSeg:!1,isResizingSeg:!1,isDraggingExternal:!1,segs:null,renderEvents:function(n){for(var u,f=this.eventsToSegs(n),t=[],i=[],r=0;r<f.length;r++)u=f[r],du(u.event)?t.push(u):i.push(u);t=this.renderBgSegs(t)||t;i=this.renderFgSegs(i)||i;this.segs=t.concat(i)},unrenderEvents:function(){this.triggerSegMouseout();this.unrenderFgSegs();this.unrenderBgSegs();this.segs=null},getEventSegs:function(){return this.segs||[]},renderFgSegs:function(){},unrenderFgSegs:function(){},renderFgSegEls:function(t,i){var r,e=this.view,u="",f=[];if(t.length){for(r=0;r<t.length;r++)u+=this.fgSegHtml(t[r],i);n(u).each(function(i,r){var u=t[i],o=e.resolveEventEl(u.event,n(r));o&&(o.data("fc-seg",u),u.el=o,f.push(u))})}return f},fgSegHtml:function(){},renderBgSegs:function(n){return this.renderFill("bgEvent",n)},unrenderBgSegs:function(){this.unrenderFill("bgEvent")},bgEventSegEl:function(n,t){return this.view.resolveEventEl(n.event,t)},bgEventSegClasses:function(n){var t=n.event,i=t.source||{};return["fc-bgevent"].concat(t.className,i.className||[])},bgEventSegCss:function(n){var i=this.view,t=n.event,r=t.source||{};return{"background-color":t.backgroundColor||t.color||r.backgroundColor||r.color||i.opt("eventBackgroundColor")||i.opt("eventColor")}},businessHoursSegClasses:function(){return["fc-nonbusiness","fc-bgevent"]},bindSegHandlers:function(){var t=this,i=this.view;n.each({mouseenter:function(n,i){t.triggerSegMouseover(n,i)},mouseleave:function(n,i){t.triggerSegMouseout(n,i)},click:function(n,t){return i.trigger("eventClick",this,n.event,t)},mousedown:function(r,u){n(u.target).is(".fc-resizer")&&i.isEventResizable(r.event)?t.segResizeMousedown(r,u,n(u.target).is(".fc-start-resizer")):i.isEventDraggable(r.event)&&t.segDragMousedown(r,u)}},function(i,r){t.el.on(i,".fc-event-container > *",function(i){var u=n(this).data("fc-seg");if(u&&!t.isDraggingSeg&&!t.isResizingSeg)return r.call(this,u,i)})})},triggerSegMouseover:function(n,t){this.mousedOverSeg||(this.mousedOverSeg=n,this.view.trigger("eventMouseover",n.el[0],n.event,t))},triggerSegMouseout:function(n,t){t=t||{};this.mousedOverSeg&&(n=n||this.mousedOverSeg,this.mousedOverSeg=null,this.view.trigger("eventMouseout",n.el[0],n.event,t))},segDragMousedown:function(n,t){var r,e=this,i=this.view,s=i.calendar,o=n.el,f=n.event,u=new gf(n.el,{parentEl:i.el,opacity:i.opt("dragOpacity"),revertDuration:i.opt("dragRevertDuration"),zIndex:2}),h=new ot(i.coordMap,{distance:5,scroll:i.opt("dragScroll"),subjectEl:o,subjectCenter:!0,listenStart:function(n){u.hide();u.start(n)},dragStart:function(t){e.triggerSegMouseout(n,t);e.segDragStart(n,t);i.hideEvent(f)},cellOver:function(t,o,h){n.cell&&(h=n.cell);r=e.computeEventDrop(h,t,f);r&&!s.isEventRangeAllowed(r,f)&&(nt(),r=null);r&&i.renderDrag(r,n)?u.hide():u.show();o&&(r=null)},cellOut:function(){i.unrenderDrag();u.show();r=null},cellDone:function(){w()},dragStop:function(t){u.stop(!r,function(){i.unrenderDrag();i.showEvent(f);e.segDragStop(n,t);r&&i.reportEventDrop(f,r,this.largeUnit,o,t)})},listenStop:function(){u.stop()}});h.mousedown(t)},segDragStart:function(n,t){this.isDraggingSeg=!0;this.view.trigger("eventDragStart",n.el[0],n.event,t,{})},segDragStop:function(n,t){this.isDraggingSeg=!1;this.view.trigger("eventDragStop",n.el[0],n.event,t,{})},computeEventDrop:function(n,t,i){var u,r,e=this.view.calendar,o=n.start,f=t.start;return o.hasTime()===f.hasTime()?(u=this.diffDates(f,o),i.allDay&&at(u)?(r={start:i.start.clone(),end:e.getEventEnd(i),allDay:!1},e.normalizeEventRangeTimes(r)):r={start:i.start.clone(),end:i.end?i.end.clone():null,allDay:i.allDay},r.start.add(u),r.end&&r.end.add(u)):r={start:f.clone(),end:null,allDay:!f.hasTime()},r},applyDragOpacity:function(n){var t=this.view.opt("dragOpacity");null!=t&&n.each(function(n,i){i.style.opacity=t})},externalDragStart:function(t,i){var r,u,f=this.view;f.opt("droppable")&&(r=n((i?i.item:null)||t.target),u=f.opt("dropAccept"),(n.isFunction(u)?u.call(r[0],r):r.is(u))&&(this.isDraggingExternal||this.listenToExternalDrag(r,t,i)))},listenToExternalDrag:function(n,t,i){var f,u,r=this,e=rf(n);f=new ot(this.coordMap,{listenStart:function(){r.isDraggingExternal=!0},cellOver:function(n){u=r.computeExternalDrop(n,e);u?r.renderDrag(u):nt()},cellOut:function(){u=null;r.unrenderDrag();w()},dragStop:function(){r.unrenderDrag();w();u&&r.view.reportExternalDrop(e,u,n,t,i)},listenStop:function(){r.isDraggingExternal=!1}});f.startDrag(t)},computeExternalDrop:function(n,t){var i={start:n.start.clone(),end:null};return t.startTime&&!i.start.hasTime()&&i.start.time(t.startTime),t.duration&&(i.end=i.start.clone().add(t.duration)),this.view.calendar.isExternalDropRangeAllowed(i,t.eventProps)?i:null},renderDrag:function(){},unrenderDrag:function(){},segResizeMousedown:function(n,t,i){var o,r,f=this,e=this.view,s=e.calendar,h=n.el,u=n.event,c=s.getEventEnd(u);o=new ot(this.coordMap,{distance:5,scroll:e.opt("dragScroll"),subjectEl:h,dragStart:function(t){f.triggerSegMouseout(n,t);f.segResizeStart(n,t)},cellOver:function(t,o,h){r=i?f.computeEventStartResize(h,t,u):f.computeEventEndResize(h,t,u);r&&(s.isEventRangeAllowed(r,u)?r.start.isSame(u.start)&&r.end.isSame(c)&&(r=null):(nt(),r=null));r&&(e.hideEvent(u),f.renderEventResize(r,n))},cellOut:function(){r=null},cellDone:function(){f.unrenderEventResize();e.showEvent(u);w()},dragStop:function(t){f.segResizeStop(n,t);r&&e.reportEventResize(u,r,this.largeUnit,h,t)}});o.mousedown(t)},segResizeStart:function(n,t){this.isResizingSeg=!0;this.view.trigger("eventResizeStart",n.el[0],n.event,t,{})},segResizeStop:function(n,t){this.isResizingSeg=!1;this.view.trigger("eventResizeStop",n.el[0],n.event,t,{})},computeEventStartResize:function(n,t,i){return this.computeEventResize("start",n,t,i)},computeEventEndResize:function(n,t,i){return this.computeEventResize("end",n,t,i)},computeEventResize:function(n,t,i,r){var u,f,e=this.view.calendar,o=this.diffDates(i[n],t[n]);return u={start:r.start.clone(),end:e.getEventEnd(r),allDay:r.allDay},u.allDay&&at(o)&&(u.allDay=!1,e.normalizeEventRangeTimes(u)),u[n].add(o),u.start.isBefore(u.end)||(f=r.allDay?e.defaultAllDayEventDuration:e.defaultTimedEventDuration,this.cellDuration&&this.cellDuration<f&&(f=this.cellDuration),"start"==n?u.start=u.end.clone().subtract(f):u.end=u.start.clone().add(f)),u},renderEventResize:function(){},unrenderEventResize:function(){},getEventTimeText:function(n,t,i){return null==t&&(t=this.eventTimeFormat),null==i&&(i=this.displayEventEnd),this.displayEventTime&&n.start.hasTime()?i&&n.end?this.view.formatRange(n,t):n.start.format(t):""},getSegClasses:function(n,t,i){var r=n.event,u=["fc-event",n.isStart?"fc-start":"fc-not-start",n.isEnd?"fc-end":"fc-not-end"].concat(r.className,r.source?r.source.className:[]);return t&&u.push("fc-draggable"),i&&u.push("fc-resizable"),u},getEventSkinCss:function(n){var t=this.view,i=n.source||{},r=n.color,u=i.color,f=t.opt("eventColor");return{"background-color":n.backgroundColor||r||i.backgroundColor||u||t.opt("eventBackgroundColor")||f,"border-color":n.borderColor||r||i.borderColor||u||t.opt("eventBorderColor")||f,color:n.textColor||i.textColor||t.opt("eventTextColor")}},eventsToSegs:function(n,t){for(var u=this.eventsToRanges(n),r=[],i=0;i<u.length;i++)r.push.apply(r,this.eventRangeToSegs(u[i],t));return r},eventsToRanges:function(t){var r=this,u=nf(t),i=[];return n.each(u,function(n,t){t.length&&i.push.apply(i,gu(t[0])?r.eventsToInverseRanges(t):r.eventsToNormalRanges(t))}),i},eventsToNormalRanges:function(n){for(var i,r,u,e=this.view.calendar,f=[],t=0;t<n.length;t++)i=n[t],r=i.start.clone().stripZone(),u=e.getEventEnd(i).stripZone(),f.push({event:i,start:r,end:u,eventStartMS:+r,eventDurationMS:u-r});return f},eventsToInverseRanges:function(n){var i,r,e=this.view,h=e.start.clone().stripZone(),o=e.end.clone().stripZone(),u=this.eventsToNormalRanges(n),f=[],s=n[0],t=h;for(u.sort(tf),i=0;i<u.length;i++)r=u[i],r.start>t&&f.push({event:s,start:t,end:r.start}),t=r.end;return o>t&&f.push({event:s,start:t,end:o}),f},eventRangeToSegs:function(n,t){var i,r,u;for(n=this.view.calendar.ensureVisibleEventRange(n),i=t?t(n):this.rangeToSegs(n),r=0;r<i.length;r++)u=i[r],u.event=n.event,u.eventStartMS=n.eventStartMS,u.eventDurationMS=n.eventDurationMS;return i}});i.compareSegs=d;i.dataAttrPrefix="";g=c.extend({numbersVisible:!1,bottomCoordPadding:0,breakOnWeeks:null,cellDates:null,dayToCellOffsets:null,rowEls:null,dayEls:null,helperEls:null,constructor:function(){c.apply(this,arguments);this.cellDuration=t.duration(1,"day")},renderDates:function(n){for(var t,r,e=this.view,u=this.rowCnt,o=this.colCnt,s=u*o,f="",i=0;u>i;i++)f+=this.dayRowHtml(i,n);for(this.el.html(f),this.rowEls=this.el.find(".fc-row"),this.dayEls=this.el.find(".fc-day"),t=0;s>t;t++)r=this.getCell(t),e.trigger("dayRender",null,r.start,this.dayEls.eq(t))},unrenderDates:function(){this.removeSegPopover()},renderBusinessHours:function(){var n=this.view.calendar.getBusinessHoursEvents(!0),t=this.eventsToSegs(n);this.renderFill("businessHours",t,"bgevent")},dayRowHtml:function(n,t){var r=this.view,i=["fc-row","fc-week",r.widgetContentClass];return t&&i.push("fc-rigid"),'<div class="'+i.join(" ")+'"><div class="fc-bg"><table>'+this.rowHtml("day",n)+'<\/table><\/div><div class="fc-content-skeleton"><table>'+(this.numbersVisible?"<thead>"+this.rowHtml("number",n)+"<\/thead>":"")+"<\/table><\/div><\/div>"},dayCellHtml:function(n){return this.bgCellHtml(n)},computeColHeadFormat:function(){return this.rowCnt>1?"ddd":this.colCnt>1?this.view.opt("dayOfMonthFormat"):"dddd"},computeEventTimeFormat:function(){return this.view.opt("extraSmallTimeFormat")},computeDisplayEventEnd:function(){return 1==this.colCnt},rangeUpdated:function(){var t,r,i,n;if(this.updateCellDates(),t=this.cellDates,this.breakOnWeeks){for(r=t[0].day(),n=1;n<t.length&&t[n].day()!=r;n++);i=Math.ceil(t.length/n)}else i=1,n=t.length;this.rowCnt=i;this.colCnt=n},updateCellDates:function(){for(var u=this.view,n=this.start.clone(),r=[],t=-1,i=[];n.isBefore(this.end);)u.isHiddenDay(n)?i.push(t+.5):(t++,i.push(t),r.push(n.clone())),n.add(1,"days");this.cellDates=r;this.dayToCellOffsets=i},computeCellDate:function(n){var t=this.colCnt,i=n.row*t+(this.isRTL?t-n.col-1:n.col);return this.cellDates[i].clone()},getRowEl:function(n){return this.rowEls.eq(n)},getColEl:function(n){return this.dayEls.eq(n)},getCellDayEl:function(n){return this.dayEls.eq(n.row*this.colCnt+n.col)},computeRowCoords:function(){var n=c.prototype.computeRowCoords.call(this);return n[n.length-1].bottom+=this.bottomCoordPadding,n},rangeToSegs:function(n){var o,s,u,f,h,c,l,t,i,r,v=this.isRTL,y=this.rowCnt,e=this.colCnt,a=[];for(n=this.view.computeDayRange(n),o=this.dateToCellOffset(n.start),s=this.dateToCellOffset(n.end.subtract(1,"days")),u=0;y>u;u++)f=u*e,h=f+e-1,t=Math.max(f,o),i=Math.min(h,s),t=Math.ceil(t),i=Math.floor(i),i>=t&&(c=t===o,l=i===s,t-=f,i-=f,r={row:u,isStart:c,isEnd:l},v?(r.leftCol=e-i-1,r.rightCol=e-t-1):(r.leftCol=t,r.rightCol=i),a.push(r));return a},dateToCellOffset:function(n){var t=this.dayToCellOffsets,i=n.diff(this.start,"days");return 0>i?t[0]-1:i>=t.length?t[t.length-1]+1:t[i]},renderDrag:function(n,t){return this.renderHighlight(this.eventRangeToSegs(n)),t&&!t.el.closest(this.el).length?(this.renderRangeHelper(n,t),this.applyDragOpacity(this.helperEls),!0):void 0},unrenderDrag:function(){this.unrenderHighlight();this.unrenderHelper()},renderEventResize:function(n,t){this.renderHighlight(this.eventRangeToSegs(n));this.renderRangeHelper(n,t)},unrenderEventResize:function(){this.unrenderHighlight();this.unrenderHelper()},renderHelper:function(t,i){var u,f=[],r=this.eventsToSegs([t]);r=this.renderFgSegEls(r);u=this.renderSegRows(r);this.rowEls.each(function(t,r){var o,s=n(r),e=n('<div class="fc-helper-skeleton"><table/><\/div>');o=i&&i.row===t?i.el.position().top:s.find(".fc-content-skeleton tbody").position().top;e.css("top",o).find("table").append(u[t].tbodyEl);s.append(e);f.push(e[0])});this.helperEls=n(f)},unrenderHelper:function(){this.helperEls&&(this.helperEls.remove(),this.helperEls=null)},fillSegTag:"td",renderFill:function(t,i,r){var u,f,e,o=[];for(i=this.renderFillSegEls(t,i),u=0;u<i.length;u++)f=i[u],e=this.renderFillRow(t,f,r),this.rowEls.eq(f.row).append(e),o.push(e[0]);return this.elsByFill[t]=n(o),i},renderFillRow:function(t,i,r){var f,u,s=this.colCnt,e=i.leftCol,o=i.rightCol+1;return r=r||t.toLowerCase(),f=n('<div class="fc-'+r+'-skeleton"><table><tr/><\/table><\/div>'),u=f.find("tr"),e>0&&u.append('<td colspan="'+e+'"/>'),u.append(i.el.attr("colspan",o-e)),s>o&&u.append('<td colspan="'+(s-o)+'"/>'),this.bookendCells(u,t),f}});g.mixin({rowStructs:null,unrenderEvents:function(){this.removeSegPopover();c.prototype.unrenderEvents.apply(this,arguments)},getEventSegs:function(){return c.prototype.getEventSegs.call(this).concat(this.popoverSegs||[])},renderBgSegs:function(t){var i=n.grep(t,function(n){return n.event.allDay});return c.prototype.renderBgSegs.call(this,i)},renderFgSegs:function(t){var i;return t=this.renderFgSegEls(t),i=this.rowStructs=this.renderSegRows(t),this.rowEls.each(function(t,r){n(r).find(".fc-content-skeleton > table").append(i[t].tbodyEl)}),t},unrenderFgSegs:function(){for(var n,t=this.rowStructs||[];n=t.pop();)n.tbodyEl.remove();this.rowStructs=null},renderSegRows:function(n){for(var r=[],i=this.groupSegRows(n),t=0;t<i.length;t++)r.push(this.renderSegRow(t,i[t]));return r},fgSegHtml:function(n,t){var u,f,e=this.view,i=n.event,a=e.isEventDraggable(i),s=!t&&i.allDay&&n.isStart&&e.isEventResizableFromStart(i),h=!t&&i.allDay&&n.isEnd&&e.isEventResizableFromEnd(i),c=this.getSegClasses(n,a,s||h),l=ut(this.getEventSkinCss(i)),o="";return c.unshift("fc-day-grid-event","fc-h-event"),n.isStart&&(u=this.getEventTimeText(i),u&&(o='<span class="fc-time">'+r(u)+"<\/span>")),f='<span class="fc-title">'+(r(i.title||"")||"&nbsp;")+"<\/span>",'<a class="'+c.join(" ")+'"'+(i.url?' href="'+r(i.url)+'"':"")+(l?' style="'+l+'"':"")+'><div class="fc-content">'+(this.isRTL?f+" "+o:o+" "+f)+"<\/div>"+(s?'<div class="fc-resizer fc-start-resizer" />':"")+(h?'<div class="fc-resizer fc-end-resizer" />':"")+"<\/a>"},renderSegRow:function(t,i){function y(t){for(;t>u;)r=(l[f-1]||[])[u],r?r.attr("rowspan",parseInt(r.attr("rowspan")||1,10)+1):(r=n("<td/>"),o.append(r)),c[f][u]=r,l[f][u]=r,u++}for(var s,u,o,h,e,r,w=this.colCnt,a=this.buildSegLevels(i),b=Math.max(1,a.length),p=n("<tbody/>"),v=[],c=[],l=[],f=0;b>f;f++){if(s=a[f],u=0,o=n("<tr/>"),v.push([]),c.push([]),l.push([]),s)for(h=0;h<s.length;h++){for(e=s[h],y(e.leftCol),r=n('<td class="fc-event-container"/>').append(e.el),e.leftCol!=e.rightCol?r.attr("colspan",e.rightCol-e.leftCol+1):l[f][u]=r;u<=e.rightCol;)c[f][u]=r,v[f][u]=e,u++;o.append(r)}y(w);this.bookendCells(o,"eventSkeleton");p.append(o)}return{row:t,tbodyEl:p,cellMatrix:c,segMatrix:v,segLevels:a,segs:i}},buildSegLevels:function(n){var r,u,t,i=[];for(n.sort(d),r=0;r<n.length;r++){for(u=n[r],t=0;t<i.length&&uf(u,i[t]);t++);u.level=t;(i[t]||(i[t]=[])).push(u)}for(t=0;t<i.length;t++)i[t].sort(ff);return i},groupSegRows:function(n){for(var i=[],t=0;t<this.rowCnt;t++)i.push([]);for(t=0;t<n.length;t++)i[n[t].row].push(n[t]);return i}});g.mixin({segPopover:null,popoverSegs:null,removeSegPopover:function(){this.segPopover&&this.segPopover.hide()},limitRows:function(n){for(var i,r=this.rowStructs||[],t=0;t<r.length;t++)this.unlimitRow(t),i=n?"number"==typeof n?n:this.computeRowLevelLimit(t):!1,i!==!1&&this.limitRow(t,i)},computeRowLevelLimit:function(t){function e(t,i){r=Math.max(r,n(i).outerHeight())}for(var u,r,o=this.rowEls.eq(t),s=o.height(),f=this.rowStructs[t].tbodyEl.children(),i=0;i<f.length;i++)if(u=f.eq(i).removeClass("fc-limited"),r=0,u.find("> td > :first-child").each(e),u.position().top+r>s)return i;return!1},limitRow:function(t,i){function tt(e){for(;e>f;)u=g.getCell(t,f),r=g.getCellSegs(u,i),r.length&&(o=w[i-1][f],y=g.renderMoreLink(u,r),c=n("<div/>").append(y),o.append(c),nt.push(c[0])),f++}var u,p,w,b,l,e,r,k,a,o,it,d,h,v,c,y,g=this,s=this.rowStructs[t],nt=[],f=0;if(i&&i<s.segLevels.length){for(p=s.segLevels[i-1],w=s.cellMatrix,b=s.tbodyEl.children().slice(i).addClass("fc-limited").get(),l=0;l<p.length;l++){for(e=p[l],tt(e.leftCol),a=[],k=0;f<=e.rightCol;)u=this.getCell(t,f),r=this.getCellSegs(u,i),a.push(r),k+=r.length,f++;if(k){for(o=w[i-1][e.leftCol],it=o.attr("rowspan")||1,d=[],h=0;h<a.length;h++)v=n('<td class="fc-more-cell"/>').attr("rowspan",it),r=a[h],u=this.getCell(t,e.leftCol+h),y=this.renderMoreLink(u,[e].concat(r)),c=n("<div/>").append(y),v.append(c),d.push(v[0]),nt.push(v[0]);o.addClass("fc-limited").after(n(d));b.push(o[0])}}tt(this.colCnt);s.moreEls=n(nt);s.limitedEls=n(b)}},unlimitRow:function(n){var t=this.rowStructs[n];t.moreEls&&(t.moreEls.remove(),t.moreEls=null);t.limitedEls&&(t.limitedEls.removeClass("fc-limited"),t.limitedEls=null)},renderMoreLink:function(t,i){var r=this,u=this.view;return n('<a class="fc-more"/>').text(this.getMoreLinkText(i.length)).on("click",function(f){var e=u.opt("eventLimitClick"),o=t.start,s=n(this),c=r.getCellDayEl(t),l=r.getCellSegs(t),h=r.resliceDaySegs(l,o),a=r.resliceDaySegs(i,o);"function"==typeof e&&(e=u.trigger("eventLimitClick",null,{date:o,dayEl:c,moreEl:s,segs:h,hiddenSegs:a},f));"popover"===e?r.showSegPopover(t,s,h):"string"==typeof e&&u.calendar.zoomTo(o,e)})},showSegPopover:function(n,t,i){var e,r,u=this,o=this.view,f=t.parent();e=1==this.rowCnt?o.el:this.rowEls.eq(n.row);r={className:"fc-more-popover",content:this.renderSegPopoverContent(n,i),parentEl:this.el,top:e.offset().top,autoHide:!0,viewportConstrain:o.opt("popoverViewportConstrain"),hide:function(){u.segPopover.removeElement();u.segPopover=null;u.popoverSegs=null}};this.isRTL?r.right=f.offset().left+f.outerWidth()+1:r.left=f.offset().left-1;this.segPopover=new bf(r);this.segPopover.show()},renderSegPopoverContent:function(t,i){var u,f=this.view,o=f.opt("theme"),s=t.start.format(f.opt("dayPopoverFormat")),e=n('<div class="fc-header '+f.widgetHeaderClass+'"><span class="fc-close '+(o?"ui-icon ui-icon-closethick":"fc-icon fc-icon-x")+'"><\/span><span class="fc-title">'+r(s)+'<\/span><div class="fc-clear"/><\/div><div class="fc-body '+f.widgetContentClass+'"><div class="fc-event-container"><\/div><\/div>'),h=e.find(".fc-event-container");for(i=this.renderFgSegEls(i,!0),this.popoverSegs=i,u=0;u<i.length;u++)i[u].cell=t,h.append(i[u].el);return e},resliceDaySegs:function(t,i){var u=n.map(t,function(n){return n.event}),r=i.clone().stripTime(),f=r.clone().add(1,"days"),e={start:r,end:f};return t=this.eventsToSegs(u,function(n){var t=ct(n,e);return t?[t]:[]}),t.sort(d),t},getMoreLinkText:function(n){var t=this.view.opt("eventLimitText");return"function"==typeof t?t(n):"+"+n+" "+t},getCellSegs:function(n,t){for(var i,u=this.rowStructs[n.row].segMatrix,r=t||0,f=[];r<u.length;)i=u[r][n.col],i&&f.push(i),r++;return f}});ei=c.extend({slotDuration:null,snapDuration:null,minTime:null,maxTime:null,colDates:null,axisFormat:null,dayEls:null,slatEls:null,slatTops:null,helperEl:null,businessHourSegs:null,constructor:function(){c.apply(this,arguments);this.processOptions()},renderDates:function(){this.el.html(this.renderHtml());this.dayEls=this.el.find(".fc-day");this.slatEls=this.el.find(".fc-slats tr")},renderBusinessHours:function(){var n=this.view.calendar.getBusinessHoursEvents();this.businessHourSegs=this.renderFill("businessHours",this.eventsToSegs(n),"bgevent")},renderHtml:function(){return'<div class="fc-bg"><table>'+this.rowHtml("slotBg")+'<\/table><\/div><div class="fc-slats"><table>'+this.slatRowHtml()+"<\/table><\/div>"},slotBgCellHtml:function(n){return this.bgCellHtml(n)},slatRowHtml:function(){for(var n,i,u,f=this.view,o=this.isRTL,s="",h=this.slotDuration.asMinutes()%15==0,e=t.duration(+this.minTime);e<this.maxTime;)n=this.start.clone().time(e),i=n.minutes(),u='<td class="fc-axis fc-time '+f.widgetContentClass+'" '+f.axisStyleAttr()+">"+(h&&i?"":"<span>"+r(n.format(this.axisFormat))+"<\/span>")+"<\/td>",s+="<tr "+(i?'class="fc-minor"':"")+">"+(o?"":u)+'<td class="'+f.widgetContentClass+'"/>'+(o?u:"")+"<\/tr>",e.add(this.slotDuration);return s},processOptions:function(){var n=this.view,r=n.opt("slotDuration"),i=n.opt("snapDuration");r=t.duration(r);i=i?t.duration(i):r;this.slotDuration=r;this.snapDuration=i;this.cellDuration=i;this.minTime=t.duration(n.opt("minTime"));this.maxTime=t.duration(n.opt("maxTime"));this.axisFormat=n.opt("axisFormat")||n.opt("smallTimeFormat")},computeColHeadFormat:function(){return this.colCnt>1?this.view.opt("dayOfMonthFormat"):"dddd"},computeEventTimeFormat:function(){return this.view.opt("noMeridiemTimeFormat")},computeDisplayEventEnd:function(){return!0},rangeUpdated:function(){for(var i=this.view,t=[],n=this.start.clone();n.isBefore(this.end);)t.push(n.clone()),n.add(1,"day"),n=i.skipHiddenDays(n);this.isRTL&&t.reverse();this.colDates=t;this.colCnt=t.length;this.rowCnt=Math.ceil((this.maxTime-this.minTime)/this.snapDuration)},computeCellDate:function(n){var t=this.colDates[n.col],i=this.computeSnapTime(n.row);return t=this.view.calendar.rezoneDate(t),t.time(i),t},getColEl:function(n){return this.dayEls.eq(n)},computeSnapTime:function(n){return t.duration(this.minTime+this.snapDuration*n)},rangeToSegs:function(n){var i,t,r,u,e=this.colCnt,f=[];for(n={start:n.start.clone().stripZone(),end:n.end.clone().stripZone()},t=0;e>t;t++)r=this.colDates[t],u={start:r.clone().time(this.minTime),end:r.clone().time(this.maxTime)},i=ct(n,u),i&&(i.col=t,f.push(i));return f},updateSize:function(n){this.computeSlatTops();n&&this.updateSegVerticals()},computeRowCoords:function(){for(var t,r=this.el.offset().top,i=[],n=0;n<this.rowCnt;n++)t={top:r+this.computeTimeTop(this.computeSnapTime(n))},n>0&&(i[n-1].bottom=t.top),i.push(t);return t.bottom=t.top+this.computeTimeTop(this.computeSnapTime(n)),i},computeDateTop:function(n,i){return this.computeTimeTop(t.duration(n.clone().stripZone()-i.clone().stripTime()))},computeTimeTop:function(n){var i,u,r,f,t=(n-this.minTime)/this.slotDuration;return t=Math.max(0,t),t=Math.min(this.slatEls.length,t),i=Math.floor(t),u=t-i,r=this.slatTops[i],u?(f=this.slatTops[i+1],r+(f-r)*u):r},computeSlatTops:function(){var t,i=[];this.slatEls.each(function(r,u){t=n(u).position().top;i.push(t)});i.push(t+this.slatEls.last().outerHeight());this.slatTops=i},renderDrag:function(n,t){return t?(this.renderRangeHelper(n,t),this.applyDragOpacity(this.helperEl),!0):void this.renderHighlight(this.eventRangeToSegs(n))},unrenderDrag:function(){this.unrenderHelper();this.unrenderHighlight()},renderEventResize:function(n,t){this.renderRangeHelper(n,t)},unrenderEventResize:function(){this.unrenderHelper()},renderHelper:function(t,i){var o,f,e,r,u=this.eventsToSegs([t]);for(u=this.renderFgSegEls(u),o=this.renderSegTable(u),f=0;f<u.length;f++)e=u[f],i&&i.col===e.col&&(r=i.el,e.el.css({left:r.css("left"),right:r.css("right"),"margin-left":r.css("margin-left"),"margin-right":r.css("margin-right")}));this.helperEl=n('<div class="fc-helper-skeleton"/>').append(o).appendTo(this.el)},unrenderHelper:function(){this.helperEl&&(this.helperEl.remove(),this.helperEl=null)},renderSelection:function(n){this.view.opt("selectHelper")?this.renderRangeHelper(n):this.renderHighlight(this.selectionRangeToSegs(n))},unrenderSelection:function(){this.unrenderHelper();this.unrenderHighlight()},renderFill:function(t,i,r){var h,f,c,u,e,a,v,l,o,s;if(i.length){for(i=this.renderFillSegEls(t,i),h=this.groupSegCols(i),r=r||t.toLowerCase(),f=n('<div class="fc-'+r+'-skeleton"><table><tr/><\/table><\/div>'),c=f.find("tr"),u=0;u<h.length;u++)if(e=h[u],a=n("<td/>").appendTo(c),e.length)for(v=n('<div class="fc-'+r+'-container"/>').appendTo(a),l=this.colDates[u],o=0;o<e.length;o++)s=e[o],v.append(s.el.css({top:this.computeDateTop(s.start,l),bottom:-this.computeDateTop(s.end,l)}));this.bookendCells(c,t);this.el.append(f);this.elsByFill[t]=f}return i}});ei.mixin({eventSkeletonEl:null,renderFgSegs:function(t){return t=this.renderFgSegEls(t),this.el.append(this.eventSkeletonEl=n('<div class="fc-content-skeleton"/>').append(this.renderSegTable(t))),t},unrenderFgSegs:function(){this.eventSkeletonEl&&(this.eventSkeletonEl.remove(),this.eventSkeletonEl=null)},renderSegTable:function(t){var e,r,i,u,f,o,s=n("<table><tr/><\/table>"),h=s.find("tr");for(e=this.groupSegCols(t),this.computeSegVerticals(t),u=0;u<e.length;u++){for(f=e[u],ef(f),o=n('<div class="fc-event-container"/>'),r=0;r<f.length;r++)i=f[r],i.el.css(this.generateSegPositionCss(i)),i.bottom-i.top<30&&i.el.addClass("fc-short"),o.append(i.el);h.append(n("<td/>").append(o))}return this.bookendCells(h,"eventSkeleton"),s},updateSegVerticals:function(){var n,t=(this.segs||[]).concat(this.businessHourSegs||[]);for(this.computeSegVerticals(t),n=0;n<t.length;n++)t[n].el.css(this.generateSegVerticalCss(t[n]))},computeSegVerticals:function(n){for(var t,i=0;i<n.length;i++)t=n[i],t.top=this.computeDateTop(t.start,t.start),t.bottom=this.computeDateTop(t.end,t.start)},fgSegHtml:function(n,t){var u,e,o,f=this.view,i=n.event,l=f.isEventDraggable(i),a=!t&&n.isStart&&f.isEventResizableFromStart(i),s=!t&&n.isEnd&&f.isEventResizableFromEnd(i),h=this.getSegClasses(n,l,a||s),c=ut(this.getEventSkinCss(i));return h.unshift("fc-time-grid-event","fc-v-event"),f.isMultiDayEvent(i)?(n.isStart||n.isEnd)&&(u=this.getEventTimeText(n),e=this.getEventTimeText(n,"LT"),o=this.getEventTimeText(n,null,!1)):(u=this.getEventTimeText(i),e=this.getEventTimeText(i,"LT"),o=this.getEventTimeText(i,null,!1)),'<a class="'+h.join(" ")+'"'+(i.url?' href="'+r(i.url)+'"':"")+(c?' style="'+c+'"':"")+'><div class="fc-content">'+(u?'<div class="fc-time" data-start="'+r(o)+'" data-full="'+r(e)+'"><span>'+r(u)+"<\/span><\/div>":"")+(i.title?'<div class="fc-title">'+r(i.title)+"<\/div>":"")+'<\/div><div class="fc-bg"/>'+(s?'<div class="fc-resizer fc-end-resizer" />':"")+"<\/a>"},generateSegPositionCss:function(n){var u,f,e=this.view.opt("slotEventOverlap"),i=n.backwardCoord,r=n.forwardCoord,t=this.generateSegVerticalCss(n);return e&&(r=Math.min(1,i+2*(r-i))),this.isRTL?(u=1-r,f=i):(u=i,f=1-r),t.zIndex=n.level+1,t.left=100*u+"%",t.right=100*f+"%",e&&n.forwardPressure&&(t[this.isRTL?"marginLeft":"marginRight"]=20),t},generateSegVerticalCss:function(n){return{top:n.top,bottom:-n.bottom}},groupSegCols:function(n){for(var i=[],t=0;t<this.colCnt;t++)i.push([]);for(t=0;t<n.length;t++)i[n[t].col].push(n[t]);return i}});p=i.View=s.extend({type:null,name:null,title:null,calendar:null,options:null,coordMap:null,el:null,displaying:null,isSkeletonRendered:!1,isEventsRendered:!1,start:null,end:null,intervalStart:null,intervalEnd:null,intervalDuration:null,intervalUnit:null,isRTL:!1,isSelected:!1,scrollerEl:null,scrollTop:null,widgetHeaderClass:null,widgetContentClass:null,highlightStateClass:null,nextDayThreshold:null,isHiddenDayHash:null,documentMousedownProxy:null,constructor:function(n,i,r,u){this.calendar=n;this.type=this.name=i;this.options=r;this.intervalDuration=u||t.duration(1,"day");this.nextDayThreshold=t.duration(this.opt("nextDayThreshold"));this.initThemingProps();this.initHiddenDays();this.isRTL=this.opt("isRTL");this.documentMousedownProxy=h(this,"documentMousedown");this.initialize()},initialize:function(){},opt:function(n){return this.options[n]},trigger:function(n,t){var i=this.calendar;return i.trigger.apply(i,[n,t||this].concat(Array.prototype.slice.call(arguments,2),[this]))},setDate:function(n){this.setRange(this.computeRange(n))},setRange:function(t){n.extend(this,t);this.updateTitle()},computeRange:function(n){var r,u,f=lt(this.intervalDuration),t=n.clone().startOf(f),i=t.clone().add(this.intervalDuration);return/year|month|week|day/.test(f)?(t.stripTime(),i.stripTime()):(t.hasTime()||(t=this.calendar.rezoneDate(t)),i.hasTime()||(i=this.calendar.rezoneDate(i))),r=t.clone(),r=this.skipHiddenDays(r),u=i.clone(),u=this.skipHiddenDays(u,-1,!0),{intervalUnit:f,intervalStart:t,intervalEnd:i,start:r,end:u}},computePrevDate:function(n){return this.massageCurrentDate(n.clone().startOf(this.intervalUnit).subtract(this.intervalDuration),-1)},computeNextDate:function(n){return this.massageCurrentDate(n.clone().startOf(this.intervalUnit).add(this.intervalDuration))},massageCurrentDate:function(n,t){return this.intervalDuration.as("days")<=1&&this.isHiddenDay(n)&&(n=this.skipHiddenDays(n,t),n.startOf("day")),n},updateTitle:function(){this.title=this.computeTitle()},computeTitle:function(){return this.formatRange({start:this.intervalStart,end:this.intervalEnd},this.opt("titleFormat")||this.computeTitleFormat(),this.opt("titleRangeSeparator"))},computeTitleFormat:function(){return"year"==this.intervalUnit?"YYYY":"month"==this.intervalUnit?this.opt("monthYearFormat"):this.intervalDuration.as("days")>1?"ll":"LL"},formatRange:function(n,t,i){var r=n.end;return r.hasTime()||(r=r.clone().subtract(1)),fr(n.start,r,t,i,this.opt("isRTL"))},setElement:function(n){this.el=n;this.bindGlobalHandlers()},removeElement:function(){this.clear();this.isSkeletonRendered&&(this.unrenderSkeleton(),this.isSkeletonRendered=!1);this.unbindGlobalHandlers();this.el.remove()},display:function(t){var i=this,r=null;return this.displaying&&(r=this.queryScroll()),this.clear().then(function(){return i.displaying=n.when(i.displayView(t)).then(function(){i.forceScroll(i.computeInitialScroll(r));i.triggerRender()})})},clear:function(){var t=this,i=this.displaying;return i?i.then(function(){return t.displaying=null,t.clearEvents(),t.clearView()}):n.when()},displayView:function(n){this.isSkeletonRendered||(this.renderSkeleton(),this.isSkeletonRendered=!0);this.setDate(n);this.render&&this.render();this.renderDates();this.updateSize();this.renderBusinessHours()},clearView:function(){this.unselect();this.triggerUnrender();this.unrenderBusinessHours();this.unrenderDates();this.destroy&&this.destroy()},renderSkeleton:function(){},unrenderSkeleton:function(){},renderDates:function(){},unrenderDates:function(){},renderBusinessHours:function(){},unrenderBusinessHours:function(){},triggerRender:function(){this.trigger("viewRender",this,this,this.el)},triggerUnrender:function(){this.trigger("viewDestroy",this,this,this.el)},bindGlobalHandlers:function(){n(document).on("mousedown",this.documentMousedownProxy)},unbindGlobalHandlers:function(){n(document).off("mousedown",this.documentMousedownProxy)},initThemingProps:function(){var n=this.opt("theme")?"ui":"fc";this.widgetHeaderClass=n+"-widget-header";this.widgetContentClass=n+"-widget-content";this.highlightStateClass=n+"-state-highlight"},updateSize:function(n){var t;n&&(t=this.queryScroll());this.updateHeight(n);this.updateWidth(n);n&&this.setScroll(t)},updateWidth:function(){},updateHeight:function(){var n=this.calendar;this.setHeight(n.getSuggestedViewHeight(),n.isHeightAuto())},setHeight:function(){},computeScrollerHeight:function(n){var t,i,r=this.scrollerEl;return t=this.el.add(r),t.css({position:"relative",left:-1}),i=this.el.outerHeight()-r.height(),t.css({position:"",left:""}),n-i},computeInitialScroll:function(){return 0},queryScroll:function(){if(this.scrollerEl)return this.scrollerEl.scrollTop()},setScroll:function(n){if(this.scrollerEl)return this.scrollerEl.scrollTop(n)},forceScroll:function(n){var t=this;this.setScroll(n);setTimeout(function(){t.setScroll(n)},0)},displayEvents:function(n){var t=this.queryScroll();this.clearEvents();this.renderEvents(n);this.isEventsRendered=!0;this.setScroll(t);this.triggerEventRender()},clearEvents:function(){this.isEventsRendered&&(this.triggerEventUnrender(),this.destroyEvents&&this.destroyEvents(),this.unrenderEvents(),this.isEventsRendered=!1)},renderEvents:function(){},unrenderEvents:function(){},triggerEventRender:function(){this.renderedEventSegEach(function(n){this.trigger("eventAfterRender",n.event,n.event,n.el)});this.trigger("eventAfterAllRender")},triggerEventUnrender:function(){this.renderedEventSegEach(function(n){this.trigger("eventDestroy",n.event,n.event,n.el)})},resolveEventEl:function(t,i){var r=this.trigger("eventRender",t,t,i);return r===!1?i=null:r&&r!==!0&&(i=n(r)),i},showEvent:function(n){this.renderedEventSegEach(function(n){n.el.css("visibility","")},n)},hideEvent:function(n){this.renderedEventSegEach(function(n){n.el.css("visibility","hidden")},n)},renderedEventSegEach:function(n,t){for(var r=this.getEventSegs(),i=0;i<r.length;i++)t&&r[i].event._id!==t._id||r[i].el&&n.call(this,r[i])},getEventSegs:function(){return[]},isEventDraggable:function(n){var t=n.source||{};return o(n.startEditable,t.startEditable,this.opt("eventStartEditable"),n.editable,t.editable,this.opt("editable"))},reportEventDrop:function(n,t,i,r,u){var f=this.calendar,e=f.mutateEvent(n,t,i),o=function(){e.undo();f.reportEventChange()};this.triggerEventDrop(n,e.dateDelta,o,r,u);f.reportEventChange()},triggerEventDrop:function(n,t,i,r,u){this.trigger("eventDrop",r[0],n,t,i,u,{})},reportExternalDrop:function(t,i,r,u,f){var e,o,s=t.eventProps;s&&(e=n.extend({},s,i),o=this.calendar.renderEvent(e,t.stick)[0]);this.triggerExternalDrop(o,i,r,u,f)},triggerExternalDrop:function(n,t,i,r,u){this.trigger("drop",i[0],t.start,r,u);n&&this.trigger("eventReceive",null,n)},renderDrag:function(){},unrenderDrag:function(){},isEventResizableFromStart:function(n){return this.opt("eventResizableFromStart")&&this.isEventResizable(n)},isEventResizableFromEnd:function(n){return this.isEventResizable(n)},isEventResizable:function(n){var t=n.source||{};return o(n.durationEditable,t.durationEditable,this.opt("eventDurationEditable"),n.editable,t.editable,this.opt("editable"))},reportEventResize:function(n,t,i,r,u){var f=this.calendar,e=f.mutateEvent(n,t,i),o=function(){e.undo();f.reportEventChange()};this.triggerEventResize(n,e.durationDelta,o,r,u);f.reportEventChange()},triggerEventResize:function(n,t,i,r,u){this.trigger("eventResize",r[0],n,t,i,u,{})},select:function(n,t){this.unselect(t);this.renderSelection(n);this.reportSelection(n,t)},renderSelection:function(){},reportSelection:function(n,t){this.isSelected=!0;this.triggerSelect(n,t)},triggerSelect:function(n,t){this.trigger("select",null,n.start,n.end,t)},unselect:function(n){this.isSelected&&(this.isSelected=!1,this.destroySelection&&this.destroySelection(),this.unrenderSelection(),this.trigger("unselect",null,n))},unrenderSelection:function(){},documentMousedown:function(t){var i;this.isSelected&&this.opt("unselectAuto")&&wi(t)&&(i=this.opt("unselectCancel"),i&&n(t.target).closest(i).length||this.unselect(t))},triggerDayClick:function(n,t,i){this.trigger("dayClick",t,n.start,i)},initHiddenDays:function(){var t,i=this.opt("hiddenDays")||[],r=[],u=0;for(this.opt("weekends")===!1&&i.push(0,6),t=0;7>t;t++)(r[t]=-1!==n.inArray(t,i))||u++;if(!u)throw"invalid hiddenDays";this.isHiddenDayHash=r},isHiddenDay:function(n){return t.isMoment(n)&&(n=n.day()),this.isHiddenDayHash[n]},skipHiddenDays:function(n,t,i){var r=n.clone();for(t=t||1;this.isHiddenDayHash[(r.day()+(i?t:0)+7)%7];)r.add(t,"days");return r},computeDayRange:function(n){var r,u=n.start.clone().stripTime(),i=n.end,t=null;return i&&(t=i.clone().stripTime(),r=+i.time(),r&&r>=this.nextDayThreshold&&t.add(1,"days")),(!i||u>=t)&&(t=u.clone().add(1,"days")),{start:u,end:t}},isMultiDayEvent:function(n){var t=this.computeDayRange(n);return t.end.diff(t.start,"days")>1}});e=i.Calendar=s.extend({dirDefaults:null,langDefaults:null,overrides:null,options:null,viewSpecCache:null,view:null,header:null,loadingLevel:0,constructor:lf,initialize:function(){},initOptions:function(n){var i,t,u,r;n=ru(n);i=n.lang;t=y[i];t||(i=e.defaults.lang,t=y[i]||{});u=o(n.isRTL,t.isRTL,e.defaults.isRTL);r=u?e.rtlDefaults:{};this.dirDefaults=r;this.langDefaults=t;this.overrides=n;this.options=k([e.defaults,r,t,n]);vr(this.options);this.viewSpecCache={}},getViewSpec:function(n){var t=this.viewSpecCache;return t[n]||(t[n]=this.buildViewSpec(n))},getUnitViewSpec:function(t){var r,u,f;if(-1!=n.inArray(t,ui))for(r=this.header.getViewsWithButtons(),n.each(i.views,function(n){r.push(n)}),u=0;u<r.length;u++)if(f=this.getViewSpec(r[u]),f&&f.singleUnit==t)return f},buildViewSpec:function(n){for(var i,f,r,e,s=this.overrides.views||{},h=[],c=[],o=[],u=n;u;)i=a[u],f=s[u],u=null,"function"==typeof i&&(i={"class":i}),i&&(h.unshift(i),c.unshift(i.defaults||{}),r=r||i.duration,u=u||i.type),f&&(o.unshift(f),r=r||f.duration,u=u||f.type);return i=vt(h),i.type=n,i["class"]?(r&&(r=t.duration(r),r.valueOf()&&(i.duration=r,e=lt(r),1===r.as(e)&&(i.singleUnit=e,o.unshift(s[e]||{})))),i.defaults=k(c),i.overrides=k(o),this.buildViewSpecOptions(i),this.buildViewSpecButtonText(i,n),i):!1},buildViewSpecOptions:function(n){n.options=k([e.defaults,n.defaults,this.dirDefaults,this.langDefaults,this.overrides,n.overrides]);vr(n.options)},buildViewSpecButtonText:function(n,t){function i(i){var r=i.buttonText||{};return r[t]||(n.singleUnit?r[n.singleUnit]:null)}n.buttonTextOverride=i(this.overrides)||n.overrides.buttonText;n.buttonTextDefault=i(this.langDefaults)||i(this.dirDefaults)||n.defaults.buttonText||i(e.defaults)||(n.duration?this.humanizeDuration(n.duration):null)||t},instantiateView:function(n){var t=this.getViewSpec(n);return new t["class"](this,n,t.options,t.duration)},isValidViewType:function(n){return Boolean(this.getViewSpec(n))},pushLoading:function(){this.loadingLevel++||this.trigger("loading",null,!0,this.view)},popLoading:function(){--this.loadingLevel||this.trigger("loading",null,!1,this.view)},buildSelectRange:function(n,t){return n=this.moment(n),t=t?this.moment(t):n.hasTime()?n.clone().add(this.defaultTimedEventDuration):n.clone().add(this.defaultAllDayEventDuration),{start:n,end:t}}});e.defaults={titleRangeSeparator:"  ",monthYearFormat:"MMMM YYYY",defaultTimedEventDuration:"02:00:00",defaultAllDayEventDuration:{days:1},forceEventDuration:!1,nextDayThreshold:"09:00:00",defaultView:"month",aspectRatio:1.35,header:{left:"title",center:"",right:"today prev,next"},weekends:!0,weekNumbers:!1,weekNumberTitle:"W",weekNumberCalculation:"local",scrollTime:"06:00:00",lazyFetching:!0,startParam:"start",endParam:"end",timezoneParam:"timezone",timezone:!1,isRTL:!1,buttonText:{prev:"prev",next:"next",prevYear:"prev year",nextYear:"next year",year:"year",today:"today",month:"month",week:"week",day:"day"},buttonIcons:{prev:"left-single-arrow",next:"right-single-arrow",prevYear:"left-double-arrow",nextYear:"right-double-arrow"},theme:!1,themeButtonIcons:{prev:"circle-triangle-w",next:"circle-triangle-e",prevYear:"seek-prev",nextYear:"seek-next"},dragOpacity:.75,dragRevertDuration:500,dragScroll:!0,unselectAuto:!0,dropAccept:"*",eventLimit:!1,eventLimitText:"more",eventLimitClick:"popover",dayPopoverFormat:"LL",handleWindowResize:!0,windowResizeDelay:200};e.englishDefaults={dayPopoverFormat:"dddd, MMMM D"};e.rtlDefaults={header:{left:"next,prev today",center:"",right:"title"},buttonIcons:{prev:"right-single-arrow",next:"left-single-arrow",prevYear:"right-double-arrow",nextYear:"left-double-arrow"},themeButtonIcons:{prev:"circle-triangle-e",next:"circle-triangle-w",nextYear:"seek-prev",prevYear:"seek-next"}};y=i.langs={};i.datepickerLang=function(t,i,r){var u=y[t]||(y[t]={});u.isRTL=r.isRTL;u.weekNumberTitle=r.weekHeader;n.each(ne,function(n,t){u[n]=t(r)});n.datepicker&&(n.datepicker.regional[i]=n.datepicker.regional[t]=r,n.datepicker.regional.en=n.datepicker.regional[""],n.datepicker.setDefaults(r))};i.lang=function(t,i){var r,u;r=y[t]||(y[t]={});i&&(r=y[t]=k([r,i]));u=yr(t);n.each(te,function(n,t){null==r[n]&&(r[n]=t(u,r))});e.defaults.lang=t};var ne={buttonText:function(n){return{prev:pt(n.prevText),next:pt(n.nextText),today:pt(n.currentText)}},monthYearFormat:function(n){return n.showMonthAfterYear?"YYYY["+n.yearSuffix+"] MMMM":"MMMM YYYY["+n.yearSuffix+"]"}},te={dayOfMonthFormat:function(n,t){var i=n.longDateFormat("l");return i=i.replace(/^Y+[^\w\s]*|[^\w\s]*Y+$/g,""),t.isRTL?i+=" ddd":i="ddd "+i,i},mediumTimeFormat:function(n){return n.longDateFormat("LT").replace(/\s*a$/i,"a")},smallTimeFormat:function(n){return n.longDateFormat("LT").replace(":mm","(:mm)").replace(/(\Wmm)$/,"($1)").replace(/\s*a$/i,"a")},extraSmallTimeFormat:function(n){return n.longDateFormat("LT").replace(":mm","(:mm)").replace(/(\Wmm)$/,"($1)").replace(/\s*a$/i,"t")},hourFormat:function(n){return n.longDateFormat("LT").replace(":mm","").replace(/(\Wmm)$/,"").replace(/\s*a$/i,"a")},noMeridiemTimeFormat:function(n){return n.longDateFormat("LT").replace(/\s*a$/i,"")}},ie={smallDayDateFormat:function(n){return n.isRTL?"D dd":"dd D"},weekFormat:function(n){return n.isRTL?"w[ "+n.weekNumberTitle+"]":"["+n.weekNumberTitle+" ]w"},smallWeekFormat:function(n){return n.isRTL?"w["+n.weekNumberTitle+"]":"["+n.weekNumberTitle+"]w"}};return i.lang("en",e.englishDefaults),i.sourceNormalizers=[],i.sourceFetchers=[],dr={dataType:"json",cache:!1},gr=1,e.prototype.getPeerEvents=function(n){for(var i,r=this.getEventCache(),u=[],t=0;t<r.length;t++)i=r[t],n&&n._id===i._id||u.push(i);return u},st=p.extend({dayGrid:null,dayNumbersVisible:!1,weekNumbersVisible:!1,weekNumberWidth:null,headRowEl:null,initialize:function(){this.dayGrid=new g(this);this.coordMap=this.dayGrid.coordMap},setRange:function(n){p.prototype.setRange.call(this,n);this.dayGrid.breakOnWeeks=/year|month|week/.test(this.intervalUnit);this.dayGrid.setRange(n)},computeRange:function(n){var t=p.prototype.computeRange.call(this,n);return/year|month/.test(t.intervalUnit)&&(t.start.startOf("week"),t.start=this.skipHiddenDays(t.start),t.end.weekday()&&(t.end.add(1,"week").startOf("week"),t.end=this.skipHiddenDays(t.end,-1,!0))),t},renderDates:function(){this.dayNumbersVisible=this.dayGrid.rowCnt>1;this.weekNumbersVisible=this.opt("weekNumbers");this.dayGrid.numbersVisible=this.dayNumbersVisible||this.weekNumbersVisible;this.el.addClass("fc-basic-view").html(this.renderHtml());this.headRowEl=this.el.find("thead .fc-row");this.scrollerEl=this.el.find(".fc-day-grid-container");this.dayGrid.coordMap.containerEl=this.scrollerEl;this.dayGrid.setElement(this.el.find(".fc-day-grid"));this.dayGrid.renderDates(this.hasRigidRows())},unrenderDates:function(){this.dayGrid.unrenderDates();this.dayGrid.removeElement()},renderBusinessHours:function(){this.dayGrid.renderBusinessHours()},renderHtml:function(){return'<table><thead class="fc-head"><tr><td class="'+this.widgetHeaderClass+'">'+this.dayGrid.headHtml()+'<\/td><\/tr><\/thead><tbody class="fc-body"><tr><td class="'+this.widgetContentClass+'"><div class="fc-day-grid-container"><div class="fc-day-grid"/><\/div><\/td><\/tr><\/tbody><\/table>'},headIntroHtml:function(){if(this.weekNumbersVisible)return'<th class="fc-week-number '+this.widgetHeaderClass+'" '+this.weekNumberStyleAttr()+"><span>"+r(this.opt("weekNumberTitle"))+"<\/span><\/th>"},numberIntroHtml:function(n){if(this.weekNumbersVisible)return'<td class="fc-week-number" '+this.weekNumberStyleAttr()+"><span>"+this.dayGrid.getCell(n,0).start.format("w")+"<\/span><\/td>"},dayIntroHtml:function(){if(this.weekNumbersVisible)return'<td class="fc-week-number '+this.widgetContentClass+'" '+this.weekNumberStyleAttr()+"><\/td>"},introHtml:function(){if(this.weekNumbersVisible)return'<td class="fc-week-number" '+this.weekNumberStyleAttr()+"><\/td>"},numberCellHtml:function(n){var t,i=n.start;return this.dayNumbersVisible?(t=this.dayGrid.getDayClasses(i),t.unshift("fc-day-number"),'<td class="'+t.join(" ")+'" data-date="'+i.format()+'">'+i.date()+"<\/td>"):"<td/>"},weekNumberStyleAttr:function(){return null!==this.weekNumberWidth?'style="width:'+this.weekNumberWidth+'px"':""},hasRigidRows:function(){var n=this.opt("eventLimit");return n&&"number"!=typeof n},updateWidth:function(){this.weekNumbersVisible&&(this.weekNumberWidth=li(this.el.find(".fc-week-number")))},setHeight:function(n,t){var r,i=this.opt("eventLimit");ht(this.scrollerEl);si(this.headRowEl);this.dayGrid.removeSegPopover();i&&"number"==typeof i&&this.dayGrid.limitRows(i);r=this.computeScrollerHeight(n);this.setGridHeight(r,t);i&&"number"!=typeof i&&this.dayGrid.limitRows(i);!t&&ai(this.scrollerEl,r)&&(oi(this.headRowEl,tt(this.scrollerEl)),r=this.computeScrollerHeight(n),this.scrollerEl.height(r))},setGridHeight:function(n,t){t?ci(this.dayGrid.rowEls):hi(this.dayGrid.rowEls,n,!0)},renderEvents:function(n){this.dayGrid.renderEvents(n);this.updateHeight()},getEventSegs:function(){return this.dayGrid.getEventSegs()},unrenderEvents:function(){this.dayGrid.unrenderEvents()},renderDrag:function(n,t){return this.dayGrid.renderDrag(n,t)},unrenderDrag:function(){this.dayGrid.unrenderDrag()},renderSelection:function(n){this.dayGrid.renderSelection(n)},unrenderSelection:function(){this.dayGrid.unrenderSelection()}}),nu=st.extend({computeRange:function(n){var i,t=st.prototype.computeRange.call(this,n);return this.isFixedWeeks()&&(i=Math.ceil(t.end.diff(t.start,"weeks",!0)),t.end.add(6-i,"weeks")),t},setGridHeight:function(n,t){t=t||"variable"===this.opt("weekMode");t&&(n*=this.rowCnt/6);hi(this.dayGrid.rowEls,n,!t)},isFixedWeeks:function(){var n=this.opt("weekMode");return n?"fixed"===n:this.opt("fixedWeekCount")}}),a.basic={"class":st},a.basicDay={type:"basic",duration:{days:1}},a.basicWeek={type:"basic",duration:{weeks:1}},a.month={"class":nu,duration:{months:1},defaults:{fixedWeekCount:!0}},tu=p.extend({timeGrid:null,dayGrid:null,axisWidth:null,noScrollRowEls:null,bottomRuleEl:null,bottomRuleHeight:null,initialize:function(){this.timeGrid=new ei(this);this.opt("allDaySlot")?(this.dayGrid=new g(this),this.coordMap=new df([this.dayGrid.coordMap,this.timeGrid.coordMap])):this.coordMap=this.timeGrid.coordMap},setRange:function(n){p.prototype.setRange.call(this,n);this.timeGrid.setRange(n);this.dayGrid&&this.dayGrid.setRange(n)},renderDates:function(){this.el.addClass("fc-agenda-view").html(this.renderHtml());this.scrollerEl=this.el.find(".fc-time-grid-container");this.timeGrid.coordMap.containerEl=this.scrollerEl;this.timeGrid.setElement(this.el.find(".fc-time-grid"));this.timeGrid.renderDates();this.bottomRuleEl=n('<hr class="fc-divider '+this.widgetHeaderClass+'"/>').appendTo(this.timeGrid.el);this.dayGrid&&(this.dayGrid.setElement(this.el.find(".fc-day-grid")),this.dayGrid.renderDates(),this.dayGrid.bottomCoordPadding=this.dayGrid.el.next("hr").outerHeight());this.noScrollRowEls=this.el.find(".fc-row:not(.fc-scroller *)")},unrenderDates:function(){this.timeGrid.unrenderDates();this.timeGrid.removeElement();this.dayGrid&&(this.dayGrid.unrenderDates(),this.dayGrid.removeElement())},renderBusinessHours:function(){this.timeGrid.renderBusinessHours();this.dayGrid&&this.dayGrid.renderBusinessHours()},renderHtml:function(){return'<table><thead class="fc-head"><tr><td class="'+this.widgetHeaderClass+'">'+this.timeGrid.headHtml()+'<\/td><\/tr><\/thead><tbody class="fc-body"><tr><td class="'+this.widgetContentClass+'">'+(this.dayGrid?'<div class="fc-day-grid"/><hr class="fc-divider '+this.widgetHeaderClass+'"/>':"")+'<div class="fc-time-grid-container"><div class="fc-time-grid"/><\/div><\/td><\/tr><\/tbody><\/table>'},headIntroHtml:function(){var n,t;return this.opt("weekNumbers")?(n=this.timeGrid.getCell(0).start,t=n.format(this.opt("smallWeekFormat")),'<th class="fc-axis fc-week-number '+this.widgetHeaderClass+'" '+this.axisStyleAttr()+"><span>"+r(t)+"<\/span><\/th>"):'<th class="fc-axis '+this.widgetHeaderClass+'" '+this.axisStyleAttr()+"><\/th>"},dayIntroHtml:function(){return'<td class="fc-axis '+this.widgetContentClass+'" '+this.axisStyleAttr()+"><span>"+(this.opt("allDayHtml")||r(this.opt("allDayText")))+"<\/span><\/td>"},slotBgIntroHtml:function(){return'<td class="fc-axis '+this.widgetContentClass+'" '+this.axisStyleAttr()+"><\/td>"},introHtml:function(){return'<td class="fc-axis" '+this.axisStyleAttr()+"><\/td>"},axisStyleAttr:function(){return null!==this.axisWidth?'style="width:'+this.axisWidth+'px"':""},updateSize:function(n){this.timeGrid.updateSize(n);p.prototype.updateSize.call(this,n)},updateWidth:function(){this.axisWidth=li(this.el.find(".fc-axis"))},setHeight:function(n,t){var i,r;null===this.bottomRuleHeight&&(this.bottomRuleHeight=this.bottomRuleEl.outerHeight());this.bottomRuleEl.hide();this.scrollerEl.css("overflow","");ht(this.scrollerEl);si(this.noScrollRowEls);this.dayGrid&&(this.dayGrid.removeSegPopover(),i=this.opt("eventLimit"),i&&"number"!=typeof i&&(i=iu),i&&this.dayGrid.limitRows(i));t||(r=this.computeScrollerHeight(n),ai(this.scrollerEl,r)?(oi(this.noScrollRowEls,tt(this.scrollerEl)),r=this.computeScrollerHeight(n),this.scrollerEl.height(r)):(this.scrollerEl.height(r).css("overflow","hidden"),this.bottomRuleEl.show()))},computeInitialScroll:function(){var i=t.duration(this.opt("scrollTime")),n=this.timeGrid.computeTimeTop(i);return n=Math.ceil(n),n&&n++,n},renderEvents:function(n){for(var u,i=[],r=[],f=[],t=0;t<n.length;t++)n[t].allDay?i.push(n[t]):r.push(n[t]);u=this.timeGrid.renderEvents(r);this.dayGrid&&(f=this.dayGrid.renderEvents(i));this.updateHeight()},getEventSegs:function(){return this.timeGrid.getEventSegs().concat(this.dayGrid?this.dayGrid.getEventSegs():[])},unrenderEvents:function(){this.timeGrid.unrenderEvents();this.dayGrid&&this.dayGrid.unrenderEvents()},renderDrag:function(n,t){return n.start.hasTime()?this.timeGrid.renderDrag(n,t):this.dayGrid?this.dayGrid.renderDrag(n,t):void 0},unrenderDrag:function(){this.timeGrid.unrenderDrag();this.dayGrid&&this.dayGrid.unrenderDrag()},renderSelection:function(n){n.start.hasTime()||n.end.hasTime()?this.timeGrid.renderSelection(n):this.dayGrid&&this.dayGrid.renderSelection(n)},unrenderSelection:function(){this.timeGrid.unrenderSelection();this.dayGrid&&this.dayGrid.unrenderSelection()}}),iu=5,a.agenda={"class":tu,defaults:{allDaySlot:!0,allDayText:"all-day",slotDuration:"00:30:00",minTime:"00:00:00",maxTime:"24:00:00",slotEventOverlap:!0}},a.agendaDay={type:"agenda",duration:{days:1}},a.agendaWeek={type:"agenda",duration:{weeks:1}},i});!function(n){"function"==typeof define&&define.amd?define(["jquery"],n):"object"==typeof exports?module.exports=n(require("jquery")):n(jQuery)}(function(n){function i(t,i,e,o,s){function c(i,r){var f=r||[{message:i}],u=window.console,e=u?u.warn||u.log:null;(t.googleCalendarError||n.noop).apply(s,f);(s.options.googleCalendarError||n.noop).apply(s,f);e&&e.apply(u,[i].concat(r||[]))}var l,h,v=u+"/"+encodeURIComponent(t.googleCalendarId)+"/events?callback=?",a=t.googleCalendarApiKey||s.options.googleCalendarApiKey,y=t.success;return a?(i.hasZone()||(i=i.clone().utc().add(-1,"day")),e.hasZone()||(e=e.clone().utc().add(1,"day")),o&&"local"!=o&&(h=o.replace(" ","_")),l=n.extend({},t.data||{},{key:a,timeMin:i.format(),timeMax:e.format(),timeZone:h,singleEvents:!0,maxResults:9999}),n.extend({},t,{googleCalendarId:null,url:v,data:l,startParam:!1,endParam:!1,timezoneParam:!1,success:function(t){var e,i,u=[];if(t.error)c("Google Calendar API: "+t.error.message,t.error.errors);else if(t.items&&(n.each(t.items,function(n,t){var i=t.htmlLink;h&&(i=r(i,"ctz="+h));u.push({id:t.id,title:t.summary,start:t.start.dateTime||t.start.date,end:t.end.dateTime||t.end.date,url:i,location:t.location,description:t.description})}),e=[u].concat(Array.prototype.slice.call(arguments,1)),i=f(y,this,e),n.isArray(i)))return i;return u}})):(c("Specify a googleCalendarApiKey. See http://fullcalendar.io/docs/google_calendar/"),{})}function r(n,t){return n.replace(/(\?.*?)?(#|$)/,function(n,i,r){return(i?i+"&":"?")+t+r})}var u="https://www.googleapis.com/calendar/v3/calendars",t=n.fullCalendar,f=t.applyAll;t.sourceNormalizers.push(function(n){var r,t=n.googleCalendarId,i=n.url;!t&&i&&(/^[^\/]+@([^\/\.]+\.)*(google|googlemail|gmail)\.com$/.test(i)?t=i:((r=/^https:\/\/www.googleapis.com\/calendar\/v3\/calendars\/([^\/]*)/.exec(i))||(r=/^https?:\/\/www.google.com\/calendar\/feeds\/([^\/]*)/.exec(i)))&&(t=decodeURIComponent(r[1])),t&&(n.googleCalendarId=t));t&&(null==n.editable&&(n.editable=!1),n.url=t)});t.sourceFetchers.push(function(n,t,r,u){if(n.googleCalendarId)return i(n,t,r,u,this)})});!function(n){return n.easyPieChart=function(t,i){var s,u,f,h,e,o,c,l,r=this;return this.el=t,this.$el=n(t),this.$el.data("easyPieChart",this),this.init=function(){var u,t;return r.options=n.extend({},n.easyPieChart.defaultOptions,i),u=parseInt(r.$el.data("percent"),10),r.percentage=0,r.canvas=n("<canvas width='"+r.options.size+"' height='"+r.options.size+"'><\/canvas>").get(0),r.$el.append(r.canvas),"undefined"!=typeof G_vmlCanvasManager&&null!==G_vmlCanvasManager&&G_vmlCanvasManager.initElement(r.canvas),r.ctx=r.canvas.getContext("2d"),window.devicePixelRatio>1&&(t=window.devicePixelRatio,n(r.canvas).css({width:r.options.size,height:r.options.size}),r.canvas.width*=t,r.canvas.height*=t,r.ctx.scale(t,t)),r.ctx.translate(r.options.size/2,r.options.size/2),r.ctx.rotate(r.options.rotate*Math.PI/180),r.$el.addClass("easyPieChart"),r.$el.css({width:r.options.size,height:r.options.size,lineHeight:""+r.options.size+"px"}),r.update(u),r},this.update=function(n){return n=parseFloat(n)||0,r.options.animate===!1?f(n):r.options.delay?(u(r.percentage,0),setTimeout(function(){return u(r.percentage,n)},r.options.delay)):u(r.percentage,n),r},c=function(){var n,t,i;for(r.ctx.fillStyle=r.options.scaleColor,r.ctx.lineWidth=1,i=[],n=t=0;24>=t;n=++t)i.push(s(n));return i},s=function(n){var t;t=0==n%6?0:.017*r.options.size;r.ctx.save();r.ctx.rotate(n*Math.PI/12);r.ctx.fillRect(r.options.size/2-t,0,.05*-r.options.size+t,1);r.ctx.restore()},l=function(){var n;n=r.options.size/2-r.options.lineWidth/2;r.options.scaleColor!==!1&&(n-=.08*r.options.size);r.ctx.beginPath();r.ctx.arc(0,0,n,0,2*Math.PI,!0);r.ctx.closePath();r.ctx.strokeStyle=r.options.trackColor;r.ctx.lineWidth=r.options.lineWidth;r.ctx.stroke()},o=function(){r.options.scaleColor!==!1&&c();r.options.trackColor!==!1&&l()},f=function(t){var i;o();r.ctx.strokeStyle=n.isFunction(r.options.barColor)?r.options.barColor(t):r.options.barColor;r.ctx.lineCap=r.options.lineCap;r.ctx.lineWidth=r.options.lineWidth;i=r.options.size/2-r.options.lineWidth/2;r.options.scaleColor!==!1&&(i-=.08*r.options.size);r.ctx.save();r.ctx.rotate(-Math.PI/2);r.ctx.beginPath();r.ctx.arc(0,0,i,0,2*Math.PI*t/100,!1);r.ctx.stroke();r.ctx.restore()},e=function(){return window.requestAnimationFrame||window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame||function(n){return window.setTimeout(n,1e3/60)}}(),u=function(n,t){var i,u;r.options.onStart.call(r);r.percentage=t;Date.now||(Date.now=function(){return+new Date});u=Date.now();i=function(){var s,c;return c=Math.min(Date.now()-u,r.options.animate),r.ctx.clearRect(-r.options.size/2,-r.options.size/2,r.options.size,r.options.size),o.call(r),s=[h(c,n,t-n,r.options.animate)],r.options.onStep.call(r,s),f.call(r,s),c>=r.options.animate?r.options.onStop.call(r,s,t):e(i)};e(i)},h=function(n,t,i,r){var u,f;return u=function(n){return Math.pow(n,2)},f=function(n){return 1>n?u(n):2-u(-1*n+2)},n/=r/2,i/2*f(n)+t},this.init()},n.easyPieChart.defaultOptions={barColor:"#ef1e25",trackColor:"#f2f2f2",scaleColor:"#dfe0e0",lineCap:"round",rotate:0,size:110,lineWidth:3,animate:!1,delay:!1,onStart:n.noop,onStop:n.noop,onStep:n.noop},n.fn.easyPieChart=function(t){return n.each(this,function(i,r){var u,f;return u=n(r),u.data("easyPieChart")?void 0:(f=n.extend({},t,u.data()),u.data("easyPieChart",new n.easyPieChart(r,f)))})},void 0}(jQuery),function(n){n.color={};n.color.make=function(t,i,r,u){var f={};return f.r=t||0,f.g=i||0,f.b=r||0,f.a=u!=null?u:1,f.add=function(n,t){for(var i=0;i<n.length;++i)f[n.charAt(i)]+=t;return f.normalize()},f.scale=function(n,t){for(var i=0;i<n.length;++i)f[n.charAt(i)]*=t;return f.normalize()},f.toString=function(){return f.a>=1?"rgb("+[f.r,f.g,f.b].join(",")+")":"rgba("+[f.r,f.g,f.b,f.a].join(",")+")"},f.normalize=function(){function n(n,t,i){return t<n?n:t>i?i:t}return f.r=n(0,parseInt(f.r),255),f.g=n(0,parseInt(f.g),255),f.b=n(0,parseInt(f.b),255),f.a=n(0,f.a,1),f},f.clone=function(){return n.color.make(f.r,f.b,f.g,f.a)},f.normalize()};n.color.extract=function(t,i){var r;do{if(r=t.css(i).toLowerCase(),r!=""&&r!="transparent")break;t=t.parent()}while(t.length&&!n.nodeName(t.get(0),"body"));return r=="rgba(0, 0, 0, 0)"&&(r="transparent"),n.color.parse(r)};n.color.parse=function(i){var r,u=n.color.make,f;return(r=/rgb\(\s*([0-9]{1,3})\s*,\s*([0-9]{1,3})\s*,\s*([0-9]{1,3})\s*\)/.exec(i))?u(parseInt(r[1],10),parseInt(r[2],10),parseInt(r[3],10)):(r=/rgba\(\s*([0-9]{1,3})\s*,\s*([0-9]{1,3})\s*,\s*([0-9]{1,3})\s*,\s*([0-9]+(?:\.[0-9]+)?)\s*\)/.exec(i))?u(parseInt(r[1],10),parseInt(r[2],10),parseInt(r[3],10),parseFloat(r[4])):(r=/rgb\(\s*([0-9]+(?:\.[0-9]+)?)\%\s*,\s*([0-9]+(?:\.[0-9]+)?)\%\s*,\s*([0-9]+(?:\.[0-9]+)?)\%\s*\)/.exec(i))?u(parseFloat(r[1])*2.55,parseFloat(r[2])*2.55,parseFloat(r[3])*2.55):(r=/rgba\(\s*([0-9]+(?:\.[0-9]+)?)\%\s*,\s*([0-9]+(?:\.[0-9]+)?)\%\s*,\s*([0-9]+(?:\.[0-9]+)?)\%\s*,\s*([0-9]+(?:\.[0-9]+)?)\s*\)/.exec(i))?u(parseFloat(r[1])*2.55,parseFloat(r[2])*2.55,parseFloat(r[3])*2.55,parseFloat(r[4])):(r=/#([a-fA-F0-9]{2})([a-fA-F0-9]{2})([a-fA-F0-9]{2})/.exec(i))?u(parseInt(r[1],16),parseInt(r[2],16),parseInt(r[3],16)):(r=/#([a-fA-F0-9])([a-fA-F0-9])([a-fA-F0-9])/.exec(i))?u(parseInt(r[1]+r[1],16),parseInt(r[2]+r[2],16),parseInt(r[3]+r[3],16)):(f=n.trim(i).toLowerCase(),f=="transparent"?u(255,255,255,0):(r=t[f]||[0,0,0],u(r[0],r[1],r[2])))};var t={aqua:[0,255,255],azure:[240,255,255],beige:[245,245,220],black:[0,0,0],blue:[0,0,255],brown:[165,42,42],cyan:[0,255,255],darkblue:[0,0,139],darkcyan:[0,139,139],darkgrey:[169,169,169],darkgreen:[0,100,0],darkkhaki:[189,183,107],darkmagenta:[139,0,139],darkolivegreen:[85,107,47],darkorange:[255,140,0],darkorchid:[153,50,204],darkred:[139,0,0],darksalmon:[233,150,122],darkviolet:[148,0,211],fuchsia:[255,0,255],gold:[255,215,0],green:[0,128,0],indigo:[75,0,130],khaki:[240,230,140],lightblue:[173,216,230],lightcyan:[224,255,255],lightgreen:[144,238,144],lightgrey:[211,211,211],lightpink:[255,182,193],lightyellow:[255,255,224],lime:[0,255,0],magenta:[255,0,255],maroon:[128,0,0],navy:[0,0,128],olive:[128,128,0],orange:[255,165,0],pink:[255,192,203],purple:[128,0,128],violet:[128,0,128],red:[255,0,0],silver:[192,192,192],white:[255,255,255],yellow:[255,255,0]}}(jQuery),function(n){function t(t,i){var r=i.children("."+t)[0];if(r==null&&(r=document.createElement("canvas"),r.className=t,n(r).css({direction:"ltr",position:"absolute",left:0,top:0}).appendTo(i),!r.getContext))if(window.G_vmlCanvasManager)r=window.G_vmlCanvasManager.initElement(r);else throw new Error("Canvas is not available. If you're using IE with a fall-back such as Excanvas, then there's either a mistake in your conditional include, or the page has no DOCTYPE and is rendering in Quirks Mode.");this.element=r;var u=this.context=r.getContext("2d"),f=window.devicePixelRatio||1,e=u.webkitBackingStorePixelRatio||u.mozBackingStorePixelRatio||u.msBackingStorePixelRatio||u.oBackingStorePixelRatio||u.backingStorePixelRatio||1;this.pixelRatio=f/e;this.resize(i.width(),i.height());this.textContainer=null;this.text={};this._textCache={}}function r(i,r,f,e){function nt(n,t){t=[l].concat(t);for(var i=0;i<n.length;++i)n[i].apply(this,t)}function ui(){for(var u={Canvas:t},r,i=0;i<e.length;++i)r=e[i],r.init(l,u),r.options&&n.extend(!0,o,r.options)}function fi(t){var f;n.extend(!0,o,t);t&&t.colors&&(o.colors=t.colors);o.xaxis.color==null&&(o.xaxis.color=n.color.parse(o.grid.color).scale("a",.22).toString());o.yaxis.color==null&&(o.yaxis.color=n.color.parse(o.grid.color).scale("a",.22).toString());o.xaxis.tickColor==null&&(o.xaxis.tickColor=o.grid.tickColor||o.xaxis.color);o.yaxis.tickColor==null&&(o.yaxis.tickColor=o.grid.tickColor||o.yaxis.color);o.grid.borderColor==null&&(o.grid.borderColor=o.grid.color);o.grid.tickColor==null&&(o.grid.tickColor=n.color.parse(o.grid.color).scale("a",.22).toString());for(var r,s=i.css("font-size"),c=s?+s.replace("px",""):13,h={style:i.css("font-style"),size:Math.round(.8*c),variant:i.css("font-variant"),weight:i.css("font-weight"),family:i.css("font-family")},e=o.xaxes.length||1,u=0;u<e;++u)r=o.xaxes[u],r&&!r.tickColor&&(r.tickColor=r.color),r=n.extend(!0,{},o.xaxis,r),o.xaxes[u]=r,r.font&&(r.font=n.extend({},h,r.font),r.font.color||(r.font.color=r.color),r.font.lineHeight||(r.font.lineHeight=Math.round(r.font.size*1.15)));for(e=o.yaxes.length||1,u=0;u<e;++u)r=o.yaxes[u],r&&!r.tickColor&&(r.tickColor=r.color),r=n.extend(!0,{},o.yaxis,r),o.yaxes[u]=r,r.font&&(r.font=n.extend({},h,r.font),r.font.color||(r.font.color=r.color),r.font.lineHeight||(r.font.lineHeight=Math.round(r.font.size*1.15)));for(o.xaxis.noTicks&&o.xaxis.ticks==null&&(o.xaxis.ticks=o.xaxis.noTicks),o.yaxis.noTicks&&o.yaxis.ticks==null&&(o.yaxis.ticks=o.yaxis.noTicks),o.x2axis&&(o.xaxes[1]=n.extend(!0,{},o.xaxis,o.x2axis),o.xaxes[1].position="top",o.x2axis.min==null&&(o.xaxes[1].min=null),o.x2axis.max==null&&(o.xaxes[1].max=null)),o.y2axis&&(o.yaxes[1]=n.extend(!0,{},o.yaxis,o.y2axis),o.yaxes[1].position="right",o.y2axis.min==null&&(o.yaxes[1].min=null),o.y2axis.max==null&&(o.yaxes[1].max=null)),o.grid.coloredAreas&&(o.grid.markings=o.grid.coloredAreas),o.grid.coloredAreasColor&&(o.grid.markingsColor=o.grid.coloredAreasColor),o.lines&&n.extend(!0,o.series.lines,o.lines),o.points&&n.extend(!0,o.series.points,o.points),o.bars&&n.extend(!0,o.series.bars,o.bars),o.shadowSize!=null&&(o.series.shadowSize=o.shadowSize),o.highlightColor!=null&&(o.series.highlightColor=o.highlightColor),u=0;u<o.xaxes.length;++u)et(y,u+1).options=o.xaxes[u];for(u=0;u<o.yaxes.length;++u)et(w,u+1).options=o.yaxes[u];for(f in p)o.hooks[f]&&o.hooks[f].length&&(p[f]=p[f].concat(o.hooks[f]));nt(p.processOptions,[o])}function ht(n){c=ei(n);si();hi()}function ei(t){for(var u=[],r,i=0;i<t.length;++i)r=n.extend(!0,{},o.series),t[i].data!=null?(r.data=t[i].data,delete t[i].data,n.extend(!0,r,t[i]),t[i].data=r.data):r.data=t[i],u.push(r);return u}function ft(n,t){var i=n[t+"axis"];return typeof i=="object"&&(i=i.n),typeof i!="number"&&(i=1),i}function it(){return n.grep(y.concat(w),function(n){return n})}function ct(n){for(var i={},t,r=0;r<y.length;++r)t=y[r],t&&t.used&&(i["x"+t.n]=t.c2p(n.left));for(r=0;r<w.length;++r)t=w[r],t&&t.used&&(i["y"+t.n]=t.c2p(n.top));return i.x1!==undefined&&(i.x=i.x1),i.y1!==undefined&&(i.y=i.y1),i}function oi(n){for(var u={},t,i,r=0;r<y.length;++r)if(t=y[r],t&&t.used&&(i="x"+t.n,n[i]==null&&t.n==1&&(i="x"),n[i]!=null)){u.left=t.p2c(n[i]);break}for(r=0;r<w.length;++r)if(t=w[r],t&&t.used&&(i="y"+t.n,n[i]==null&&t.n==1&&(i="y"),n[i]!=null)){u.top=t.p2c(n[i]);break}return u}function et(t,i){return t[i-1]||(t[i-1]={n:i,direction:t==y?"x":"y",options:n.extend(!0,{},t==y?o.xaxis:o.yaxis)}),t[i-1]}function si(){for(var f=c.length,e=-1,u,h,t,l,a,i=0;i<c.length;++i)u=c[i].color,u!=null&&(f--,typeof u=="number"&&u>e&&(e=u));f<=e&&(f=e+1);var v,s=[],p=o.colors,b=p.length,r=0;for(i=0;i<f;i++)v=n.color.parse(p[i%b]||"#666"),i%b==0&&i&&(r=r>=0?r<.5?-r-.2:0:-r),s[i]=v.scale("rgb",1+r);for(h=0,i=0;i<c.length;++i){if(t=c[i],t.color==null?(t.color=s[h].toString(),++h):typeof t.color=="number"&&(t.color=s[t.color].toString()),t.lines.show==null){a=!0;for(l in t)if(t[l]&&t[l].show){a=!1;break}a&&(t.lines.show=!0)}t.lines.zero==null&&(t.lines.zero=!!t.lines.fill);t.xaxis=et(y,ft(t,"x"));t.yaxis=et(w,ft(t,"y"))}}function hi(){function b(n,t,i){t<n.datamin&&t!=-v&&(n.datamin=t);i>n.datamax&&i!=v&&(n.datamax=i)}var y=Number.POSITIVE_INFINITY,w=Number.NEGATIVE_INFINITY,v=Number.MAX_VALUE,f,l,e,r,t,u,h,i,s,ut,ft,o,et,ot,k,a;for(n.each(it(),function(n,t){t.datamin=y;t.datamax=w;t.used=!1}),f=0;f<c.length;++f)t=c[f],t.datapoints={points:[]},nt(p.processRawData,[t,t.data,t.datapoints]);for(f=0;f<c.length;++f)if(t=c[f],ft=t.data,o=t.datapoints.format,o||(o=[],o.push({x:!0,number:!0,required:!0}),o.push({y:!0,number:!0,required:!0}),(t.bars.show||t.lines.show&&t.lines.fill)&&(et=!!(t.bars.show&&t.bars.zero||t.lines.show&&t.lines.zero),o.push({y:!0,number:!0,required:!1,defaultValue:0,autoscale:et}),t.bars.horizontal&&(delete o[o.length-1].y,o[o.length-1].x=!0)),t.datapoints.format=o),t.datapoints.pointsize==null)for(t.datapoints.pointsize=o.length,h=t.datapoints.pointsize,u=t.datapoints.points,ot=t.lines.show&&t.lines.steps,t.xaxis.used=t.yaxis.used=!0,l=e=0;l<ft.length;++l,e+=h){if(ut=ft[l],k=ut==null,!k)for(r=0;r<h;++r)i=ut[r],s=o[r],s&&(s.number&&i!=null&&(i=+i,isNaN(i)?i=null:i==Infinity?i=v:i==-Infinity&&(i=-v)),i==null&&(s.required&&(k=!0),s.defaultValue!=null&&(i=s.defaultValue))),u[e+r]=i;if(k)for(r=0;r<h;++r)i=u[e+r],i!=null&&(s=o[r],s.autoscale!==!1&&(s.x&&b(t.xaxis,i,i),s.y&&b(t.yaxis,i,i))),u[e+r]=null;else if(ot&&e>0&&u[e-h]!=null&&u[e-h]!=u[e]&&u[e-h+1]!=u[e+1]){for(r=0;r<h;++r)u[e+h+r]=u[e+r];u[e+1]=u[e-h+1];e+=h}}for(f=0;f<c.length;++f)t=c[f],nt(p.processDatapoints,[t,t.datapoints]);for(f=0;f<c.length;++f){t=c[f];u=t.datapoints.points;h=t.datapoints.pointsize;o=t.datapoints.format;var d=y,g=y,tt=w,rt=w;for(l=0;l<u.length;l+=h)if(u[l]!=null)for(r=0;r<h;++r)(i=u[l+r],s=o[r],s&&s.autoscale!==!1&&i!=v&&i!=-v)&&(s.x&&(i<d&&(d=i),i>tt&&(tt=i)),s.y&&(i<g&&(g=i),i>rt&&(rt=i)));if(t.bars.show){switch(t.bars.align){case"left":a=0;break;case"right":a=-t.bars.barWidth;break;default:a=-t.bars.barWidth/2}t.bars.horizontal?(g+=a,rt+=a+t.bars.barWidth):(d+=a,tt+=a+t.bars.barWidth)}b(t.xaxis,d,tt);b(t.yaxis,g,rt)}n.each(it(),function(n,t){t.datamin==y&&(t.datamin=null);t.datamax==w&&(t.datamax=null)})}function ci(){i.css("padding",0).children().filter(function(){return!n(this).hasClass("flot-overlay")&&!n(this).hasClass("flot-base")}).remove();i.css("position")=="static"&&i.css("position","relative");a=new t("flot-base",i);tt=new t("flot-overlay",i);s=a.context;v=tt.context;k=n(tt.element).unbind();var r=i.data("plot");r&&(r.shutdown(),tt.clear());i.data("plot",l)}function li(){o.grid.hoverable&&(k.mousemove(bt),k.bind("mouseleave",kt));o.grid.clickable&&k.click(dt);nt(p.bindEvents,[k])}function lt(){rt&&clearTimeout(rt);k.unbind("mousemove",bt);k.unbind("mouseleave",kt);k.unbind("click",dt);nt(p.shutdown,[k])}function ai(n){function u(n){return n}var i,r,t=n.options.transform||u,f=n.options.inverseTransform;n.direction=="x"?(i=n.scale=d/Math.abs(t(n.max)-t(n.min)),r=Math.min(t(n.max),t(n.min))):(i=n.scale=b/Math.abs(t(n.max)-t(n.min)),i=-i,r=Math.max(t(n.max),t(n.min)));n.p2c=t==u?function(n){return(n-r)*i}:function(n){return(t(n)-r)*i};n.c2p=f?function(n){return f(r+n/i)}:function(n){return r+n/i}}function vi(n){for(var t=n.options,u=n.ticks||[],i=t.labelWidth||0,f=t.labelHeight||0,s=i||(n.direction=="x"?Math.floor(a.width/(u.length||1)):null),h=n.direction+"Axis "+n.direction+n.n+"Axis",c="flot-"+n.direction+"-axis flot-"+n.direction+n.n+"-axis "+h,l=t.font||"flot-tick-label tickLabel",e,o,r=0;r<u.length;++r)(e=u[r],e.label)&&(o=a.getTextInfo(c,e.label,l,null,s),i=Math.max(i,o.width),f=Math.max(f,o.height));n.labelWidth=t.labelWidth||i;n.labelHeight=t.labelHeight||f}function yi(t){var r=t.labelWidth,u=t.labelHeight,e=t.options.position,l=t.direction==="x",f=t.options.tickLength,i=o.grid.axisMargin,s=o.grid.labelMargin,v=!0,p=!0,b=!0,c=!1;n.each(l?y:w,function(n,i){i&&(i.show||i.reserveSpace)&&(i===t?c=!0:i.options.position===e&&(c?p=!1:v=!1),c||(b=!1))});p&&(i=0);f==null&&(f=b?"full":5);isNaN(+f)||(s+=+f);l?(u+=s,e=="bottom"?(h.bottom+=u+i,t.box={top:a.height-h.bottom,height:u}):(t.box={top:h.top+i,height:u},h.top+=u+i)):(r+=s,e=="left"?(t.box={left:h.left+i,width:r},h.left+=r+i):(h.right+=r+i,t.box={left:a.width-h.right,width:r}));t.position=e;t.tickLength=f;t.box.padding=s;t.innermost=v}function pi(n){n.direction=="x"?(n.box.left=h.left-n.labelWidth/2,n.box.width=a.width-h.left-h.right+n.labelWidth):(n.box.top=h.top-n.labelHeight/2,n.box.height=a.height-h.bottom-h.top+n.labelHeight)}function wi(){var i=o.grid.minBorderMargin,r,t;if(i==null)for(i=0,r=0;r<c.length;++r)i=Math.max(i,2*(c[r].points.radius+c[r].points.lineWidth/2));t={left:i,right:i,top:i,bottom:i};n.each(it(),function(n,i){i.reserveSpace&&i.ticks&&i.ticks.length&&(i.direction==="x"?(t.left=Math.max(t.left,i.labelWidth/2),t.right=Math.max(t.right,i.labelWidth/2)):(t.bottom=Math.max(t.bottom,i.labelHeight/2),t.top=Math.max(t.top,i.labelHeight/2)))});h.left=Math.ceil(Math.max(t.left,h.left));h.right=Math.ceil(Math.max(t.right,h.right));h.top=Math.ceil(Math.max(t.top,h.top));h.bottom=Math.ceil(Math.max(t.bottom,h.bottom))}function at(){var r,e=it(),u=o.grid.show,f,t,i;for(t in h)f=o.grid.margin||0,h[t]=typeof f=="number"?f:f[t]||0;nt(p.processOffset,[h]);for(t in h)h[t]+=typeof o.grid.borderWidth=="object"?u?o.grid.borderWidth[t]:0:u?o.grid.borderWidth:0;if(n.each(e,function(n,t){var i=t.options;t.show=i.show==null?t.used:i.show;t.reserveSpace=i.reserveSpace==null?t.show:i.reserveSpace;bi(t)}),u){for(i=n.grep(e,function(n){return n.show||n.reserveSpace}),n.each(i,function(n,t){ki(t);di(t);gi(t,t.ticks);vi(t)}),r=i.length-1;r>=0;--r)yi(i[r]);wi();n.each(i,function(n,t){pi(t)})}d=a.width-h.left-h.right;b=a.height-h.bottom-h.top;n.each(e,function(n,t){ai(t)});u&&tr();er()}function bi(n){var t=n.options,r=+(t.min!=null?t.min:n.datamin),i=+(t.max!=null?t.max:n.datamax),f=i-r,e,u;f==0?(e=i==0?1:.01,t.min==null&&(r-=e),(t.max==null||t.min!=null)&&(i+=e)):(u=t.autoscaleMargin,u!=null&&(t.min==null&&(r-=f*u,r<0&&n.datamin!=null&&n.datamin>=0&&(r=0)),t.max==null&&(i+=f*u,i>0&&n.datamax!=null&&n.datamax<=0&&(i=0))));n.min=r;n.max=i}function ki(t){var i=t.options,b,v,h,f,r,s,p,c;b=typeof i.ticks=="number"&&i.ticks>0?i.ticks:.3*Math.sqrt(t.direction=="x"?a.width:a.height);var l=(t.max-t.min)/b,o=-Math.floor(Math.log(l)/Math.LN10),e=i.tickDecimals;if(e!=null&&o>e&&(o=e),v=Math.pow(10,-o),h=l/v,h<1.5?f=1:h<3?(f=2,h>2.25&&(e==null||o+1<=e)&&(f=2.5,++o)):f=h<7.5?5:10,f*=v,i.minTickSize!=null&&f<i.minTickSize&&(f=i.minTickSize),t.delta=l,t.tickDecimals=Math.max(0,e!=null?e:o),t.tickSize=i.tickSize||f,i.mode=="time"&&!t.tickGenerator)throw new Error("Time mode requires the flot.time plugin.");t.tickGenerator||(t.tickGenerator=function(n){var i=[],e=u(n.min,n.tickSize),r=0,t=Number.NaN,f;do f=t,t=e+r*n.tickSize,i.push(t),++r;while(t<n.max&&t!=f);return i},t.tickFormatter=function(n,t){var u=t.tickDecimals?Math.pow(10,t.tickDecimals):1,i=""+Math.round(n*u)/u,f,r;return t.tickDecimals!=null&&(f=i.indexOf("."),r=f==-1?0:i.length-f-1,r<t.tickDecimals)?(r?i:i+".")+(""+u).substr(1,t.tickDecimals-r):i});n.isFunction(i.tickFormatter)&&(t.tickFormatter=function(n,t){return""+i.tickFormatter(n,t)});i.alignTicksWithAxis!=null&&(r=(t.direction=="x"?y:w)[i.alignTicksWithAxis-1],r&&r.used&&r!=t&&(s=t.tickGenerator(t),s.length>0&&(i.min==null&&(t.min=Math.min(t.min,s[0])),i.max==null&&s.length>1&&(t.max=Math.max(t.max,s[s.length-1]))),t.tickGenerator=function(n){for(var u=[],t,i=0;i<r.ticks.length;++i)t=(r.ticks[i].v-r.min)/(r.max-r.min),t=n.min+t*(n.max-n.min),u.push(t);return u},t.mode||i.tickDecimals!=null||(p=Math.max(0,-Math.floor(Math.log(t.delta)/Math.LN10)+1),c=t.tickGenerator(t),c.length>1&&/\..*0$/.test((c[1]-c[0]).toFixed(p))||(t.tickDecimals=p))))}function di(t){var i=t.options.ticks,e=[],o,u,f,r;for(i==null||typeof i=="number"&&i>0?e=t.tickGenerator(t):i&&(e=n.isFunction(i)?i(t):i),t.ticks=[],o=0;o<e.length;++o)f=null,r=e[o],typeof r=="object"?(u=+r[0],r.length>1&&(f=r[1])):u=+r,f==null&&(f=t.tickFormatter(u,t)),isNaN(u)||t.ticks.push({v:u,label:f})}function gi(n,t){n.options.autoscaleMargin&&t.length>0&&(n.options.min==null&&(n.min=Math.min(n.min,t[0].v)),n.options.max==null&&t.length>1&&(n.max=Math.max(n.max,t[t.length-1].v)))}function vt(){var n,t;for(a.clear(),nt(p.drawBackground,[s]),n=o.grid,n.show&&n.backgroundColor&&nr(),n.show&&!n.aboveData&&pt(),t=0;t<c.length;++t)nt(p.drawSeries,[s,c[t]]),ir(c[t]);nt(p.draw,[s]);n.show&&n.aboveData&&pt();a.render();ut()}function yt(n,t){for(var f,i,r,u,o=it(),s,e=0;e<o.length;++e)if(f=o[e],f.direction==t&&(u=t+f.n+"axis",n[u]||f.n!=1||(u=t+"axis"),n[u])){i=n[u].from;r=n[u].to;break}return n[u]||(f=t=="x"?y[0]:w[0],i=n[t+"1"],r=n[t+"2"]),i!=null&&r!=null&&i>r&&(s=i,i=r,r=s),{from:i,to:r,axis:f}}function nr(){s.save();s.translate(h.left,h.top);s.fillStyle=ri(o.grid.backgroundColor,b,0,"rgba(255, 255, 255, 0)");s.fillRect(0,0,d,b);s.restore()}function pt(){var v,f,t,e,k,rt,et,ot,tt,ut,w;if(s.save(),s.translate(h.left,h.top),k=o.grid.markings,k)for(n.isFunction(k)&&(f=l.getAxes(),f.xmin=f.xaxis.min,f.xmax=f.xaxis.max,f.ymin=f.yaxis.min,f.ymax=f.yaxis.max,k=k(f)),v=0;v<k.length;++v){var nt=k[v],i=yt(nt,"x"),r=yt(nt,"y");(i.from==null&&(i.from=i.axis.min),i.to==null&&(i.to=i.axis.max),r.from==null&&(r.from=r.axis.min),r.to==null&&(r.to=r.axis.max),i.to<i.axis.min||i.from>i.axis.max||r.to<r.axis.min||r.from>r.axis.max)||(i.from=Math.max(i.from,i.axis.min),i.to=Math.min(i.to,i.axis.max),r.from=Math.max(r.from,r.axis.min),r.to=Math.min(r.to,r.axis.max),rt=i.from===i.to,et=r.from===r.to,rt&&et)||(i.from=Math.floor(i.axis.p2c(i.from)),i.to=Math.floor(i.axis.p2c(i.to)),r.from=Math.floor(r.axis.p2c(r.from)),r.to=Math.floor(r.axis.p2c(r.to)),rt||et?(ot=nt.lineWidth||o.grid.markingsLineWidth,tt=ot%2?.5:0,s.beginPath(),s.strokeStyle=nt.color||o.grid.markingsColor,s.lineWidth=ot,rt?(s.moveTo(i.to+tt,r.from),s.lineTo(i.to+tt,r.to)):(s.moveTo(i.from,r.to+tt),s.lineTo(i.to,r.to+tt)),s.stroke()):(s.fillStyle=nt.color||o.grid.markingsColor,s.fillRect(i.from,r.to,i.to-i.from,r.from-r.to)))}for(f=it(),t=o.grid.borderWidth,ut=0;ut<f.length;++ut){var u=f[ut],ft=u.box,g=u.tickLength,c,a,y,p;if(u.show&&u.ticks.length!=0){for(s.lineWidth=1,u.direction=="x"?(c=0,a=g=="full"?u.position=="top"?0:b:ft.top-h.top+(u.position=="top"?ft.height:0)):(a=0,c=g=="full"?u.position=="left"?0:d:ft.left-h.left+(u.position=="left"?ft.width:0)),u.innermost||(s.strokeStyle=u.options.color,s.beginPath(),y=p=0,u.direction=="x"?y=d+1:p=b+1,s.lineWidth==1&&(u.direction=="x"?a=Math.floor(a)+.5:c=Math.floor(c)+.5),s.moveTo(c,a),s.lineTo(c+y,a+p),s.stroke()),s.strokeStyle=u.options.tickColor,s.beginPath(),v=0;v<u.ticks.length;++v)(w=u.ticks[v].v,y=p=0,isNaN(w)||w<u.min||w>u.max||g=="full"&&(typeof t=="object"&&t[u.position]>0||t>0)&&(w==u.min||w==u.max))||(u.direction=="x"?(c=u.p2c(w),p=g=="full"?-b:g,u.position=="top"&&(p=-p)):(a=u.p2c(w),y=g=="full"?-d:g,u.position=="left"&&(y=-y)),s.lineWidth==1&&(u.direction=="x"?c=Math.floor(c)+.5:a=Math.floor(a)+.5),s.moveTo(c,a),s.lineTo(c+y,a+p));s.stroke()}}t&&(e=o.grid.borderColor,typeof t=="object"||typeof e=="object"?(typeof t!="object"&&(t={top:t,right:t,bottom:t,left:t}),typeof e!="object"&&(e={top:e,right:e,bottom:e,left:e}),t.top>0&&(s.strokeStyle=e.top,s.lineWidth=t.top,s.beginPath(),s.moveTo(0-t.left,0-t.top/2),s.lineTo(d,0-t.top/2),s.stroke()),t.right>0&&(s.strokeStyle=e.right,s.lineWidth=t.right,s.beginPath(),s.moveTo(d+t.right/2,0-t.top),s.lineTo(d+t.right/2,b),s.stroke()),t.bottom>0&&(s.strokeStyle=e.bottom,s.lineWidth=t.bottom,s.beginPath(),s.moveTo(d+t.right,b+t.bottom/2),s.lineTo(0,b+t.bottom/2),s.stroke()),t.left>0&&(s.strokeStyle=e.left,s.lineWidth=t.left,s.beginPath(),s.moveTo(0-t.left/2,b+t.bottom),s.lineTo(0-t.left/2,0),s.stroke())):(s.lineWidth=t,s.strokeStyle=o.grid.borderColor,s.strokeRect(-t/2,-t/2,d+t,b+t)));s.restore()}function tr(){n.each(it(),function(n,t){var i=t.box,l=t.direction+"Axis "+t.direction+t.n+"Axis",c="flot-"+t.direction+"-axis flot-"+t.direction+t.n+"-axis "+l,v=t.options.font||"flot-tick-label tickLabel",r,u,f,o,s,e;if(a.removeText(c),t.show&&t.ticks.length!=0)for(e=0;e<t.ticks.length;++e)(r=t.ticks[e],!r.label||r.v<t.min||r.v>t.max)||(t.direction=="x"?(o="center",u=h.left+t.p2c(r.v),t.position=="bottom"?f=i.top+i.padding:(f=i.top+i.height-i.padding,s="bottom")):(s="middle",f=h.top+t.p2c(r.v),t.position=="left"?(u=i.left+i.width-i.padding,o="right"):u=i.left+i.padding),a.addText(c,u,f,r.label,v,null,null,o,s))})}function ir(n){n.lines.show&&rr(n);n.bars.show&&fr(n);n.points.show&&ur(n)}function rr(n){function u(n,t,i,r,u){var l=n.points,a=n.pointsize,v=null,y=null,c;for(s.beginPath(),c=a;c<l.length;c+=a){var f=l[c-a],e=l[c-a+1],o=l[c],h=l[c+1];if(f!=null&&o!=null){if(e<=h&&e<u.min){if(h<u.min)continue;f=(u.min-e)/(h-e)*(o-f)+f;e=u.min}else if(h<=e&&h<u.min){if(e<u.min)continue;o=(u.min-e)/(h-e)*(o-f)+f;h=u.min}if(e>=h&&e>u.max){if(h>u.max)continue;f=(u.max-e)/(h-e)*(o-f)+f;e=u.max}else if(h>=e&&h>u.max){if(e>u.max)continue;o=(u.max-e)/(h-e)*(o-f)+f;h=u.max}if(f<=o&&f<r.min){if(o<r.min)continue;e=(r.min-f)/(o-f)*(h-e)+e;f=r.min}else if(o<=f&&o<r.min){if(f<r.min)continue;h=(r.min-f)/(o-f)*(h-e)+e;o=r.min}if(f>=o&&f>r.max){if(o>r.max)continue;e=(r.max-f)/(o-f)*(h-e)+e;f=r.max}else if(o>=f&&o>r.max){if(f>r.max)continue;h=(r.max-f)/(o-f)*(h-e)+e;o=r.max}(f!=v||e!=y)&&s.moveTo(r.p2c(f)+t,u.p2c(e)+i);v=o;y=h;s.lineTo(r.p2c(o)+t,u.p2c(h)+i)}}s.stroke()}function e(n,t,i){for(var c=n.points,o=n.pointsize,b=Math.min(Math.max(0,i.min),i.max),h=0,l=!1,a=1,p=0,w=0,v,y;;){if(o>0&&h>c.length+o)break;h+=o;var r=c[h-o],u=c[h-o+a],f=c[h],e=c[h+a];if(l){if(o>0&&r!=null&&f==null){w=h;o=-o;a=2;continue}if(o<0&&h==p+o){s.fill();l=!1;o=-o;a=1;h=p=w+o;continue}}if(r!=null&&f!=null){if(r<=f&&r<t.min){if(f<t.min)continue;u=(t.min-r)/(f-r)*(e-u)+u;r=t.min}else if(f<=r&&f<t.min){if(r<t.min)continue;e=(t.min-r)/(f-r)*(e-u)+u;f=t.min}if(r>=f&&r>t.max){if(f>t.max)continue;u=(t.max-r)/(f-r)*(e-u)+u;r=t.max}else if(f>=r&&f>t.max){if(r>t.max)continue;e=(t.max-r)/(f-r)*(e-u)+u;f=t.max}if(l||(s.beginPath(),s.moveTo(t.p2c(r),i.p2c(b)),l=!0),u>=i.max&&e>=i.max){s.lineTo(t.p2c(r),i.p2c(i.max));s.lineTo(t.p2c(f),i.p2c(i.max));continue}else if(u<=i.min&&e<=i.min){s.lineTo(t.p2c(r),i.p2c(i.min));s.lineTo(t.p2c(f),i.p2c(i.min));continue}v=r;y=f;u<=e&&u<i.min&&e>=i.min?(r=(i.min-u)/(e-u)*(f-r)+r,u=i.min):e<=u&&e<i.min&&u>=i.min&&(f=(i.min-u)/(e-u)*(f-r)+r,e=i.min);u>=e&&u>i.max&&e<=i.max?(r=(i.max-u)/(e-u)*(f-r)+r,u=i.max):e>=u&&e>i.max&&u<=i.max&&(f=(i.max-u)/(e-u)*(f-r)+r,e=i.max);r!=v&&s.lineTo(t.p2c(v),i.p2c(u));s.lineTo(t.p2c(r),i.p2c(u));s.lineTo(t.p2c(f),i.p2c(e));f!=y&&(s.lineTo(t.p2c(f),i.p2c(e)),s.lineTo(t.p2c(y),i.p2c(e)))}}}var t,i,r,f;s.save();s.translate(h.left,h.top);s.lineJoin="round";t=n.lines.lineWidth;i=n.shadowSize;t>0&&i>0&&(s.lineWidth=i,s.strokeStyle="rgba(0,0,0,0.1)",r=Math.PI/18,u(n.datapoints,Math.sin(r)*(t/2+i/2),Math.cos(r)*(t/2+i/2),n.xaxis,n.yaxis),s.lineWidth=i/2,u(n.datapoints,Math.sin(r)*(t/2+i/4),Math.cos(r)*(t/2+i/4),n.xaxis,n.yaxis));s.lineWidth=t;s.strokeStyle=n.color;f=ot(n.lines,n.color,0,b);f&&(s.fillStyle=f,e(n.datapoints,n.xaxis,n.yaxis));t>0&&u(n.datapoints,0,0,n.xaxis,n.yaxis);s.restore()}function ur(n){function r(n,t,i,r,u,f,e,o){for(var a=n.points,v=n.pointsize,h,c,l=0;l<a.length;l+=v)(h=a[l],c=a[l+1],h==null||h<f.min||h>f.max||c<e.min||c>e.max)||(s.beginPath(),h=f.p2c(h),c=e.p2c(c)+r,o=="circle"?s.arc(h,c,t,0,u?Math.PI:Math.PI*2,!1):o(s,h,c,t,u),s.closePath(),i&&(s.fillStyle=i,s.fill()),s.stroke())}var t;s.save();s.translate(h.left,h.top);var i=n.points.lineWidth,e=n.shadowSize,u=n.points.radius,f=n.points.symbol;i==0&&(i=.0001);i>0&&e>0&&(t=e/2,s.lineWidth=t,s.strokeStyle="rgba(0,0,0,0.1)",r(n.datapoints,u,null,t+t/2,!0,n.xaxis,n.yaxis,f),s.strokeStyle="rgba(0,0,0,0.2)",r(n.datapoints,u,null,t/2,!0,n.xaxis,n.yaxis,f));s.lineWidth=i;s.strokeStyle=n.color;r(n.datapoints,u,ot(n.points,n.color),0,!1,n.xaxis,n.yaxis,f);s.restore()}function wt(n,t,i,r,u,f,e,o,s,h,c){var l,y,a,v,p,w,b,k,d;(h?(k=w=b=!0,p=!1,l=i,y=n,v=t+r,a=t+u,y<l&&(d=y,y=l,l=d,p=!0,w=!1)):(p=w=b=!0,k=!1,l=n+r,y=n+u,a=i,v=t,v<a&&(d=v,v=a,a=d,k=!0,b=!1)),y<e.min||l>e.max||v<o.min||a>o.max)||(l<e.min&&(l=e.min,p=!1),y>e.max&&(y=e.max,w=!1),a<o.min&&(a=o.min,k=!1),v>o.max&&(v=o.max,b=!1),l=e.p2c(l),a=o.p2c(a),y=e.p2c(y),v=o.p2c(v),f&&(s.fillStyle=f(a,v),s.fillRect(l,v,y-l,a-v)),c>0&&(p||w||b||k)&&(s.beginPath(),s.moveTo(l,a),p?s.lineTo(l,v):s.moveTo(l,v),b?s.lineTo(y,v):s.moveTo(y,v),w?s.lineTo(y,a):s.moveTo(y,a),k?s.lineTo(l,a):s.moveTo(l,a),s.stroke()))}function fr(n){function r(t,i,r,u,f,e){for(var h=t.points,c=t.pointsize,o=0;o<h.length;o+=c)h[o]!=null&&wt(h[o],h[o+1],h[o+2],i,r,u,f,e,s,n.bars.horizontal,n.bars.lineWidth)}var t,i;s.save();s.translate(h.left,h.top);s.lineWidth=n.bars.lineWidth;s.strokeStyle=n.color;switch(n.bars.align){case"left":t=0;break;case"right":t=-n.bars.barWidth;break;default:t=-n.bars.barWidth/2}i=n.bars.fill?function(t,i){return ot(n.bars,n.color,t,i)}:null;r(n.datapoints,t,t+n.bars.barWidth,i,n.xaxis,n.yaxis);s.restore()}function ot(t,i,r,u){var e=t.fill,f;return e?t.fillColor?ri(t.fillColor,r,u,i):(f=n.color.parse(i),f.a=typeof e=="number"?e:.4,f.normalize(),f.toString()):null}function er(){var g,r,w,b,v,t,k;if(o.legend.container!=null?n(o.legend.container).html(""):i.find(".legend").remove(),o.legend.show){var f=[],e=[],y=!1,d=o.legend.labelFormatter,s,p;for(r=0;r<c.length;++r)s=c[r],s.label&&(p=d?d(s.label,s):s.label,p&&e.push({label:p,color:s.color}));for(o.legend.sorted&&(n.isFunction(o.legend.sorted)?e.sort(o.legend.sorted):o.legend.sorted=="reverse"?e.reverse():(g=o.legend.sorted!="descending",e.sort(function(n,t){return n.label==t.label?0:n.label<t.label!=g?1:-1}))),r=0;r<e.length;++r)w=e[r],r%o.legend.noColumns==0&&(y&&f.push("<\/tr>"),f.push("<tr>"),y=!0),f.push('<td class="legendColorBox"><div style="border:1px solid '+o.legend.labelBoxBorderColor+';padding:1px"><div style="width:4px;height:0;border:5px solid '+w.color+';overflow:hidden"><\/div><\/div><\/td><td class="legendLabel">'+w.label+"<\/td>");if(y&&f.push("<\/tr>"),f.length!=0)if(b='<table style="font-size:smaller;color:'+o.grid.color+'">'+f.join("")+"<\/table>",o.legend.container!=null)n(o.legend.container).html(b);else{var l="",a=o.legend.position,u=o.legend.margin;u[0]==null&&(u=[u,u]);a.charAt(0)=="n"?l+="top:"+(u[1]+h.top)+"px;":a.charAt(0)=="s"&&(l+="bottom:"+(u[1]+h.bottom)+"px;");a.charAt(1)=="e"?l+="right:"+(u[0]+h.right)+"px;":a.charAt(1)=="w"&&(l+="left:"+(u[0]+h.left)+"px;");v=n('<div class="legend">'+b.replace('style="','style="position:absolute;'+l+";")+"<\/div>").appendTo(i);o.legend.backgroundOpacity!=0&&(t=o.legend.backgroundColor,t==null&&(t=o.grid.backgroundColor,t=t&&typeof t=="string"?n.color.parse(t):n.color.extract(v,"background-color"),t.a=1,t=t.toString()),k=v.children(),n('<div style="position:absolute;width:'+k.width()+"px;height:"+k.height()+"px;"+l+"background-color:"+t+';"> <\/div>').prependTo(v).css("opacity",o.legend.backgroundOpacity))}}}function or(n,t,i){for(var w=o.grid.mouseActiveRadius,it=w*w+1,a=null,r,h,e,s,p,tt,u=c.length-1;u>=0;--u)if(i(c[u])){var f=c[u],b=f.xaxis,k=f.yaxis,l=f.datapoints.points,v=b.c2p(n),y=k.c2p(t),g=w/b.scale,nt=w/k.scale;if(h=f.datapoints.pointsize,b.options.inverseTransform&&(g=Number.MAX_VALUE),k.options.inverseTransform&&(nt=Number.MAX_VALUE),f.lines.show||f.points.show)for(r=0;r<l.length;r+=h)if((e=l[r],s=l[r+1],e!=null)&&!(e-v>g)&&!(e-v<-g)&&!(s-y>nt)&&!(s-y<-nt)){var rt=Math.abs(b.p2c(e)-n),ut=Math.abs(k.p2c(s)-t),ft=rt*rt+ut*ut;ft<it&&(it=ft,a=[u,r/h])}if(f.bars.show&&!a){switch(f.bars.align){case"left":p=0;break;case"right":p=-f.bars.barWidth;break;default:p=-f.bars.barWidth/2}for(tt=p+f.bars.barWidth,r=0;r<l.length;r+=h){var e=l[r],s=l[r+1],d=l[r+2];e!=null&&(c[u].bars.horizontal?v<=Math.max(d,e)&&v>=Math.min(d,e)&&y>=s+p&&y<=s+tt:v>=e+p&&v<=e+tt&&y>=Math.min(d,s)&&y<=Math.max(d,s))&&(a=[u,r/h])}}}return a?(u=a[0],r=a[1],h=c[u].datapoints.pointsize,{datapoint:c[u].datapoints.points.slice(r*h,(r+1)*h),dataIndex:r,series:c[u],seriesIndex:u}):null}function bt(n){o.grid.hoverable&&st("plothover",n,function(n){return n.hoverable!=!1})}function kt(n){o.grid.hoverable&&st("plothover",n,function(){return!1})}function dt(n){st("plotclick",n,function(n){return n.clickable!=!1})}function st(n,t,r){var e=k.offset(),l=t.pageX-e.left-h.left,a=t.pageY-e.top-h.top,c=ct({left:l,top:a}),u,s,f;if(c.pageX=t.pageX,c.pageY=t.pageY,u=or(l,a,r),u&&(u.pageX=parseInt(u.series.xaxis.p2c(u.datapoint[0])+e.left+h.left,10),u.pageY=parseInt(u.series.yaxis.p2c(u.datapoint[1])+e.top+h.top,10)),o.grid.autoHighlight){for(s=0;s<g.length;++s)f=g[s],f.auto!=n||u&&f.series==u.series&&f.point[0]==u.datapoint[0]&&f.point[1]==u.datapoint[1]||ti(f.series,f.point);u&&ni(u.series,u.datapoint,n)}i.trigger(n,[c,u])}function ut(){var n=o.interaction.redrawOverlayInterval;if(n==-1){gt();return}rt||(rt=setTimeout(gt,n))}function gt(){rt=null;v.save();tt.clear();v.translate(h.left,h.top);for(var n,t=0;t<g.length;++t)n=g[t],n.series.bars.show?hr(n.series,n.point):sr(n.series,n.point);v.restore();nt(p.drawOverlay,[v])}function ni(n,t,i){var r,u;typeof n=="number"&&(n=c[n]);typeof t=="number"&&(r=n.datapoints.pointsize,t=n.datapoints.points.slice(r*t,r*(t+1)));u=ii(n,t);u==-1?(g.push({series:n,point:t,auto:i}),ut()):i||(g[u].auto=!1)}function ti(n,t){var i,r;if(n==null&&t==null){g=[];ut();return}typeof n=="number"&&(n=c[n]);typeof t=="number"&&(i=n.datapoints.pointsize,t=n.datapoints.points.slice(i*t,i*(t+1)));r=ii(n,t);r!=-1&&(g.splice(r,1),ut())}function ii(n,t){for(var r,i=0;i<g.length;++i)if(r=g[i],r.series==n&&r.point[0]==t[0]&&r.point[1]==t[1])return i;return-1}function sr(t,i){var r=i[0],u=i[1],f=t.xaxis,e=t.yaxis,h=typeof t.highlightColor=="string"?t.highlightColor:n.color.parse(t.color).scale("a",.5).toString(),o,s;r<f.min||r>f.max||u<e.min||u>e.max||(o=t.points.radius+t.points.lineWidth/2,v.lineWidth=o,v.strokeStyle=h,s=1.5*o,r=f.p2c(r),u=e.p2c(u),v.beginPath(),t.points.symbol=="circle"?v.arc(r,u,s,0,2*Math.PI,!1):t.points.symbol(v,r,u,s,!1),v.closePath(),v.stroke())}function hr(t,i){var u=typeof t.highlightColor=="string"?t.highlightColor:n.color.parse(t.color).scale("a",.5).toString(),f=u,r;switch(t.bars.align){case"left":r=0;break;case"right":r=-t.bars.barWidth;break;default:r=-t.bars.barWidth/2}v.lineWidth=t.bars.lineWidth;v.strokeStyle=u;wt(i[0],i[1],i[2]||0,r,r+t.bars.barWidth,function(){return f},t.xaxis,t.yaxis,v,t.bars.horizontal,t.bars.lineWidth)}function ri(t,i,r,u){var h,e,c,f,o;if(typeof t=="string")return t;for(h=s.createLinearGradient(0,r,0,i),e=0,c=t.colors.length;e<c;++e)f=t.colors[e],typeof f!="string"&&(o=n.color.parse(u),f.brightness!=null&&(o=o.scale("rgb",f.brightness)),f.opacity!=null&&(o.a*=f.opacity),f=o.toString()),h.addColorStop(e/(c-1),f);return h}var c=[],o={colors:["#edc240","#afd8f8","#cb4b4b","#4da74d","#9440ed"],legend:{show:!0,noColumns:1,labelFormatter:null,labelBoxBorderColor:"#ccc",container:null,position:"ne",margin:5,backgroundColor:null,backgroundOpacity:.85,sorted:null},xaxis:{show:null,position:"bottom",mode:null,font:null,color:null,tickColor:null,transform:null,inverseTransform:null,min:null,max:null,autoscaleMargin:null,ticks:null,tickFormatter:null,labelWidth:null,labelHeight:null,reserveSpace:null,tickLength:null,alignTicksWithAxis:null,tickDecimals:null,tickSize:null,minTickSize:null},yaxis:{autoscaleMargin:.02,position:"left"},xaxes:[],yaxes:[],series:{points:{show:!1,radius:3,lineWidth:2,fill:!0,fillColor:"#ffffff",symbol:"circle"},lines:{lineWidth:2,fill:!1,fillColor:null,steps:!1},bars:{show:!1,lineWidth:2,barWidth:1,fill:!0,fillColor:null,align:"left",horizontal:!1,zero:!0},shadowSize:3,highlightColor:null},grid:{show:!0,aboveData:!1,color:"#545454",backgroundColor:null,borderColor:null,tickColor:null,margin:0,labelMargin:5,axisMargin:8,borderWidth:2,minBorderMargin:null,markings:null,markingsColor:"#f4f4f4",markingsLineWidth:2,clickable:!1,hoverable:!1,autoHighlight:!0,mouseActiveRadius:10},interaction:{redrawOverlayInterval:1e3/60},hooks:{}},a=null,tt=null,k=null,s=null,v=null,y=[],w=[],h={left:0,right:0,top:0,bottom:0},d=0,b=0,p={processOptions:[],processRawData:[],processDatapoints:[],processOffset:[],drawBackground:[],drawSeries:[],draw:[],bindEvents:[],drawOverlay:[],shutdown:[]},l=this,g,rt;l.setData=ht;l.setupGrid=at;l.draw=vt;l.getPlaceholder=function(){return i};l.getCanvas=function(){return a.element};l.getPlotOffset=function(){return h};l.width=function(){return d};l.height=function(){return b};l.offset=function(){var n=k.offset();return n.left+=h.left,n.top+=h.top,n};l.getData=function(){return c};l.getAxes=function(){var t={};return n.each(y.concat(w),function(n,i){i&&(t[i.direction+(i.n!=1?i.n:"")+"axis"]=i)}),t};l.getXAxes=function(){return y};l.getYAxes=function(){return w};l.c2p=ct;l.p2c=oi;l.getOptions=function(){return o};l.highlight=ni;l.unhighlight=ti;l.triggerRedrawOverlay=ut;l.pointOffset=function(n){return{left:parseInt(y[ft(n,"x")-1].p2c(+n.x)+h.left,10),top:parseInt(w[ft(n,"y")-1].p2c(+n.y)+h.top,10)}};l.shutdown=lt;l.destroy=function(){lt();i.removeData("plot").empty();c=[];o=null;a=null;tt=null;k=null;s=null;v=null;y=[];w=[];p=null;g=[];l=null};l.resize=function(){var n=i.width(),t=i.height();a.resize(n,t);tt.resize(n,t)};l.hooks=p;ui(l);fi(f);ci();ht(r);at();vt();li();g=[];rt=null}function u(n,t){return t*Math.floor(n/t)}var i=Object.prototype.hasOwnProperty;n.fn.detach||(n.fn.detach=function(){return this.each(function(){this.parentNode&&this.parentNode.removeChild(this)})});t.prototype.resize=function(n,t){if(n<=0||t<=0)throw new Error("Invalid dimensions for plot, width = "+n+", height = "+t);var i=this.element,u=this.context,r=this.pixelRatio;this.width!=n&&(i.width=n*r,i.style.width=n+"px",this.width=n);this.height!=t&&(i.height=t*r,i.style.height=t+"px",this.height=t);u.restore();u.save();u.scale(r,r)};t.prototype.clear=function(){this.context.clearRect(0,0,this.width,this.height)};t.prototype.render=function(){var h=this._textCache,r,u,f,c,t,e,o,s,n;for(r in h)if(i.call(h,r)){u=this.getTextLayer(r);f=h[r];u.hide();for(c in f)if(i.call(f,c)){t=f[c];for(e in t)if(i.call(t,e)){for(o=t[e].positions,s=0;n=o[s];s++)n.active?n.rendered||(u.append(n.element),n.rendered=!0):(o.splice(s--,1),n.rendered&&n.element.detach());o.length==0&&delete t[e]}}u.show()}};t.prototype.getTextLayer=function(t){var i=this.text[t];return i==null&&(this.textContainer==null&&(this.textContainer=n("<div class='flot-text'><\/div>").css({position:"absolute",top:0,left:0,bottom:0,right:0,"font-size":"smaller",color:"#545454"}).insertAfter(this.element)),i=this.text[t]=n("<div><\/div>").addClass(t).css({position:"absolute",top:0,left:0,bottom:0,right:0}).appendTo(this.textContainer)),i};t.prototype.getTextInfo=function(t,i,r,u,f){var h,o,s,c,e;return i=""+i,h=typeof r=="object"?r.style+" "+r.variant+" "+r.weight+" "+r.size+"px/"+r.lineHeight+"px "+r.family:r,o=this._textCache[t],o==null&&(o=this._textCache[t]={}),s=o[h],s==null&&(s=o[h]={}),c=s[i],c==null&&(e=n("<div><\/div>").html(i).css({position:"absolute","max-width":f,top:-9999}).appendTo(this.getTextLayer(t)),typeof r=="object"?e.css({font:h,color:r.color}):typeof r=="string"&&e.addClass(r),c=s[i]={width:e.outerWidth(!0),height:e.outerHeight(!0),element:e,positions:[]},e.detach()),c};t.prototype.addText=function(n,t,i,r,u,f,e,o,s){var h=this.getTextInfo(n,r,u,f,e),l=h.positions,a,c;for(o=="center"?t-=h.width/2:o=="right"&&(t-=h.width),s=="middle"?i-=h.height/2:s=="bottom"&&(i-=h.height),a=0;c=l[a];a++)if(c.x==t&&c.y==i){c.active=!0;return}c={active:!0,rendered:!1,element:l.length?h.element.clone():h.element,x:t,y:i};l.push(c);c.element.css({top:Math.round(i),left:Math.round(t),"text-align":o})};t.prototype.removeText=function(n,t,r,u,f,e){var h,a,l,v,c,o,s;if(u==null){if(h=this._textCache[n],h!=null)for(a in h)if(i.call(h,a)){l=h[a];for(v in l)if(i.call(l,v))for(c=l[v].positions,o=0;s=c[o];o++)s.active=!1}}else for(c=this.getTextInfo(n,u,f,e).positions,o=0;s=c[o];o++)s.x==t&&s.y==r&&(s.active=!1)};n.plot=function(t,i,u){return new r(n(t),i,u,n.plot.plugins)};n.plot.version="0.8.3";n.plot.plugins=[];n.fn.plot=function(t,i){return this.each(function(){n.plot(this,t,i)})}}(jQuery),function(n){function r(r){function w(t){l||(l=!0,a=t.getCanvas(),h=n(a).parent(),u=t.getOptions(),t.setData(b(t.getData())))}function b(t){for(var f=0,e=0,o=0,s=u.series.pie.combine.color,h=[],i,r=0;r<t.length;++r)i=t[r].data,n.isArray(i)&&i.length==1&&(i=i[0]),n.isArray(i)?i[1]=!isNaN(parseFloat(i[1]))&&isFinite(i[1])?+i[1]:0:i=!isNaN(parseFloat(i))&&isFinite(i)?[1,+i]:[1,0],t[r].data=[i];for(r=0;r<t.length;++r)f+=t[r].data[0][1];for(r=0;r<t.length;++r)i=t[r].data[0][1],i/f<=u.series.pie.combine.threshold&&(e+=i,o++,s||(s=t[r].color));for(r=0;r<t.length;++r)i=t[r].data[0][1],(o<2||i/f>u.series.pie.combine.threshold)&&h.push(n.extend(t[r],{data:[[1,i]],color:t[r].color,label:t[r].label,angle:i*Math.PI*2/f,percent:i/(f/100)}));return o>1&&h.push({data:[[1,e]],color:s,label:u.series.pie.combine.label,angle:e*Math.PI*2/f,percent:e/(f/100)}),h}function k(r,s){function k(){f.clearRect(0,0,y,p);h.children().filter(".pieLabel, .pieLabelBackground").remove()}function d(){var i=u.series.pie.shadow.left,r=u.series.pie.shadow.top,s=10,h=u.series.pie.shadow.alpha,n=u.series.pie.radius>1?u.series.pie.radius:o*u.series.pie.radius,t;if(!(n>=y/2-i)&&!(n*u.series.pie.tilt>=p/2-r)&&!(n<=s)){for(f.save(),f.translate(i,r),f.globalAlpha=h,f.fillStyle="#000",f.translate(e,c),f.scale(1,u.series.pie.tilt),t=1;t<=s;t++)f.beginPath(),f.arc(0,0,n,0,Math.PI*2,!1),f.fill(),n-=t;f.restore()}}function g(){function l(n,t,r){n<=0||isNaN(n)||(r?f.fillStyle=t:(f.strokeStyle=t,f.lineJoin="round"),f.beginPath(),Math.abs(n-Math.PI*2)>1e-9&&f.moveTo(0,0),f.arc(0,0,s,i,i+n/2,!1),f.arc(0,0,s,i+n/2,i+n,!1),f.closePath(),i+=n,r?f.fill():f.stroke())}function w(){function s(t,i,r){var w,s,b,v,nt;if(t.data[0][1]==0)return!0;w=u.legend.labelFormatter;b=u.series.pie.label.formatter;s=w?w(t.label,t):t.label;b&&(s=b(s,t));var k=(i+t.angle+i)/2,d=e+Math.round(Math.cos(k)*f),g=c+Math.round(Math.sin(k)*f)*u.series.pie.tilt,tt="<span class='pieLabel' id='pieLabel"+r+"' style='position:absolute;top:"+g+"px;left:"+d+"px;'>"+s+"<\/span>";h.append(tt);var o=h.children("#pieLabel"+r),l=g-o.height()/2,a=d-o.width()/2;return(o.css("top",l),o.css("left",a),0-l>0||0-a>0||p-(l+o.height())<0||y-(a+o.width())<0)?!1:(u.series.pie.label.background.opacity!=0&&(v=u.series.pie.label.background.color,v==null&&(v=t.color),nt="top:"+l+"px;left:"+a+"px;",n("<div class='pieLabelBackground' style='position:absolute;width:"+o.width()+"px;height:"+o.height()+"px;"+nt+"background-color:"+v+";'><\/div>").css("opacity",u.series.pie.label.background.opacity).insertBefore(o)),!0)}for(var i=r,f=u.series.pie.label.radius>1?u.series.pie.label.radius:o*u.series.pie.label.radius,t=0;t<a.length;++t){if(a[t].percent>=u.series.pie.label.threshold*100&&!s(a[t],i,t))return!1;i+=a[t].angle}return!0}var r=Math.PI*u.series.pie.startAngle,s=u.series.pie.radius>1?u.series.pie.radius:o*u.series.pie.radius,i,t;for(f.save(),f.translate(e,c),f.scale(1,u.series.pie.tilt),f.save(),i=r,t=0;t<a.length;++t)a[t].startAngle=i,l(a[t].angle,a[t].color,!0);if(f.restore(),u.series.pie.stroke.width>0){for(f.save(),f.lineWidth=u.series.pie.stroke.width,i=r,t=0;t<a.length;++t)l(a[t].angle,u.series.pie.stroke.color,!1);f.restore()}return v(f),f.restore(),u.series.pie.label.show?w():!0}var a,w;if(h){var y=r.getPlaceholder().width(),p=r.getPlaceholder().height(),b=h.children().filter(".legend").children().width()||0;f=s;l=!1;o=Math.min(y,p/u.series.pie.tilt)/2;c=p/2+u.series.pie.offset.top;e=y/2;u.series.pie.offset.left=="auto"?(u.legend.position.match("w")?e+=b/2:e-=b/2,e<o?e=o:e>y-o&&(e=y-o)):e+=u.series.pie.offset.left;a=r.getData();w=0;do w>0&&(o*=i),w+=1,k(),u.series.pie.tilt<=.8&&d();while(!g()&&w<t);w>=t&&(k(),h.prepend("<div class='error'>Could not draw pie with labels contained inside canvas<\/div>"));r.setSeries&&r.insertLegend&&(r.setSeries(a),r.insertLegend())}}function v(n){if(u.series.pie.innerRadius>0){n.save();var t=u.series.pie.innerRadius>1?u.series.pie.innerRadius:o*u.series.pie.innerRadius;n.globalCompositeOperation="destination-out";n.beginPath();n.fillStyle=u.series.pie.stroke.color;n.arc(0,0,t,0,Math.PI*2,!1);n.fill();n.closePath();n.restore();n.save();n.beginPath();n.strokeStyle=u.series.pie.stroke.color;n.arc(0,0,t,0,Math.PI*2,!1);n.stroke();n.closePath();n.restore()}}function d(n,t){for(var u=!1,i=-1,f=n.length,r=f-1;++i<f;r=i)(n[i][1]<=t[1]&&t[1]<n[r][1]||n[r][1]<=t[1]&&t[1]<n[i][1])&&t[0]<(n[r][0]-n[i][0])*(t[1]-n[i][1])/(n[r][1]-n[i][1])+n[i][0]&&(u=!u);return u}function g(n,t){for(var l=r.getData(),h=r.getOptions(),u=h.series.pie.radius>1?h.series.pie.radius:o*h.series.pie.radius,a,v,i,s=0;s<l.length;++s)if(i=l[s],i.pie.show){if(f.save(),f.beginPath(),f.moveTo(0,0),f.arc(0,0,u,i.startAngle,i.startAngle+i.angle/2,!1),f.arc(0,0,u,i.startAngle+i.angle/2,i.startAngle+i.angle,!1),f.closePath(),a=n-e,v=t-c,f.isPointInPath){if(f.isPointInPath(n-e,t-c))return f.restore(),{datapoint:[i.percent,i.data],dataIndex:0,series:i,seriesIndex:s}}else{var y=u*Math.cos(i.startAngle),p=u*Math.sin(i.startAngle),w=u*Math.cos(i.startAngle+i.angle/4),b=u*Math.sin(i.startAngle+i.angle/4),k=u*Math.cos(i.startAngle+i.angle/2),g=u*Math.sin(i.startAngle+i.angle/2),nt=u*Math.cos(i.startAngle+i.angle/1.5),tt=u*Math.sin(i.startAngle+i.angle/1.5),it=u*Math.cos(i.startAngle+i.angle),rt=u*Math.sin(i.startAngle+i.angle),ut=[[0,0],[y,p],[w,b],[k,g],[nt,tt],[it,rt]],ft=[a,v];if(d(ut,ft))return f.restore(),{datapoint:[i.percent,i.data],dataIndex:0,series:i,seriesIndex:s}}f.restore()}return null}function nt(n){y("plothover",n)}function tt(n){y("plotclick",n)}function y(n,t){var o=r.offset(),l=parseInt(t.pageX-o.left),a=parseInt(t.pageY-o.top),i=g(l,a),f,e,c;if(u.grid.autoHighlight)for(f=0;f<s.length;++f)e=s[f],e.auto!=n||i&&e.series==i.series||rt(e.series);i&&it(i.series,n);c={pageX:t.pageX,pageY:t.pageY};h.trigger(n,[c,i])}function it(n,t){var i=p(n);i==-1?(s.push({series:n,auto:t}),r.triggerRedrawOverlay()):t||(s[i].auto=!1)}function rt(n){n==null&&(s=[],r.triggerRedrawOverlay());var t=p(n);t!=-1&&(s.splice(t,1),r.triggerRedrawOverlay())}function p(n){for(var i,t=0;t<s.length;++t)if(i=s[t],i.series==n)return t;return-1}function ut(n,t){function f(n){n.angle<=0||isNaN(n.angle)||(t.fillStyle="rgba(255, 255, 255, "+i.series.pie.highlight.opacity+")",t.beginPath(),Math.abs(n.angle-Math.PI*2)>1e-9&&t.moveTo(0,0),t.arc(0,0,u,n.startAngle,n.startAngle+n.angle/2,!1),t.arc(0,0,u,n.startAngle+n.angle/2,n.startAngle+n.angle,!1),t.closePath(),t.fill())}var i=n.getOptions(),u=i.series.pie.radius>1?i.series.pie.radius:o*i.series.pie.radius,r;for(t.save(),t.translate(e,c),t.scale(1,i.series.pie.tilt),r=0;r<s.length;++r)f(s[r].series);v(t);t.restore()}var a=null,h=null,u=null,o=null,e=null,c=null,l=!1,f=null,s=[];r.hooks.processOptions.push(function(n,t){t.series.pie.show&&(t.grid.show=!1,t.series.pie.label.show=="auto"&&(t.series.pie.label.show=t.legend.show?!1:!0),t.series.pie.radius=="auto"&&(t.series.pie.radius=t.series.pie.label.show?3/4:1),t.series.pie.tilt>1?t.series.pie.tilt=1:t.series.pie.tilt<0&&(t.series.pie.tilt=0))});r.hooks.bindEvents.push(function(n,t){var i=n.getOptions();i.series.pie.show&&(i.grid.hoverable&&t.unbind("mousemove").mousemove(nt),i.grid.clickable&&t.unbind("click").click(tt))});r.hooks.processDatapoints.push(function(n,t,i,r){var u=n.getOptions();u.series.pie.show&&w(n,t,i,r)});r.hooks.drawOverlay.push(function(n,t){var i=n.getOptions();i.series.pie.show&&ut(n,t)});r.hooks.draw.push(function(n,t){var i=n.getOptions();i.series.pie.show&&k(n,t)})}var t=10,i=.95,u={series:{pie:{show:!1,radius:"auto",innerRadius:0,startAngle:3/2,tilt:1,shadow:{left:5,top:15,alpha:.02},offset:{top:0,left:"auto"},stroke:{color:"#fff",width:1},label:{show:"auto",formatter:function(n,t){return"<div style='font-size:x-small;text-align:center;padding:2px;color:"+t.color+";'>"+n+"<br/>"+Math.round(t.percent)+"%<\/div>"},radius:1,background:{color:null,opacity:0},threshold:0},combine:{threshold:-1,color:null,label:"Other"},highlight:{opacity:.5}}}};n.plot.plugins.push({init:r,options:u,name:"pie",version:"1.1"})}(jQuery),function($,n,t){function c(t){var a,o;for(f===!0&&(f=t||1),a=i.length-1;a>=0;a--)if(o=$(i[a]),o[0]==n||o.is(":visible")){var v=o.width(),y=o.height(),s=o.data(e);s&&(v!==s.w||y!==s.h)&&(o.trigger(h,[s.w=v,s.h=y]),f=t||!0)}else s=o.data(e),s.w=0,s.h=0;u!==null&&(f&&(t==null||t-f<1e3)?u=n.requestAnimationFrame(c):(u=setTimeout(c,r[l]),f=!1))}var i=[],r=$.resize=$.extend($.resize,{}),u,f=!1,s="setTimeout",h="resize",e=h+"-special-event",l="pendingDelay",a="activeDelay",o="throttleWindow";r[l]=200;r[a]=20;r[o]=!0;$.event.special[h]={setup:function(){if(!r[o]&&this[s])return!1;var n=$(this);i.push(this);n.data(e,{w:n.width(),h:n.height()});i.length===1&&(u=t,c())},teardown:function(){var t,n;if(!r[o]&&this[s])return!1;for(t=$(this),n=i.length-1;n>=0;n--)if(i[n]==this){i.splice(n,1);break}t.removeData(e);i.length||(f?cancelAnimationFrame(u):clearTimeout(u),u=null)},add:function(n){function u(n,r,u){var f=$(this),o=f.data(e)||{};o.w=r!==t?r:f.width();o.h=u!==t?u:f.height();i.apply(this,arguments)}if(!r[o]&&this[s])return!1;var i;if($.isFunction(n))return i=n,u;i=n.handler;n.handler=u}};n.requestAnimationFrame||(n.requestAnimationFrame=function(){return n.webkitRequestAnimationFrame||n.mozRequestAnimationFrame||n.oRequestAnimationFrame||n.msRequestAnimationFrame||function(t){return n.setTimeout(function(){t((new Date).getTime())},r[a])}}());n.cancelAnimationFrame||(n.cancelAnimationFrame=function(){return n.webkitCancelRequestAnimationFrame||n.mozCancelRequestAnimationFrame||n.oCancelRequestAnimationFrame||n.msCancelRequestAnimationFrame||clearTimeout}())}(jQuery,this),function(n){function t(n){function t(){var t=n.getPlaceholder();t.width()!=0&&t.height()!=0&&(n.resize(),n.setupGrid(),n.draw())}function i(n){n.getPlaceholder().resize(t)}function r(n){n.getPlaceholder().unbind("resize",t)}n.hooks.bindEvents.push(i);n.hooks.shutdown.push(r)}n.plot.plugins.push({init:t,options:{},name:"resize",version:"1.0"})}(jQuery),function(n){function t(n){function t(n,t){for(var r=null,i=0;i<t.length;++i){if(n==t[i])break;t[i].stack==n.stack&&(r=t[i])}return r}function i(n,i,r){var d;if(i.stack!=null&&i.stack!==!1&&(d=t(i,n.getData()),d)){for(var e=r.pointsize,h=r.points,y=d.datapoints.pointsize,l=d.datapoints.points,f=[],p,nt,rt,a,v,w,k=i.lines.show,tt=i.bars.horizontal,ut=e>2&&(tt?r.format[2].x:r.format[2].y),ft=k&&i.lines.steps,it=!0,g=tt?1:0,b=tt?0:1,o=0,c=0,s,u;;){if(o>=h.length)break;if(s=f.length,h[o]==null){for(u=0;u<e;++u)f.push(h[o+u]);o+=e}else if(c>=l.length){if(!k)for(u=0;u<e;++u)f.push(h[o+u]);o+=e}else if(l[c]==null){for(u=0;u<e;++u)f.push(null);it=!0;c+=y}else{if(p=h[o+g],nt=h[o+b],a=l[c+g],v=l[c+b],w=0,p==a){for(u=0;u<e;++u)f.push(h[o+u]);f[s+b]+=v;w=v;o+=e;c+=y}else if(p>a){if(k&&o>0&&h[o-e]!=null){for(rt=nt+(h[o-e+b]-nt)*(a-p)/(h[o-e+g]-p),f.push(a),f.push(rt+v),u=2;u<e;++u)f.push(h[o+u]);w=v}c+=y}else{if(it&&k){o+=e;continue}for(u=0;u<e;++u)f.push(h[o+u]);k&&c>0&&l[c-y]!=null&&(w=v+(l[c-y+b]-v)*(p-a)/(l[c-y+g]-a));f[s+b]+=w;o+=e}it=!1;s!=f.length&&ut&&(f[s+2]+=w)}if(ft&&s!=f.length&&s>0&&f[s]!=null&&f[s]!=f[s-e]&&f[s+1]!=f[s-e+1]){for(u=0;u<e;++u)f[s+e+u]=f[s+u];f[s+1]=f[s-e+1]}}r.points=f}}n.hooks.processDatapoints.push(i)}n.plot.plugins.push({init:t,options:{series:{stack:null}},name:"stack",version:"1.2"})}(jQuery),function(n){function i(n,t){return t*Math.floor(n/t)}function r(n,t,i,r){var c,o,u;if(typeof n.strftime=="function")return n.strftime(t);var f=function(n,t){return n=""+n,t=""+(t==null?"0":t),n.length==1?t+n:n},s=[],h=!1,e=n.getHours(),l=e<12;for(i==null&&(i=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]),r==null&&(r=["Sun","Mon","Tue","Wed","Thu","Fri","Sat"]),c=e>12?e-12:e==0?12:e,o=0;o<t.length;++o)if(u=t.charAt(o),h){switch(u){case"a":u=""+r[n.getDay()];break;case"b":u=""+i[n.getMonth()];break;case"d":u=f(n.getDate());break;case"e":u=f(n.getDate()," ");break;case"h":case"H":u=f(e);break;case"I":u=f(c);break;case"l":u=f(c," ");break;case"m":u=f(n.getMonth()+1);break;case"M":u=f(n.getMinutes());break;case"q":u=""+(Math.floor(n.getMonth()/3)+1);break;case"S":u=f(n.getSeconds());break;case"y":u=f(n.getFullYear()%100);break;case"Y":u=""+n.getFullYear();break;case"p":u=l?"am":"pm";break;case"P":u=l?"AM":"PM";break;case"w":u=""+n.getDay()}s.push(u);h=!1}else u=="%"?h=!0:s.push(u);return s.join("")}function f(n){function u(n,t,i,r){n[t]=function(){return i[r].apply(i,arguments)}}var i={date:n},r,t;for(n.strftime!=undefined&&u(i,"strftime",n,"strftime"),u(i,"getTime",n,"getTime"),u(i,"setTime",n,"setTime"),r=["Date","Day","FullYear","Hours","Milliseconds","Minutes","Month","Seconds"],t=0;t<r.length;t++)u(i,"get"+r[t],n,"getUTC"+r[t]),u(i,"set"+r[t],n,"setUTC"+r[t]);return i}function u(n,t){if(t.timezone=="browser")return new Date(n);if(t.timezone&&t.timezone!="utc"){if(typeof timezoneJS!="undefined"&&typeof timezoneJS.Date!="undefined"){var i=new timezoneJS.Date;return i.setTimezone(t.timezone),i.setTime(n),i}return f(new Date(n))}return f(new Date(n))}function h(f){f.hooks.processOptions.push(function(f){n.each(f.getAxes(),function(n,f){var e=f.options;e.mode=="time"&&(f.tickGenerator=function(n){var k=[],r=u(n.min,e),d=0,l=e.tickSize&&e.tickSize[1]==="quarter"||e.minTickSize&&e.minTickSize[1]==="quarter"?s:o,c,y,f,w,p,h,a,b,v,g,nt,tt;for(e.minTickSize!=null&&(d=typeof e.tickSize=="number"?e.tickSize:e.minTickSize[0]*t[e.minTickSize[1]]),c=0;c<l.length-1;++c)if(n.delta<(l[c][0]*t[l[c][1]]+l[c+1][0]*t[l[c+1][1]])/2&&l[c][0]*t[l[c][1]]>=d)break;y=l[c][0];f=l[c][1];f=="year"&&(e.minTickSize!=null&&e.minTickSize[1]=="year"?y=Math.floor(e.minTickSize[0]):(w=Math.pow(10,Math.floor(Math.log(n.delta/t.year)/Math.LN10)),p=n.delta/t.year/w,y=(p<1.5?1:p<3?2:p<7.5?5:10)*w),y<1&&(y=1));n.tickSize=e.tickSize||[y,f];h=n.tickSize[0];f=n.tickSize[1];a=h*t[f];f=="second"?r.setSeconds(i(r.getSeconds(),h)):f=="minute"?r.setMinutes(i(r.getMinutes(),h)):f=="hour"?r.setHours(i(r.getHours(),h)):f=="month"?r.setMonth(i(r.getMonth(),h)):f=="quarter"?r.setMonth(3*i(r.getMonth()/3,h)):f=="year"&&r.setFullYear(i(r.getFullYear(),h));r.setMilliseconds(0);a>=t.minute&&r.setSeconds(0);a>=t.hour&&r.setMinutes(0);a>=t.day&&r.setHours(0);a>=t.day*4&&r.setDate(1);a>=t.month*2&&r.setMonth(i(r.getMonth(),3));a>=t.quarter*2&&r.setMonth(i(r.getMonth(),6));a>=t.year&&r.setMonth(0);b=0;v=Number.NaN;do g=v,v=r.getTime(),k.push(v),f=="month"||f=="quarter"?h<1?(r.setDate(1),nt=r.getTime(),r.setMonth(r.getMonth()+(f=="quarter"?3:1)),tt=r.getTime(),r.setTime(v+b*t.hour+(tt-nt)*h),b=r.getHours(),r.setHours(0)):r.setMonth(r.getMonth()+h*(f=="quarter"?3:1)):f=="year"?r.setFullYear(r.getFullYear()+h):r.setTime(v+a);while(v<n.max&&v!=g);return k},f.tickFormatter=function(n,i){var l=u(n,i.options);if(e.timeformat!=null)return r(l,e.timeformat,e.monthNames,e.dayNames);var o=i.options.tickSize&&i.options.tickSize[1]=="quarter"||i.options.minTickSize&&i.options.minTickSize[1]=="quarter",f=i.tickSize[0]*t[i.tickSize[1]],s=i.max-i.min,h=e.twelveHourClock?" %p":"",c=e.twelveHourClock?"%I":"%H",a;return a=f<t.minute?c+":%M:%S"+h:f<t.day?s<2*t.day?c+":%M"+h:"%b %d "+c+":%M"+h:f<t.month?"%b %d":o&&f<t.quarter||!o&&f<t.year?s<t.year?"%b":"%b %Y":o&&f<t.year?s<t.year?"Q%q":"Q%q %Y":"%Y",r(l,a,e.monthNames,e.dayNames)})})})}var t={second:1e3,minute:6e4,hour:36e5,day:864e5,month:2592e6,quarter:7776e6,year:365.2425*864e5},e=[[1,"second"],[2,"second"],[5,"second"],[10,"second"],[30,"second"],[1,"minute"],[2,"minute"],[5,"minute"],[10,"minute"],[30,"minute"],[1,"hour"],[2,"hour"],[4,"hour"],[8,"hour"],[12,"hour"],[1,"day"],[2,"day"],[3,"day"],[.25,"month"],[.5,"month"],[1,"month"],[2,"month"]],o=e.concat([[3,"month"],[6,"month"],[1,"year"]]),s=e.concat([[1,"quarter"],[2,"quarter"],[1,"year"]]);n.plot.plugins.push({init:h,options:{xaxis:{timezone:null,timeformat:null,twelveHourClock:!1,monthNames:null}},name:"time",version:"1.0"});n.plot.formatDate=r;n.plot.dateGenerator=u}(jQuery),function(){var n,i,u,f,e,o,t,s,r=[].slice,h={}.hasOwnProperty,c=function(n,t){function r(){this.constructor=n}for(var i in t)h.call(t,i)&&(n[i]=t[i]);return r.prototype=t.prototype,n.prototype=new r,n.__super__=t.prototype,n};t=function(){};i=function(){function n(){}return n.prototype.addEventListener=n.prototype.on,n.prototype.on=function(n,t){return this._callbacks=this._callbacks||{},this._callbacks[n]||(this._callbacks[n]=[]),this._callbacks[n].push(t),this},n.prototype.emit=function(){var i,u,t,f,n,e;if(f=arguments[0],i=2<=arguments.length?r.call(arguments,1):[],this._callbacks=this._callbacks||{},t=this._callbacks[f])for(n=0,e=t.length;e>n;n++)u=t[n],u.apply(this,i);return this},n.prototype.removeListener=n.prototype.off,n.prototype.removeAllListeners=n.prototype.off,n.prototype.removeEventListener=n.prototype.off,n.prototype.off=function(n,t){var f,i,r,u,e;if(!this._callbacks||0===arguments.length)return this._callbacks={},this;if(i=this._callbacks[n],!i)return this;if(1===arguments.length)return delete this._callbacks[n],this;for(r=u=0,e=i.length;e>u;r=++u)if(f=i[r],f===t){i.splice(r,1);break}return this},n}();n=function(n){function u(n,t){var r,i,e;if(this.element=n,this.version=u.version,this.defaultOptions.previewTemplate=this.defaultOptions.previewTemplate.replace(/\n*/g,""),this.clickableElements=[],this.listeners=[],this.files=[],"string"==typeof this.element&&(this.element=document.querySelector(this.element)),!this.element||null==this.element.nodeType)throw new Error("Invalid dropzone element.");if(this.element.dropzone)throw new Error("Dropzone already attached.");if(u.instances.push(this),this.element.dropzone=this,r=null!=(e=u.optionsForElement(this.element))?e:{},this.options=f({},this.defaultOptions,r,null!=t?t:{}),this.options.forceFallback||!u.isBrowserSupported())return this.options.fallback.call(this);if(null==this.options.url&&(this.options.url=this.element.getAttribute("action")),!this.options.url)throw new Error("No URL provided.");if(this.options.acceptedFiles&&this.options.acceptedMimeTypes)throw new Error("You can't provide both 'acceptedFiles' and 'acceptedMimeTypes'. 'acceptedMimeTypes' is deprecated.");this.options.acceptedMimeTypes&&(this.options.acceptedFiles=this.options.acceptedMimeTypes,delete this.options.acceptedMimeTypes);this.options.method=this.options.method.toUpperCase();(i=this.getExistingFallback())&&i.parentNode&&i.parentNode.removeChild(i);this.options.previewsContainer!==!1&&(this.previewsContainer=this.options.previewsContainer?u.getElement(this.options.previewsContainer,"previewsContainer"):this.element);this.options.clickable&&(this.clickableElements=this.options.clickable===!0?[this.element]:u.getElements(this.options.clickable,"clickable"));this.init()}var f,e;return c(u,n),u.prototype.Emitter=i,u.prototype.events=["drop","dragstart","dragend","dragenter","dragover","dragleave","addedfile","removedfile","thumbnail","error","errormultiple","processing","processingmultiple","uploadprogress","totaluploadprogress","sending","sendingmultiple","success","successmultiple","canceled","canceledmultiple","complete","completemultiple","reset","maxfilesexceeded","maxfilesreached","queuecomplete"],u.prototype.defaultOptions={url:null,method:"post",withCredentials:!1,parallelUploads:2,uploadMultiple:!1,maxFilesize:256,paramName:"file",createImageThumbnails:!0,maxThumbnailFilesize:10,thumbnailWidth:120,thumbnailHeight:120,filesizeBase:1e3,maxFiles:null,filesizeBase:1e3,params:{},clickable:!0,ignoreHiddenFiles:!0,acceptedFiles:null,acceptedMimeTypes:null,autoProcessQueue:!0,autoQueue:!0,addRemoveLinks:!1,previewsContainer:null,capture:null,dictDefaultMessage:"Drop files here to upload",dictFallbackMessage:"Your browser does not support drag'n'drop file uploads.",dictFallbackText:"Please use the fallback form below to upload your files like in the olden days.",dictFileTooBig:"File is too big ({{filesize}}MiB). Max filesize: {{maxFilesize}}MiB.",dictInvalidFileType:"You can't upload files of this type.",dictResponseError:"Server responded with {{statusCode}} code.",dictCancelUpload:"Cancel upload",dictCancelUploadConfirmation:"Are you sure you want to cancel this upload?",dictRemoveFile:"Remove file",dictRemoveFileConfirmation:null,dictMaxFilesExceeded:"You can not upload any more files.",accept:function(n,t){return t()},init:function(){return t},forceFallback:!1,fallback:function(){var t,n,r,i,e,f;for(this.element.className=""+this.element.className+" dz-browser-not-supported",f=this.element.getElementsByTagName("div"),i=0,e=f.length;e>i;i++)t=f[i],/(^| )dz-message($| )/.test(t.className)&&(n=t,t.className="dz-message");return n||(n=u.createElement('<div class="dz-message"><span><\/span><\/div>'),this.element.appendChild(n)),r=n.getElementsByTagName("span")[0],r&&(r.textContent=this.options.dictFallbackMessage),this.element.appendChild(this.getFallbackForm())},resize:function(n){var t,i,r;return t={srcX:0,srcY:0,srcWidth:n.width,srcHeight:n.height},i=n.width/n.height,t.optWidth=this.options.thumbnailWidth,t.optHeight=this.options.thumbnailHeight,null==t.optWidth&&null==t.optHeight?(t.optWidth=t.srcWidth,t.optHeight=t.srcHeight):null==t.optWidth?t.optWidth=i*t.optHeight:null==t.optHeight&&(t.optHeight=1/i*t.optWidth),r=t.optWidth/t.optHeight,n.height<t.optHeight||n.width<t.optWidth?(t.trgHeight=t.srcHeight,t.trgWidth=t.srcWidth):i>r?(t.srcHeight=n.height,t.srcWidth=t.srcHeight*r):(t.srcWidth=n.width,t.srcHeight=t.srcWidth/r),t.srcX=(n.width-t.srcWidth)/2,t.srcY=(n.height-t.srcHeight)/2,t},drop:function(){return this.element.classList.remove("dz-drag-hover")},dragstart:t,dragend:function(){return this.element.classList.remove("dz-drag-hover")},dragenter:function(){return this.element.classList.add("dz-drag-hover")},dragover:function(){return this.element.classList.add("dz-drag-hover")},dragleave:function(){return this.element.classList.remove("dz-drag-hover")},paste:t,reset:function(){return this.element.classList.remove("dz-started")},addedfile:function(n){var t,c,l,i,r,f,a,v,y,e,o,s,h;if(this.element===this.previewsContainer&&this.element.classList.add("dz-started"),this.previewsContainer){for(n.previewElement=u.createElement(this.options.previewTemplate.trim()),n.previewTemplate=n.previewElement,this.previewsContainer.appendChild(n.previewElement),e=n.previewElement.querySelectorAll("[data-dz-name]"),i=0,a=e.length;a>i;i++)t=e[i],t.textContent=n.name;for(o=n.previewElement.querySelectorAll("[data-dz-size]"),r=0,v=o.length;v>r;r++)t=o[r],t.innerHTML=this.filesize(n.size);for(this.options.addRemoveLinks&&(n._removeLink=u.createElement('<a class="dz-remove" href="javascript:undefined;" data-dz-remove>'+this.options.dictRemoveFile+"<\/a>"),n.previewElement.appendChild(n._removeLink)),c=function(t){return function(i){return i.preventDefault(),i.stopPropagation(),n.status===u.UPLOADING?u.confirm(t.options.dictCancelUploadConfirmation,function(){return t.removeFile(n)}):t.options.dictRemoveFileConfirmation?u.confirm(t.options.dictRemoveFileConfirmation,function(){return t.removeFile(n)}):t.removeFile(n)}}(this),s=n.previewElement.querySelectorAll("[data-dz-remove]"),h=[],f=0,y=s.length;y>f;f++)l=s[f],h.push(l.addEventListener("click",c));return h}},removedfile:function(n){var t;return n.previewElement&&null!=(t=n.previewElement)&&t.parentNode.removeChild(n.previewElement),this._updateMaxFilesReachedClass()},thumbnail:function(n,t){var r,i,f,u;if(n.previewElement){for(n.previewElement.classList.remove("dz-file-preview"),u=n.previewElement.querySelectorAll("[data-dz-thumbnail]"),i=0,f=u.length;f>i;i++)r=u[i],r.alt=n.name,r.src=t;return setTimeout(function(){return function(){return n.previewElement.classList.add("dz-image-preview")}}(this),1)}},error:function(n,t){var f,i,e,r,u;if(n.previewElement){for(n.previewElement.classList.add("dz-error"),"String"!=typeof t&&t.error&&(t=t.error),r=n.previewElement.querySelectorAll("[data-dz-errormessage]"),u=[],i=0,e=r.length;e>i;i++)f=r[i],u.push(f.textContent=t);return u}},errormultiple:t,processing:function(n){if(n.previewElement&&(n.previewElement.classList.add("dz-processing"),n._removeLink))return n._removeLink.textContent=this.options.dictCancelUpload},processingmultiple:t,uploadprogress:function(n,t){var i,r,e,u,f;if(n.previewElement){for(u=n.previewElement.querySelectorAll("[data-dz-uploadprogress]"),f=[],r=0,e=u.length;e>r;r++)i=u[r],f.push("PROGRESS"===i.nodeName?i.value=t:i.style.width=""+t+"%");return f}},totaluploadprogress:t,sending:t,sendingmultiple:t,success:function(n){if(n.previewElement)return n.previewElement.classList.add("dz-success")},successmultiple:t,canceled:function(n){return this.emit("error",n,"Upload canceled.")},canceledmultiple:t,complete:function(n){return n._removeLink&&(n._removeLink.textContent=this.options.dictRemoveFile),n.previewElement?n.previewElement.classList.add("dz-complete"):void 0},completemultiple:t,maxfilesexceeded:t,maxfilesreached:t,queuecomplete:t,previewTemplate:'<div class="dz-preview dz-file-preview">\n  <div class="dz-image"><img data-dz-thumbnail /><\/div>\n  <div class="dz-details">\n    <div class="dz-size"><span data-dz-size><\/span><\/div>\n    <div class="dz-filename"><span data-dz-name><\/span><\/div>\n  <\/div>\n  <div class="dz-progress"><span class="dz-upload" data-dz-uploadprogress><\/span><\/div>\n  <div class="dz-error-message"><span data-dz-errormessage><\/span><\/div>\n  <div class="dz-success-mark">\n    <svg width="54px" height="54px" viewBox="0 0 54 54" version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" xmlns:sketch="http://www.bohemiancoding.com/sketch/ns">\n      <title>Check<\/title>\n      <defs><\/defs>\n      <g id="Page-1" stroke="none" stroke-width="1" fill="none" fill-rule="evenodd" sketch:type="MSPage">\n        <path d="M23.5,31.8431458 L17.5852419,25.9283877 C16.0248253,24.3679711 13.4910294,24.366835 11.9289322,25.9289322 C10.3700136,27.4878508 10.3665912,30.0234455 11.9283877,31.5852419 L20.4147581,40.0716123 C20.5133999,40.1702541 20.6159315,40.2626649 20.7218615,40.3488435 C22.2835669,41.8725651 24.794234,41.8626202 26.3461564,40.3106978 L43.3106978,23.3461564 C44.8771021,21.7797521 44.8758057,19.2483887 43.3137085,17.6862915 C41.7547899,16.1273729 39.2176035,16.1255422 37.6538436,17.6893022 L23.5,31.8431458 Z M27,53 C41.3594035,53 53,41.3594035 53,27 C53,12.6405965 41.3594035,1 27,1 C12.6405965,1 1,12.6405965 1,27 C1,41.3594035 12.6405965,53 27,53 Z" id="Oval-2" stroke-opacity="0.198794158" stroke="#747474" fill-opacity="0.816519475" fill="#FFFFFF" sketch:type="MSShapeGroup"><\/path>\n      <\/g>\n    <\/svg>\n  <\/div>\n  <div class="dz-error-mark">\n    <svg width="54px" height="54px" viewBox="0 0 54 54" version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" xmlns:sketch="http://www.bohemiancoding.com/sketch/ns">\n      <title>Error<\/title>\n      <defs><\/defs>\n      <g id="Page-1" stroke="none" stroke-width="1" fill="none" fill-rule="evenodd" sketch:type="MSPage">\n        <g id="Check-+-Oval-2" sketch:type="MSLayerGroup" stroke="#747474" stroke-opacity="0.198794158" fill="#FFFFFF" fill-opacity="0.816519475">\n          <path d="M32.6568542,29 L38.3106978,23.3461564 C39.8771021,21.7797521 39.8758057,19.2483887 38.3137085,17.6862915 C36.7547899,16.1273729 34.2176035,16.1255422 32.6538436,17.6893022 L27,23.3431458 L21.3461564,17.6893022 C19.7823965,16.1255422 17.2452101,16.1273729 15.6862915,17.6862915 C14.1241943,19.2483887 14.1228979,21.7797521 15.6893022,23.3461564 L21.3431458,29 L15.6893022,34.6538436 C14.1228979,36.2202479 14.1241943,38.7516113 15.6862915,40.3137085 C17.2452101,41.8726271 19.7823965,41.8744578 21.3461564,40.3106978 L27,34.6568542 L32.6538436,40.3106978 C34.2176035,41.8744578 36.7547899,41.8726271 38.3137085,40.3137085 C39.8758057,38.7516113 39.8771021,36.2202479 38.3106978,34.6538436 L32.6568542,29 Z M27,53 C41.3594035,53 53,41.3594035 53,27 C53,12.6405965 41.3594035,1 27,1 C12.6405965,1 1,12.6405965 1,27 C1,41.3594035 12.6405965,53 27,53 Z" id="Oval-2" sketch:type="MSShapeGroup"><\/path>\n        <\/g>\n      <\/g>\n    <\/svg>\n  <\/div>\n<\/div>'},f=function(){var t,i,u,f,e,n,o;for(f=arguments[0],u=2<=arguments.length?r.call(arguments,1):[],n=0,o=u.length;o>n;n++){i=u[n];for(t in i)e=i[t],f[t]=e}return f},u.prototype.getAcceptedFiles=function(){var t,n,u,i,r;for(i=this.files,r=[],n=0,u=i.length;u>n;n++)t=i[n],t.accepted&&r.push(t);return r},u.prototype.getRejectedFiles=function(){var t,n,u,i,r;for(i=this.files,r=[],n=0,u=i.length;u>n;n++)t=i[n],t.accepted||r.push(t);return r},u.prototype.getFilesWithStatus=function(n){var i,t,f,r,u;for(r=this.files,u=[],t=0,f=r.length;f>t;t++)i=r[t],i.status===n&&u.push(i);return u},u.prototype.getQueuedFiles=function(){return this.getFilesWithStatus(u.QUEUED)},u.prototype.getUploadingFiles=function(){return this.getFilesWithStatus(u.UPLOADING)},u.prototype.getActiveFiles=function(){var n,t,f,i,r;for(i=this.files,r=[],t=0,f=i.length;f>t;t++)n=i[t],(n.status===u.UPLOADING||n.status===u.QUEUED)&&r.push(n);return r},u.prototype.init=function(){var i,n,f,t,e,o,r;for("form"===this.element.tagName&&this.element.setAttribute("enctype","multipart/form-data"),this.element.classList.contains("dropzone")&&!this.element.querySelector(".dz-message")&&this.element.appendChild(u.createElement('<div class="dz-default dz-message"><span>'+this.options.dictDefaultMessage+"<\/span><\/div>")),this.clickableElements.length&&(f=function(n){return function(){return n.hiddenFileInput&&document.body.removeChild(n.hiddenFileInput),n.hiddenFileInput=document.createElement("input"),n.hiddenFileInput.setAttribute("type","file"),(null==n.options.maxFiles||n.options.maxFiles>1)&&n.hiddenFileInput.setAttribute("multiple","multiple"),n.hiddenFileInput.className="dz-hidden-input",null!=n.options.acceptedFiles&&n.hiddenFileInput.setAttribute("accept",n.options.acceptedFiles),null!=n.options.capture&&n.hiddenFileInput.setAttribute("capture",n.options.capture),n.hiddenFileInput.style.visibility="hidden",n.hiddenFileInput.style.position="absolute",n.hiddenFileInput.style.top="0",n.hiddenFileInput.style.left="0",n.hiddenFileInput.style.height="0",n.hiddenFileInput.style.width="0",document.body.appendChild(n.hiddenFileInput),n.hiddenFileInput.addEventListener("change",function(){var r,t,i,u;if(t=n.hiddenFileInput.files,t.length)for(i=0,u=t.length;u>i;i++)r=t[i],n.addFile(r);return f()})}}(this))(),this.URL=null!=(o=window.URL)?o:window.webkitURL,r=this.events,t=0,e=r.length;e>t;t++)i=r[t],this.on(i,this.options[i]);return this.on("uploadprogress",function(n){return function(){return n.updateTotalUploadProgress()}}(this)),this.on("removedfile",function(n){return function(){return n.updateTotalUploadProgress()}}(this)),this.on("canceled",function(n){return function(t){return n.emit("complete",t)}}(this)),this.on("complete",function(n){return function(){if(0===n.getUploadingFiles().length&&0===n.getQueuedFiles().length)return setTimeout(function(){return n.emit("queuecomplete")},0)}}(this)),n=function(n){return n.stopPropagation(),n.preventDefault?n.preventDefault():n.returnValue=!1},this.listeners=[{element:this.element,events:{dragstart:function(n){return function(t){return n.emit("dragstart",t)}}(this),dragenter:function(t){return function(i){return n(i),t.emit("dragenter",i)}}(this),dragover:function(t){return function(i){var r;try{r=i.dataTransfer.effectAllowed}catch(u){}return i.dataTransfer.dropEffect="move"===r||"linkMove"===r?"move":"copy",n(i),t.emit("dragover",i)}}(this),dragleave:function(n){return function(t){return n.emit("dragleave",t)}}(this),drop:function(t){return function(i){return n(i),t.drop(i)}}(this),dragend:function(n){return function(t){return n.emit("dragend",t)}}(this)}}],this.clickableElements.forEach(function(n){return function(t){return n.listeners.push({element:t,events:{click:function(i){if(t!==n.element||i.target===n.element||u.elementInside(i.target,n.element.querySelector(".dz-message")))return n.hiddenFileInput.click()}}})}}(this)),this.enable(),this.options.init.call(this)},u.prototype.destroy=function(){var n;return this.disable(),this.removeAllFiles(!0),(null!=(n=this.hiddenFileInput)?n.parentNode:void 0)&&(this.hiddenFileInput.parentNode.removeChild(this.hiddenFileInput),this.hiddenFileInput=null),delete this.element.dropzone,u.instances.splice(u.instances.indexOf(this),1)},u.prototype.updateTotalUploadProgress=function(){var e,r,n,t,u,i,o,f;if(t=0,n=0,e=this.getActiveFiles(),e.length){for(f=this.getActiveFiles(),i=0,o=f.length;o>i;i++)r=f[i],t+=r.upload.bytesSent,n+=r.upload.total;u=100*t/n}else u=100;return this.emit("totaluploadprogress",u,n,t)},u.prototype._getParamName=function(n){return"function"==typeof this.options.paramName?this.options.paramName(n):""+this.options.paramName+(this.options.uploadMultiple?"["+n+"]":"")},u.prototype.getFallbackForm=function(){var r,i,n,t;return(r=this.getExistingFallback())?r:(n='<div class="dz-fallback">',this.options.dictFallbackText&&(n+="<p>"+this.options.dictFallbackText+"<\/p>"),n+='<input type="file" name="'+this._getParamName(0)+'" '+(this.options.uploadMultiple?'multiple="multiple"':void 0)+' /><input type="submit" value="Upload!"><\/div>',i=u.createElement(n),"FORM"!==this.element.tagName?(t=u.createElement('<form action="'+this.options.url+'" enctype="multipart/form-data" method="'+this.options.method+'"><\/form>'),t.appendChild(i)):(this.element.setAttribute("enctype","multipart/form-data"),this.element.setAttribute("method",this.options.method)),null!=t?t:i)},u.prototype.getExistingFallback=function(){var i,r,u,n,f,t;for(r=function(n){for(var i,t=0,r=n.length;r>t;t++)if(i=n[t],/(^| )fallback($| )/.test(i.className))return i},t=["div","form"],n=0,f=t.length;f>n;n++)if(u=t[n],i=r(this.element.getElementsByTagName(u)))return i},u.prototype.setupEventListeners=function(){var t,i,f,n,e,r,u;for(r=this.listeners,u=[],n=0,e=r.length;e>n;n++)t=r[n],u.push(function(){var n,r;n=t.events;r=[];for(i in n)f=n[i],r.push(t.element.addEventListener(i,f,!1));return r}());return u},u.prototype.removeEventListeners=function(){var t,i,f,n,e,r,u;for(r=this.listeners,u=[],n=0,e=r.length;e>n;n++)t=r[n],u.push(function(){var n,r;n=t.events;r=[];for(i in n)f=n[i],r.push(t.element.removeEventListener(i,f,!1));return r}());return u},u.prototype.disable=function(){var r,n,u,t,i;for(this.clickableElements.forEach(function(n){return n.classList.remove("dz-clickable")}),this.removeEventListeners(),t=this.files,i=[],n=0,u=t.length;u>n;n++)r=t[n],i.push(this.cancelUpload(r));return i},u.prototype.enable=function(){return this.clickableElements.forEach(function(n){return n.classList.add("dz-clickable")}),this.setupEventListeners()},u.prototype.filesize=function(n){var e,t,i,r,o,u,f,s;for(u=["TB","GB","MB","KB","b"],i=r=null,t=f=0,s=u.length;s>f;t=++f)if(o=u[t],e=Math.pow(this.options.filesizeBase,4-t)/10,n>=e){i=n/Math.pow(this.options.filesizeBase,4-t);r=o;break}return i=Math.round(10*i)/10,"<strong>"+i+"<\/strong> "+r},u.prototype._updateMaxFilesReachedClass=function(){return null!=this.options.maxFiles&&this.getAcceptedFiles().length>=this.options.maxFiles?(this.getAcceptedFiles().length===this.options.maxFiles&&this.emit("maxfilesreached",this.files),this.element.classList.add("dz-max-files-reached")):this.element.classList.remove("dz-max-files-reached")},u.prototype.drop=function(n){var i,t;n.dataTransfer&&(this.emit("drop",n),i=n.dataTransfer.files,i.length&&(t=n.dataTransfer.items,t&&t.length&&null!=t[0].webkitGetAsEntry?this._addFilesFromItems(t):this.handleFiles(i)))},u.prototype.paste=function(n){var t,i;if(null!=(null!=n&&null!=(i=n.clipboardData)?i.items:void 0))return this.emit("paste",n),t=n.clipboardData.items,t.length?this._addFilesFromItems(t):void 0},u.prototype.handleFiles=function(n){var r,t,u,i;for(i=[],t=0,u=n.length;u>t;t++)r=n[t],i.push(this.addFile(r));return i},u.prototype._addFilesFromItems=function(n){var i,t,r,f,u;for(u=[],r=0,f=n.length;f>r;r++)t=n[r],u.push(null!=t.webkitGetAsEntry&&(i=t.webkitGetAsEntry())?i.isFile?this.addFile(t.getAsFile()):i.isDirectory?this._addFilesFromDirectory(i,i.name):void 0:null!=t.getAsFile?null==t.kind||"file"===t.kind?this.addFile(t.getAsFile()):void 0:void 0);return u},u.prototype._addFilesFromDirectory=function(n,t){var i,r;return i=n.createReader(),r=function(n){return function(i){for(var r,u=0,f=i.length;f>u;u++)r=i[u],r.isFile?r.file(function(i){if(!n.options.ignoreHiddenFiles||"."!==i.name.substring(0,1))return(i.fullPath=""+t+"/"+i.name,n.addFile(i))}):r.isDirectory&&n._addFilesFromDirectory(r,""+t+"/"+r.name)}}(this),i.readEntries(r,function(n){if("undefined"!=typeof console&&null!==console&&"function"==typeof console.log)return console.log(n)})},u.prototype.accept=function(n,t){return n.size>1048576*this.options.maxFilesize?t(this.options.dictFileTooBig.replace("{{filesize}}",Math.round(n.size/1024/10.24)/100).replace("{{maxFilesize}}",this.options.maxFilesize)):u.isValidFile(n,this.options.acceptedFiles)?null!=this.options.maxFiles&&this.getAcceptedFiles().length>=this.options.maxFiles?(t(this.options.dictMaxFilesExceeded.replace("{{maxFiles}}",this.options.maxFiles)),this.emit("maxfilesexceeded",n)):this.options.accept.call(this,n,t):t(this.options.dictInvalidFileType)},u.prototype.addFile=function(n){return n.upload={progress:0,total:n.size,bytesSent:0},this.files.push(n),n.status=u.ADDED,this.emit("addedfile",n),this._enqueueThumbnail(n),this.accept(n,function(t){return function(i){return i?(n.accepted=!1,t._errorProcessing([n],i)):(n.accepted=!0,t.options.autoQueue&&t.enqueueFile(n)),t._updateMaxFilesReachedClass()}}(this))},u.prototype.enqueueFiles=function(n){for(var i,t=0,r=n.length;r>t;t++)i=n[t],this.enqueueFile(i);return null},u.prototype.enqueueFile=function(n){if(n.status!==u.ADDED||n.accepted!==!0)throw new Error("This file can't be queued because it has already been processed or was rejected.");return n.status=u.QUEUED,this.options.autoProcessQueue?setTimeout(function(n){return function(){return n.processQueue()}}(this),0):void 0},u.prototype._thumbnailQueue=[],u.prototype._processingThumbnail=!1,u.prototype._enqueueThumbnail=function(n){if(this.options.createImageThumbnails&&n.type.match(/image.*/)&&n.size<=1048576*this.options.maxThumbnailFilesize)return(this._thumbnailQueue.push(n),setTimeout(function(n){return function(){return n._processThumbnailQueue()}}(this),0))},u.prototype._processThumbnailQueue=function(){if(!this._processingThumbnail&&0!==this._thumbnailQueue.length)return(this._processingThumbnail=!0,this.createThumbnail(this._thumbnailQueue.shift(),function(n){return function(){return n._processingThumbnail=!1,n._processThumbnailQueue()}}(this)))},u.prototype.removeFile=function(n){return n.status===u.UPLOADING&&this.cancelUpload(n),this.files=s(this.files,n),this.emit("removedfile",n),0===this.files.length?this.emit("reset"):void 0},u.prototype.removeAllFiles=function(n){var i,t,f,r;for(null==n&&(n=!1),r=this.files.slice(),t=0,f=r.length;f>t;t++)i=r[t],(i.status!==u.UPLOADING||n)&&this.removeFile(i);return null},u.prototype.createThumbnail=function(n,t){var i;return i=new FileReader,i.onload=function(r){return function(){var u;return"image/svg+xml"===n.type?(r.emit("thumbnail",n,i.result),void(null!=t&&t())):(u=document.createElement("img"),u.onload=function(){var f,e,i,s,h,c,l,a;return n.width=u.width,n.height=u.height,i=r.options.resize.call(r,n),null==i.trgWidth&&(i.trgWidth=i.optWidth),null==i.trgHeight&&(i.trgHeight=i.optHeight),f=document.createElement("canvas"),e=f.getContext("2d"),f.width=i.trgWidth,f.height=i.trgHeight,o(e,u,null!=(h=i.srcX)?h:0,null!=(c=i.srcY)?c:0,i.srcWidth,i.srcHeight,null!=(l=i.trgX)?l:0,null!=(a=i.trgY)?a:0,i.trgWidth,i.trgHeight),s=f.toDataURL("image/png"),r.emit("thumbnail",n,s),null!=t?t():void 0},u.onerror=t,u.src=i.result)}}(this),i.readAsDataURL(n)},u.prototype.processQueue=function(){var r,t,i,n;if(t=this.options.parallelUploads,i=this.getUploadingFiles().length,r=i,!(i>=t)&&(n=this.getQueuedFiles(),n.length>0)){if(this.options.uploadMultiple)return this.processFiles(n.slice(0,t-i));for(;t>r;){if(!n.length)return;this.processFile(n.shift());r++}}},u.prototype.processFile=function(n){return this.processFiles([n])},u.prototype.processFiles=function(n){for(var t,i=0,r=n.length;r>i;i++)t=n[i],t.processing=!0,t.status=u.UPLOADING,this.emit("processing",t);return this.options.uploadMultiple&&this.emit("processingmultiple",n),this.uploadFiles(n)},u.prototype._getFilesWithXhr=function(n){var t;return function(){var i,f,r,u;for(r=this.files,u=[],i=0,f=r.length;f>i;i++)t=r[i],t.xhr===n&&u.push(t);return u}.call(this)},u.prototype.cancelUpload=function(n){var i,t,r,f,e,o,s;if(n.status===u.UPLOADING){for(t=this._getFilesWithXhr(n.xhr),r=0,e=t.length;e>r;r++)i=t[r],i.status=u.CANCELED;for(n.xhr.abort(),f=0,o=t.length;o>f;f++)i=t[f],this.emit("canceled",i);this.options.uploadMultiple&&this.emit("canceledmultiple",t)}else((s=n.status)===u.ADDED||s===u.QUEUED)&&(n.status=u.CANCELED,this.emit("canceled",n),this.options.uploadMultiple&&this.emit("canceledmultiple",[n]));if(this.options.autoProcessQueue)return this.processQueue()},e=function(){var t,n;return n=arguments[0],t=2<=arguments.length?r.call(arguments,1):[],"function"==typeof n?n.apply(this,t):n},u.prototype.uploadFile=function(n){return this.uploadFiles([n])},u.prototype.uploadFiles=function(n){var i,r,b,k,et,a,h,o,d,g,nt,ot,tt,st,s,it,ht,ct,t,v,y,p,w,lt,at,vt,yt,c,pt,rt,ut,ft,wt,l;for(t=new XMLHttpRequest,v=0,lt=n.length;lt>v;v++)i=n[v],i.xhr=t;ot=e(this.options.method,n);ht=e(this.options.url,n);t.open(ot,ht,!0);t.withCredentials=!!this.options.withCredentials;s=null;b=function(r){return function(){var u,e,f;for(f=[],u=0,e=n.length;e>u;u++)i=n[u],f.push(r._errorProcessing(n,s||r.options.dictResponseError.replace("{{statusCode}}",t.status),t));return f}}(this);it=function(t){return function(r){var s,u,f,e,o,c,l,a,h;if(null!=r)for(u=100*r.loaded/r.total,f=0,c=n.length;c>f;f++)i=n[f],i.upload={progress:u,total:r.total,bytesSent:r.loaded};else{for(s=!0,u=100,e=0,l=n.length;l>e;e++)i=n[e],(100!==i.upload.progress||i.upload.bytesSent!==i.upload.total)&&(s=!1),i.upload.progress=u,i.upload.bytesSent=i.upload.total;if(s)return}for(h=[],o=0,a=n.length;a>o;o++)i=n[o],h.push(t.emit("uploadprogress",i,u,i.upload.bytesSent));return h}}(this);t.onload=function(i){return function(r){var f;if(n[0].status!==u.CANCELED&&4===t.readyState){if(s=t.responseText,t.getResponseHeader("content-type")&&~t.getResponseHeader("content-type").indexOf("application/json"))try{s=JSON.parse(s)}catch(e){r=e;s="Invalid JSON response from server."}return it(),200<=(f=t.status)&&300>f?i._finished(n,s,r):b()}}}(this);t.onerror=function(){return function(){if(n[0].status!==u.CANCELED)return b()}}(this);st=null!=(pt=t.upload)?pt:t;st.onprogress=it;a={Accept:"application/json","Cache-Control":"no-cache","X-Requested-With":"XMLHttpRequest"};this.options.headers&&f(a,this.options.headers);for(k in a)et=a[k],t.setRequestHeader(k,et);if(r=new FormData,this.options.params){rt=this.options.params;for(nt in rt)ct=rt[nt],r.append(nt,ct)}for(y=0,at=n.length;at>y;y++)i=n[y],this.emit("sending",i,t,r);if(this.options.uploadMultiple&&this.emit("sendingmultiple",n,t,r),"FORM"===this.element.tagName)for(ut=this.element.querySelectorAll("input, textarea, select, button"),p=0,vt=ut.length;vt>p;p++)if(o=ut[p],d=o.getAttribute("name"),g=o.getAttribute("type"),"SELECT"===o.tagName&&o.hasAttribute("multiple"))for(ft=o.options,w=0,yt=ft.length;yt>w;w++)tt=ft[w],tt.selected&&r.append(d,tt.value);else(!g||"checkbox"!==(wt=g.toLowerCase())&&"radio"!==wt||o.checked)&&r.append(d,o.value);for(h=c=0,l=n.length-1;l>=0?l>=c:c>=l;h=l>=0?++c:--c)r.append(this._getParamName(h),n[h],n[h].name);return t.send(r)},u.prototype._finished=function(n,t,i){for(var r,f=0,e=n.length;e>f;f++)r=n[f],r.status=u.SUCCESS,this.emit("success",r,t,i),this.emit("complete",r);return this.options.uploadMultiple&&(this.emit("successmultiple",n,t,i),this.emit("completemultiple",n)),this.options.autoProcessQueue?this.processQueue():void 0},u.prototype._errorProcessing=function(n,t,i){for(var r,f=0,e=n.length;e>f;f++)r=n[f],r.status=u.ERROR,this.emit("error",r,t,i),this.emit("complete",r);return this.options.uploadMultiple&&(this.emit("errormultiple",n,t,i),this.emit("completemultiple",n)),this.options.autoProcessQueue?this.processQueue():void 0},u}(i);n.version="4.0.1";n.options={};n.optionsForElement=function(t){if(t.getAttribute("id"))return n.options[u(t.getAttribute("id"))]};n.instances=[];n.forElement=function(n){if("string"==typeof n&&(n=document.querySelector(n)),null==(null!=n?n.dropzone:void 0))throw new Error("No Dropzone found for given element. This is probably because you're trying to access it before Dropzone had the time to initialize. Use the `init` option to setup any additional observers on your Dropzone.");return n.dropzone};n.autoDiscover=!0;n.discover=function(){var r,u,t,i,e,f;for(document.querySelectorAll?t=document.querySelectorAll(".dropzone"):(t=[],r=function(n){var r,i,f,u;for(u=[],i=0,f=n.length;f>i;i++)r=n[i],u.push(/(^| )dropzone($| )/.test(r.className)?t.push(r):void 0);return u},r(document.getElementsByTagName("div")),r(document.getElementsByTagName("form"))),f=[],i=0,e=t.length;e>i;i++)u=t[i],f.push(n.optionsForElement(u)!==!1?new n(u):void 0);return f};n.blacklistedBrowsers=[/opera.*Macintosh.*version\/12/i];n.isBrowserSupported=function(){var t,u,i,f,r;if(t=!0,window.File&&window.FileReader&&window.FileList&&window.Blob&&window.FormData&&document.querySelector)if("classList"in document.createElement("a"))for(r=n.blacklistedBrowsers,i=0,f=r.length;f>i;i++)u=r[i],u.test(navigator.userAgent)&&(t=!1);else t=!1;else t=!1;return t};s=function(n,t){var r,i,f,u;for(u=[],i=0,f=n.length;f>i;i++)r=n[i],r!==t&&u.push(r);return u};u=function(n){return n.replace(/[\-_](\w)/g,function(n){return n.charAt(1).toUpperCase()})};n.createElement=function(n){var t;return t=document.createElement("div"),t.innerHTML=n,t.childNodes[0]};n.elementInside=function(n,t){if(n===t)return!0;for(;n=n.parentNode;)if(n===t)return!0;return!1};n.getElement=function(n,t){var i;if("string"==typeof n?i=document.querySelector(n):null!=n.nodeType&&(i=n),null==i)throw new Error("Invalid `"+t+"` option provided. Please provide a CSS selector or a plain HTML element.");return i};n.getElements=function(n,t){var h,r,i,u,f,o,s,e;if(n instanceof Array){i=[];try{for(u=0,o=n.length;o>u;u++)r=n[u],i.push(this.getElement(r,t))}catch(c){h=c;i=null}}else if("string"==typeof n)for(i=[],e=document.querySelectorAll(n),f=0,s=e.length;s>f;f++)r=e[f],i.push(r);else null!=n.nodeType&&(i=[n]);if(null==i||!i.length)throw new Error("Invalid `"+t+"` option provided. Please provide a CSS selector, a plain HTML element or a list of those.");return i};n.confirm=function(n,t,i){return window.confirm(n)?t():null!=i?i():void 0};n.isValidFile=function(n,t){var f,u,i,r,e;if(!t)return!0;for(t=t.split(","),u=n.type,f=u.replace(/\/.*$/,""),r=0,e=t.length;e>r;r++)if(i=t[r],i=i.trim(),"."===i.charAt(0)){if(-1!==n.name.toLowerCase().indexOf(i.toLowerCase(),n.name.length-i.length))return!0}else if(/\/\*$/.test(i)){if(f===i.replace(/\/.*$/,""))return!0}else if(u===i)return!0;return!1};"undefined"!=typeof jQuery&&null!==jQuery&&(jQuery.fn.dropzone=function(t){return this.each(function(){return new n(this,t)})});"undefined"!=typeof module&&null!==module?module.exports=n:window.Dropzone=n;n.ADDED="added";n.QUEUED="queued";n.ACCEPTED=n.QUEUED;n.UPLOADING="uploading";n.PROCESSING=n.UPLOADING;n.CANCELED="canceled";n.ERROR="error";n.SUCCESS="success";e=function(n){var s,r,f,h,e,i,c,t,o,u;for(c=n.naturalWidth,i=n.naturalHeight,r=document.createElement("canvas"),r.width=1,r.height=i,f=r.getContext("2d"),f.drawImage(n,0,0),h=f.getImageData(0,0,1,i).data,u=0,e=i,t=i;t>u;)s=h[4*(t-1)+3],0===s?e=t:u=t,t=e+u>>1;return o=t/i,0===o?1:o};o=function(n,t,i,r,u,f,o,s,h,c){var l;return l=e(t),n.drawImage(t,i,r,u,f,o,s,h,c/l)};f=function(n,t){var f,i,e,r,o,u,c,s,h;if(e=!1,h=!0,i=n.document,s=i.documentElement,f=i.addEventListener?"addEventListener":"attachEvent",c=i.addEventListener?"removeEventListener":"detachEvent",u=i.addEventListener?"":"on",r=function(f){if("readystatechange"!==f.type||"complete"===i.readyState)return(("load"===f.type?n:i)[c](u+f.type,r,!1),!e&&(e=!0)?t.call(n,f.type||f):void 0)},o=function(){var n;try{s.doScroll("left")}catch(t){return n=t,void setTimeout(o,50)}return r("poll")},"complete"!==i.readyState){if(i.createEventObject&&s.doScroll){try{h=!n.frameElement}catch(l){}h&&o()}return i[f](u+"DOMContentLoaded",r,!1),i[f](u+"readystatechange",r,!1),n[f](u+"load",r,!1)}};n._autoDiscoverFunction=function(){if(n.autoDiscover)return n.discover()};f(window,n._autoDiscoverFunction)}.call(this);!function(n,t){function u(){return new Date(Date.UTC.apply(Date,arguments))}function e(){var n=new Date;return u(n.getFullYear(),n.getMonth(),n.getDate())}function y(n,t){return n.getUTCFullYear()===t.getUTCFullYear()&&n.getUTCMonth()===t.getUTCMonth()&&n.getUTCDate()===t.getUTCDate()}function c(n){return function(){return this[n].apply(this,arguments)}}function p(t,i){function o(n,t){return t.toLowerCase()}var u,f=n(t).data(),e={},s=new RegExp("^"+i.toLowerCase()+"([A-Z])"),r;i=new RegExp("^"+i.toLowerCase());for(r in f)i.test(r)&&(u=r.replace(s,o),e[u]=f[r]);return e}function w(t){var u={},i;if(r[t]||(t=t.split("-")[0],r[t]))return i=r[t],n.each(v,function(n,t){t in i&&(u[t]=i[t])}),u}var l=function(){var t={get:function(n){return this.slice(n)[0]},contains:function(n){for(var i=n&&n.valueOf(),t=0,r=this.length;r>t;t++)if(this[t].valueOf()===i)return t;return-1},remove:function(n){this.splice(n,1)},replace:function(t){t&&(n.isArray(t)||(t=[t]),this.clear(),this.push.apply(this,t))},clear:function(){this.length=0},copy:function(){var n=new l;return n.replace(this),n}};return function(){var i=[];return i.push.apply(i,arguments),n.extend(i,t),i}}(),f=function(t,r){this._process_options(r);this.dates=new l;this.viewDate=this.o.defaultViewDate;this.focusDate=null;this.element=n(t);this.isInline=!1;this.isInput=this.element.is("input");this.component=this.element.hasClass("date")?this.element.find(".add-on, .input-group-addon, .btn"):!1;this.hasInput=this.component&&this.element.find("input").length;this.component&&0===this.component.length&&(this.component=!1);this.picker=n(i.template);this._buildEvents();this._attachEvents();this.isInline?this.picker.addClass("datepicker-inline").appendTo(this.element):this.picker.addClass("datepicker-dropdown dropdown-menu");this.o.rtl&&this.picker.addClass("datepicker-rtl");this.viewMode=this.o.startView;this.o.calendarWeeks&&this.picker.find("tfoot .today, tfoot .clear").attr("colspan",function(n,t){return parseInt(t)+1});this._allow_update=!1;this.setStartDate(this._o.startDate);this.setEndDate(this._o.endDate);this.setDaysOfWeekDisabled(this.o.daysOfWeekDisabled);this.setDatesDisabled(this.o.datesDisabled);this.fillDow();this.fillMonths();this._allow_update=!0;this.update();this.showMode();this.isInline&&this.show()},h,a,o,s,v,r,i;f.prototype={constructor:f,_process_options:function(f){var o,c,a,v,h,l;this._o=n.extend({},this._o,f);o=this.o=n.extend({},this._o);c=o.language;switch(r[c]||(c=c.split("-")[0],r[c]||(c=s.language)),o.language=c,o.startView){case 2:case"decade":o.startView=2;break;case 1:case"year":o.startView=1;break;default:o.startView=0}switch(o.minViewMode){case 1:case"months":o.minViewMode=1;break;case 2:case"years":o.minViewMode=2;break;default:o.minViewMode=0}if(o.startView=Math.max(o.startView,o.minViewMode),o.multidate!==!0&&(o.multidate=Number(o.multidate)||!1,o.multidate!==!1&&(o.multidate=Math.max(0,o.multidate))),o.multidateSeparator=String(o.multidateSeparator),o.weekStart%=7,o.weekEnd=(o.weekStart+6)%7,a=i.parseFormat(o.format),(o.startDate!==-1/0&&(o.startDate=o.startDate?o.startDate instanceof Date?this._local_to_utc(this._zero_time(o.startDate)):i.parseDate(o.startDate,a,o.language):-1/0),1/0!==o.endDate&&(o.endDate=o.endDate?o.endDate instanceof Date?this._local_to_utc(this._zero_time(o.endDate)):i.parseDate(o.endDate,a,o.language):1/0),o.daysOfWeekDisabled=o.daysOfWeekDisabled||[],n.isArray(o.daysOfWeekDisabled)||(o.daysOfWeekDisabled=o.daysOfWeekDisabled.split(/[,\s]*/)),o.daysOfWeekDisabled=n.map(o.daysOfWeekDisabled,function(n){return parseInt(n,10)}),o.datesDisabled=o.datesDisabled||[],n.isArray(o.datesDisabled))||(v=[],v.push(i.parseDate(o.datesDisabled,a,o.language)),o.datesDisabled=v),o.datesDisabled=n.map(o.datesDisabled,function(n){return i.parseDate(n,a,o.language)}),h=String(o.orientation).toLowerCase().split(/\s+/g),l=o.orientation.toLowerCase(),h=n.grep(h,function(n){return/^auto|left|right|top|bottom$/.test(n)}),o.orientation={x:"auto",y:"auto"},l&&"auto"!==l)if(1===h.length)switch(h[0]){case"top":case"bottom":o.orientation.y=h[0];break;case"left":case"right":o.orientation.x=h[0]}else l=n.grep(h,function(n){return/^left|right$/.test(n)}),o.orientation.x=l[0]||"auto",l=n.grep(h,function(n){return/^top|bottom$/.test(n)}),o.orientation.y=l[0]||"auto";if(o.defaultViewDate){var y=o.defaultViewDate.year||(new Date).getFullYear(),p=o.defaultViewDate.month||0,w=o.defaultViewDate.day||1;o.defaultViewDate=u(y,p,w)}else o.defaultViewDate=e();o.showOnFocus=o.showOnFocus!==t?o.showOnFocus:!0},_events:[],_secondaryEvents:[],_applyEvents:function(n){for(var f,r,u,i=0;i<n.length;i++)f=n[i][0],2===n[i].length?(r=t,u=n[i][1]):3===n[i].length&&(r=n[i][1],u=n[i][2]),f.on(u,r)},_unapplyEvents:function(n){for(var f,r,u,i=0;i<n.length;i++)f=n[i][0],2===n[i].length?(u=t,r=n[i][1]):3===n[i].length&&(u=n[i][1],r=n[i][2]),f.off(r,u)},_buildEvents:function(){var t={keyup:n.proxy(function(t){-1===n.inArray(t.keyCode,[27,37,39,38,40,32,13,9])&&this.update()},this),keydown:n.proxy(this.keydown,this)};this.o.showOnFocus===!0&&(t.focus=n.proxy(this.show,this));this.isInput?this._events=[[this.element,t]]:this.component&&this.hasInput?this._events=[[this.element.find("input"),t],[this.component,{click:n.proxy(this.show,this)}]]:this.element.is("div")?this.isInline=!0:this._events=[[this.element,{click:n.proxy(this.show,this)}]];this._events.push([this.element,"*",{blur:n.proxy(function(n){this._focused_from=n.target},this)}],[this.element,{blur:n.proxy(function(n){this._focused_from=n.target},this)}]);this._secondaryEvents=[[this.picker,{click:n.proxy(this.click,this)}],[n(window),{resize:n.proxy(this.place,this)}],[n(document),{"mousedown touchstart":n.proxy(function(n){this.element.is(n.target)||this.element.find(n.target).length||this.picker.is(n.target)||this.picker.find(n.target).length||this.hide()},this)}]]},_attachEvents:function(){this._detachEvents();this._applyEvents(this._events)},_detachEvents:function(){this._unapplyEvents(this._events)},_attachSecondaryEvents:function(){this._detachSecondaryEvents();this._applyEvents(this._secondaryEvents)},_detachSecondaryEvents:function(){this._unapplyEvents(this._secondaryEvents)},_trigger:function(t,r){var u=r||this.dates.get(-1),f=this._utc_to_local(u);this.element.trigger({type:t,date:f,dates:n.map(this.dates,this._utc_to_local),format:n.proxy(function(n,t){0===arguments.length?(n=this.dates.length-1,t=this.o.format):"string"==typeof n&&(t=n,n=this.dates.length-1);t=t||this.o.format;var r=this.dates.get(n);return i.formatDate(r,t,this.o.language)},this)})},show:function(){if(!this.element.attr("readonly")||this.o.enableOnReadonly!==!1)return(this.isInline||this.picker.appendTo(this.o.container),this.place(),this.picker.show(),this._attachSecondaryEvents(),this._trigger("show"),(window.navigator.msMaxTouchPoints||"ontouchstart"in document)&&this.o.disableTouchKeyboard&&n(this.element).blur(),this)},hide:function(){return this.isInline?this:this.picker.is(":visible")?(this.focusDate=null,this.picker.hide().detach(),this._detachSecondaryEvents(),this.viewMode=this.o.startView,this.showMode(),this.o.forceParse&&(this.isInput&&this.element.val()||this.hasInput&&this.element.find("input").val())&&this.setValue(),this._trigger("hide"),this):this},remove:function(){return this.hide(),this._detachEvents(),this._detachSecondaryEvents(),this.picker.remove(),delete this.element.data().datepicker,this.isInput||delete this.element.data().date,this},_utc_to_local:function(n){return n&&new Date(n.getTime()+6e4*n.getTimezoneOffset())},_local_to_utc:function(n){return n&&new Date(n.getTime()-6e4*n.getTimezoneOffset())},_zero_time:function(n){return n&&new Date(n.getFullYear(),n.getMonth(),n.getDate())},_zero_utc_time:function(n){return n&&new Date(Date.UTC(n.getUTCFullYear(),n.getUTCMonth(),n.getUTCDate()))},getDates:function(){return n.map(this.dates,this._utc_to_local)},getUTCDates:function(){return n.map(this.dates,function(n){return new Date(n)})},getDate:function(){return this._utc_to_local(this.getUTCDate())},getUTCDate:function(){var n=this.dates.get(-1);return"undefined"!=typeof n?new Date(n):null},clearDates:function(){var n;this.isInput?n=this.element:this.component&&(n=this.element.find("input"));n&&n.val("").change();this.update();this._trigger("changeDate");this.o.autoclose&&this.hide()},setDates:function(){var t=n.isArray(arguments[0])?arguments[0]:arguments;return this.update.apply(this,t),this._trigger("changeDate"),this.setValue(),this},setUTCDates:function(){var t=n.isArray(arguments[0])?arguments[0]:arguments;return this.update.apply(this,n.map(t,this._utc_to_local)),this._trigger("changeDate"),this.setValue(),this},setDate:c("setDates"),setUTCDate:c("setUTCDates"),setValue:function(){var n=this.getFormattedDate();return this.isInput?this.element.val(n).change():this.component&&this.element.find("input").val(n).change(),this},getFormattedDate:function(r){r===t&&(r=this.o.format);var u=this.o.language;return n.map(this.dates,function(n){return i.formatDate(n,r,u)}).join(this.o.multidateSeparator)},setStartDate:function(n){return this._process_options({startDate:n}),this.update(),this.updateNavArrows(),this},setEndDate:function(n){return this._process_options({endDate:n}),this.update(),this.updateNavArrows(),this},setDaysOfWeekDisabled:function(n){return this._process_options({daysOfWeekDisabled:n}),this.update(),this.updateNavArrows(),this},setDatesDisabled:function(n){this._process_options({datesDisabled:n});this.update();this.updateNavArrows()},place:function(){var p,s,u,w;if(this.isInline)return this;var f=this.picker.outerWidth(),e=this.picker.outerHeight(),h=n(this.o.container).width(),b=n(this.o.container).height(),c=n(this.o.container).scrollTop(),l=n(this.o.container).offset(),a=[];this.element.parents().each(function(){var t=n(this).css("z-index");"auto"!==t&&0!==t&&a.push(parseInt(t))});var v=Math.max.apply(Math,a)+10,r=this.component?this.component.parent().offset():this.element.offset(),y=this.component?this.component.outerHeight(!0):this.element.outerHeight(!1),o=this.component?this.component.outerWidth(!0):this.element.outerWidth(!1),t=r.left-l.left,i=r.top-l.top;return this.picker.removeClass("datepicker-orient-top datepicker-orient-bottom datepicker-orient-right datepicker-orient-left"),"auto"!==this.o.orientation.x?(this.picker.addClass("datepicker-orient-"+this.o.orientation.x),"right"===this.o.orientation.x&&(t-=f-o)):r.left<0?(this.picker.addClass("datepicker-orient-left"),t-=r.left-10):t+f>h?(this.picker.addClass("datepicker-orient-right"),t=r.left+o-f):this.picker.addClass("datepicker-orient-left"),u=this.o.orientation.y,("auto"===u&&(p=-c+i-e,s=c+b-(i+y+e),u=Math.max(p,s)===s?"top":"bottom"),this.picker.addClass("datepicker-orient-"+u),"top"===u?i+=y:i-=e+parseInt(this.picker.css("padding-top")),this.o.rtl)?(w=h-(t+o),this.picker.css({top:i,right:w,zIndex:v})):this.picker.css({top:i,left:t,zIndex:v}),this},_allow_update:!0,update:function(){if(!this._allow_update)return this;var r=this.dates.copy(),t=[],u=!1;return arguments.length?(n.each(arguments,n.proxy(function(n,i){i instanceof Date&&(i=this._local_to_utc(i));t.push(i)},this)),u=!0):(t=this.isInput?this.element.val():this.element.data("date")||this.element.find("input").val(),t=t&&this.o.multidate?t.split(this.o.multidateSeparator):[t],delete this.element.data().date),t=n.map(t,n.proxy(function(n){return i.parseDate(n,this.o.format,this.o.language)},this)),t=n.grep(t,n.proxy(function(n){return n<this.o.startDate||n>this.o.endDate||!n},this),!0),this.dates.replace(t),this.dates.length?this.viewDate=new Date(this.dates.get(-1)):this.viewDate<this.o.startDate?this.viewDate=new Date(this.o.startDate):this.viewDate>this.o.endDate&&(this.viewDate=new Date(this.o.endDate)),u?this.setValue():t.length&&String(r)!==String(this.dates)&&this._trigger("changeDate"),!this.dates.length&&r.length&&this._trigger("clearDate"),this.fill(),this},fillDow:function(){var t=this.o.weekStart,n="<tr>",i;for(this.o.calendarWeeks&&(this.picker.find(".datepicker-days thead tr:first-child .datepicker-switch").attr("colspan",function(n,t){return parseInt(t)+1}),i='<th class="cw">&#160;<\/th>',n+=i);t<this.o.weekStart+7;)n+='<th class="dow">'+r[this.o.language].daysMin[t++%7]+"<\/th>";n+="<\/tr>";this.picker.find(".datepicker-days thead").append(n)},fillMonths:function(){for(var n="",t=0;12>t;)n+='<span class="month">'+r[this.o.language].monthsShort[t++]+"<\/span>";this.picker.find(".datepicker-months td").html(n)},setRange:function(t){t&&t.length?this.range=n.map(t,function(n){return n.valueOf()}):delete this.range;this.fill()},getClassNames:function(t){var i=[],r=this.viewDate.getUTCFullYear(),f=this.viewDate.getUTCMonth(),u=new Date;return t.getUTCFullYear()<r||t.getUTCFullYear()===r&&t.getUTCMonth()<f?i.push("old"):(t.getUTCFullYear()>r||t.getUTCFullYear()===r&&t.getUTCMonth()>f)&&i.push("new"),this.focusDate&&t.valueOf()===this.focusDate.valueOf()&&i.push("focused"),this.o.todayHighlight&&t.getUTCFullYear()===u.getFullYear()&&t.getUTCMonth()===u.getMonth()&&t.getUTCDate()===u.getDate()&&i.push("today"),-1!==this.dates.contains(t)&&i.push("active"),(t.valueOf()<this.o.startDate||t.valueOf()>this.o.endDate||-1!==n.inArray(t.getUTCDay(),this.o.daysOfWeekDisabled))&&i.push("disabled"),this.o.datesDisabled.length>0&&n.grep(this.o.datesDisabled,function(n){return y(t,n)}).length>0&&i.push("disabled","disabled-date"),this.range&&(t>this.range[0]&&t<this.range[this.range.length-1]&&i.push("range"),-1!==n.inArray(t.valueOf(),this.range)&&i.push("selected")),i},fill:function(){var y,g=new Date(this.viewDate),f=g.getUTCFullYear(),p=g.getUTCMonth(),w=this.o.startDate!==-1/0?this.o.startDate.getUTCFullYear():-1/0,ft=this.o.startDate!==-1/0?this.o.startDate.getUTCMonth():-1/0,b=1/0!==this.o.endDate?this.o.endDate.getUTCFullYear():1/0,et=1/0!==this.o.endDate?this.o.endDate.getUTCMonth():1/0,ot=r[this.o.language].today||r.en.today||"",st=r[this.o.language].clear||r.en.clear||"",e,k,c,h,s,o,l,it,rt,a,ut,v;if(!isNaN(f)&&!isNaN(p)){for(this.picker.find(".datepicker-days thead .datepicker-switch").text(r[this.o.language].months[p]+" "+f),this.picker.find("tfoot .today").text(ot).toggle(this.o.todayBtn!==!1),this.picker.find("tfoot .clear").text(st).toggle(this.o.clearBtn!==!1),this.updateNavArrows(),this.fillMonths(),e=u(f,p-1,28),k=i.getDaysInMonth(e.getUTCFullYear(),e.getUTCMonth()),e.setUTCDate(k),e.setUTCDate(k-(e.getUTCDay()-this.o.weekStart+7)%7),c=new Date(e),c.setUTCDate(c.getUTCDate()+42),c=c.valueOf(),s=[];e.valueOf()<c;){if(e.getUTCDay()===this.o.weekStart&&(s.push("<tr>"),this.o.calendarWeeks)){var nt=new Date(+e+(this.o.weekStart-e.getUTCDay()-7)%7*864e5),tt=new Date(Number(nt)+(11-nt.getUTCDay())%7*864e5),d=new Date(Number(d=u(tt.getUTCFullYear(),0,1))+(11-d.getUTCDay())%7*864e5),ht=(tt-d)/6048e5+1;s.push('<td class="cw">'+ht+"<\/td>")}(h=this.getClassNames(e),h.push("day"),this.o.beforeShowDay!==n.noop)&&(o=this.o.beforeShowDay(this._utc_to_local(e)),o===t?o={}:"boolean"==typeof o?o={enabled:o}:"string"==typeof o&&(o={classes:o}),o.enabled===!1&&h.push("disabled"),o.classes&&(h=h.concat(o.classes.split(/\s+/))),o.tooltip&&(y=o.tooltip));h=n.unique(h);s.push('<td class="'+h.join(" ")+'"'+(y?' title="'+y+'"':"")+">"+e.getUTCDate()+"<\/td>");y=null;e.getUTCDay()===this.o.weekEnd&&s.push("<\/tr>");e.setUTCDate(e.getUTCDate()+1)}for(this.picker.find(".datepicker-days tbody").empty().append(s.join("")),l=this.picker.find(".datepicker-months").find("th:eq(1)").text(f).end().find("span").removeClass("active"),(n.each(this.dates,function(n,t){t.getUTCFullYear()===f&&l.eq(t.getUTCMonth()).addClass("active")}),(w>f||f>b)&&l.addClass("disabled"),f===w&&l.slice(0,ft).addClass("disabled"),f===b&&l.slice(et+1).addClass("disabled"),this.o.beforeShowMonth!==n.noop)&&(it=this,n.each(l,function(t,i){if(!n(i).hasClass("disabled")){var r=new Date(f,t,1),u=it.o.beforeShowMonth(r);u===!1&&n(i).addClass("disabled")}})),s="",f=10*parseInt(f/10,10),rt=this.picker.find(".datepicker-years").find("th:eq(1)").text(f+"-"+(f+9)).end().find("td"),f-=1,ut=n.map(this.dates,function(n){return n.getUTCFullYear()}),v=-1;11>v;v++)a=["year"],-1===v?a.push("old"):10===v&&a.push("new"),-1!==n.inArray(f,ut)&&a.push("active"),(w>f||f>b)&&a.push("disabled"),s+='<span class="'+a.join(" ")+'">'+f+"<\/span>",f+=1;rt.html(s)}},updateNavArrows:function(){if(this._allow_update){var t=new Date(this.viewDate),n=t.getUTCFullYear(),i=t.getUTCMonth();switch(this.viewMode){case 0:this.picker.find(".prev").css(this.o.startDate!==-1/0&&n<=this.o.startDate.getUTCFullYear()&&i<=this.o.startDate.getUTCMonth()?{visibility:"hidden"}:{visibility:"visible"});this.picker.find(".next").css(1/0!==this.o.endDate&&n>=this.o.endDate.getUTCFullYear()&&i>=this.o.endDate.getUTCMonth()?{visibility:"hidden"}:{visibility:"visible"});break;case 1:case 2:this.picker.find(".prev").css(this.o.startDate!==-1/0&&n<=this.o.startDate.getUTCFullYear()?{visibility:"hidden"}:{visibility:"visible"});this.picker.find(".next").css(1/0!==this.o.endDate&&n>=this.o.endDate.getUTCFullYear()?{visibility:"hidden"}:{visibility:"visible"})}}},click:function(t){var e,f,o,r,h,s,c;if(t.preventDefault(),r=n(t.target).closest("span, td, th"),1===r.length)switch(r[0].nodeName.toLowerCase()){case"th":switch(r[0].className){case"datepicker-switch":this.showMode(1);break;case"prev":case"next":h=i.modes[this.viewMode].navStep*("prev"===r[0].className?-1:1);switch(this.viewMode){case 0:this.viewDate=this.moveMonth(this.viewDate,h);this._trigger("changeMonth",this.viewDate);break;case 1:case 2:this.viewDate=this.moveYear(this.viewDate,h);1===this.viewMode&&this._trigger("changeYear",this.viewDate)}this.fill();break;case"today":s=new Date;s=u(s.getFullYear(),s.getMonth(),s.getDate(),0,0,0);this.showMode(-2);c="linked"===this.o.todayBtn?null:"view";this._setDate(s,c);break;case"clear":this.clearDates()}break;case"span":r.hasClass("disabled")||(this.viewDate.setUTCDate(1),r.hasClass("month")?(o=1,f=r.parent().find("span").index(r),e=this.viewDate.getUTCFullYear(),this.viewDate.setUTCMonth(f),this._trigger("changeMonth",this.viewDate),1===this.o.minViewMode&&this._setDate(u(e,f,o))):(o=1,f=0,e=parseInt(r.text(),10)||0,this.viewDate.setUTCFullYear(e),this._trigger("changeYear",this.viewDate),2===this.o.minViewMode&&this._setDate(u(e,f,o))),this.showMode(-1),this.fill());break;case"td":r.hasClass("day")&&!r.hasClass("disabled")&&(o=parseInt(r.text(),10)||1,e=this.viewDate.getUTCFullYear(),f=this.viewDate.getUTCMonth(),r.hasClass("old")?0===f?(f=11,e-=1):f-=1:r.hasClass("new")&&(11===f?(f=0,e+=1):f+=1),this._setDate(u(e,f,o)))}this.picker.is(":visible")&&this._focused_from&&n(this._focused_from).focus();delete this._focused_from},_toggle_multidate:function(n){var t=this.dates.contains(n);if(n||this.dates.clear(),-1!==t?(this.o.multidate===!0||this.o.multidate>1||this.o.toggleActive)&&this.dates.remove(t):this.o.multidate===!1?(this.dates.clear(),this.dates.push(n)):this.dates.push(n),"number"==typeof this.o.multidate)for(;this.dates.length>this.o.multidate;)this.dates.remove(0)},_setDate:function(n,t){t&&"date"!==t||this._toggle_multidate(n&&new Date(n));t&&"view"!==t||(this.viewDate=n&&new Date(n));this.fill();this.setValue();t&&"view"===t||this._trigger("changeDate");var i;this.isInput?i=this.element:this.component&&(i=this.element.find("input"));i&&i.change();!this.o.autoclose||t&&"date"!==t||this.hide()},moveMonth:function(n,i){var e;if(!n)return t;if(!i)return n;var u,f,r=new Date(n.valueOf()),o=r.getUTCDate(),s=r.getUTCMonth(),h=Math.abs(i);if(i=i>0?1:-1,1===h)f=-1===i?function(){return r.getUTCMonth()===s}:function(){return r.getUTCMonth()!==u},u=s+i,r.setUTCMonth(u),(0>u||u>11)&&(u=(u+12)%12);else{for(e=0;h>e;e++)r=this.moveMonth(r,i);u=r.getUTCMonth();r.setUTCDate(o);f=function(){return u!==r.getUTCMonth()}}for(;f();)r.setUTCDate(--o),r.setUTCMonth(u);return r},moveYear:function(n,t){return this.moveMonth(n,12*t)},dateWithinRange:function(n){return n>=this.o.startDate&&n<=this.o.endDate},keydown:function(n){var t,u,i,o,r,f;if(!this.picker.is(":visible"))return void(27===n.keyCode&&this.show());o=!1;r=this.focusDate||this.viewDate;switch(n.keyCode){case 27:this.focusDate?(this.focusDate=null,this.viewDate=this.dates.get(-1)||this.viewDate,this.fill()):this.hide();n.preventDefault();break;case 37:case 39:if(!this.o.keyboardNavigation)break;t=37===n.keyCode?-1:1;n.ctrlKey?(u=this.moveYear(this.dates.get(-1)||e(),t),i=this.moveYear(r,t),this._trigger("changeYear",this.viewDate)):n.shiftKey?(u=this.moveMonth(this.dates.get(-1)||e(),t),i=this.moveMonth(r,t),this._trigger("changeMonth",this.viewDate)):(u=new Date(this.dates.get(-1)||e()),u.setUTCDate(u.getUTCDate()+t),i=new Date(r),i.setUTCDate(r.getUTCDate()+t));this.dateWithinRange(i)&&(this.focusDate=this.viewDate=i,this.setValue(),this.fill(),n.preventDefault());break;case 38:case 40:if(!this.o.keyboardNavigation)break;t=38===n.keyCode?-1:1;n.ctrlKey?(u=this.moveYear(this.dates.get(-1)||e(),t),i=this.moveYear(r,t),this._trigger("changeYear",this.viewDate)):n.shiftKey?(u=this.moveMonth(this.dates.get(-1)||e(),t),i=this.moveMonth(r,t),this._trigger("changeMonth",this.viewDate)):(u=new Date(this.dates.get(-1)||e()),u.setUTCDate(u.getUTCDate()+7*t),i=new Date(r),i.setUTCDate(r.getUTCDate()+7*t));this.dateWithinRange(i)&&(this.focusDate=this.viewDate=i,this.setValue(),this.fill(),n.preventDefault());break;case 13:r=this.focusDate||this.dates.get(-1)||this.viewDate;this.o.keyboardNavigation&&(this._toggle_multidate(r),o=!0);this.focusDate=null;this.viewDate=this.dates.get(-1)||this.viewDate;this.setValue();this.fill();this.picker.is(":visible")&&(n.preventDefault(),"function"==typeof n.stopPropagation?n.stopPropagation():n.cancelBubble=!0,this.o.autoclose&&this.hide());break;case 9:this.focusDate=null;this.viewDate=this.dates.get(-1)||this.viewDate;this.fill();this.hide()}o&&(this._trigger(this.dates.length?"changeDate":"clearDate"),this.isInput?f=this.element:this.component&&(f=this.element.find("input")),f&&f.change())},showMode:function(n){n&&(this.viewMode=Math.max(this.o.minViewMode,Math.min(2,this.viewMode+n)));this.picker.children("div").hide().filter(".datepicker-"+i.modes[this.viewMode].clsName).css("display","block");this.updateNavArrows()}};h=function(t,i){this.element=n(t);this.inputs=n.map(i.inputs,function(n){return n.jquery?n[0]:n});delete i.inputs;o.call(n(this.inputs),i).bind("changeDate",n.proxy(this.dateUpdated,this));this.pickers=n.map(this.inputs,function(t){return n(t).data("datepicker")});this.updateDates()};h.prototype={updateDates:function(){this.dates=n.map(this.pickers,function(n){return n.getUTCDate()});this.updateRanges()},updateRanges:function(){var t=n.map(this.dates,function(n){return n.valueOf()});n.each(this.pickers,function(n,i){i.setRange(t)})},dateUpdated:function(t){if(!this.updating){this.updating=!0;var e=n(t.target).data("datepicker"),i=e.getUTCDate(),f=n.inArray(t.target,this.inputs),r=f-1,u=f+1,o=this.inputs.length;if(-1!==f){if(n.each(this.pickers,function(n,t){t.getUTCDate()||t.setUTCDate(i)}),i<this.dates[r])for(;r>=0&&i<this.dates[r];)this.pickers[r--].setUTCDate(i);else if(i>this.dates[u])for(;o>u&&i>this.dates[u];)this.pickers[u++].setUTCDate(i);this.updateDates();delete this.updating}}},remove:function(){n.map(this.pickers,function(n){n.remove()});delete this.element.data().datepicker}};a=n.fn.datepicker;o=function(i){var u=Array.apply(null,arguments),r;return u.shift(),this.each(function(){var o=n(this),e=o.data("datepicker"),l="object"==typeof i&&i,v;if(!e){var a=p(this,"date"),y=n.extend({},s,a,l),b=w(y.language),c=n.extend({},s,b,a,l);o.hasClass("input-daterange")||c.inputs?(v={inputs:c.inputs||o.find("input").toArray()},o.data("datepicker",e=new h(this,n.extend(c,v)))):o.data("datepicker",e=new f(this,c))}if("string"==typeof i&&"function"==typeof e[i]&&(r=e[i].apply(e,u),r!==t))return!1}),r!==t?r:this};n.fn.datepicker=o;s=n.fn.datepicker.defaults={autoclose:!1,beforeShowDay:n.noop,beforeShowMonth:n.noop,calendarWeeks:!1,clearBtn:!1,toggleActive:!1,daysOfWeekDisabled:[],datesDisabled:[],endDate:1/0,forceParse:!0,format:"mm/dd/yyyy",keyboardNavigation:!0,language:"en",minViewMode:0,multidate:!1,multidateSeparator:",",orientation:"auto",rtl:!1,startDate:-1/0,startView:0,todayBtn:!1,todayHighlight:!1,weekStart:0,disableTouchKeyboard:!1,enableOnReadonly:!0,container:"body"};v=n.fn.datepicker.locale_opts=["format","rtl","weekStart"];n.fn.datepicker.Constructor=f;r=n.fn.datepicker.dates={en:{days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday","Sunday"],daysShort:["Sun","Mon","Tue","Wed","Thu","Fri","Sat","Sun"],daysMin:["Su","Mo","Tu","We","Th","Fr","Sa","Su"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],monthsShort:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],today:"Today",clear:"Clear"}};i={modes:[{clsName:"days",navFnc:"Month",navStep:1},{clsName:"months",navFnc:"FullYear",navStep:1},{clsName:"years",navFnc:"FullYear",navStep:10}],isLeapYear:function(n){return n%4==0&&n%100!=0||n%400==0},getDaysInMonth:function(n,t){return[31,i.isLeapYear(n)?29:28,31,30,31,30,31,31,30,31,30,31][t]},validParts:/dd?|DD?|mm?|MM?|yy(?:yy)?/g,nonpunctuation:/[^ -\/:-@\[\u3400-\u9fff-`{-~\t\n\r]+/g,parseFormat:function(n){var t=n.replace(this.validParts,"\x00").split("\x00"),i=n.match(this.validParts);if(!t||!t.length||!i||0===i.length)throw new Error("Invalid date format.");return{separators:t,parts:i}},parseDate:function(e,o,s){function nt(){var n=this.slice(0,c[h].length),t=c[h].slice(0,n.length);return n.toLowerCase()===t.toLowerCase()}var v,y,h,tt,c,a,it,d,w;if(!e)return t;if(e instanceof Date)return e;if("string"==typeof o&&(o=i.parseFormat(o)),tt=/([\-+]\d+)([dmwy])/,c=e.match(/([\-+]\d+)([dmwy])/g),/^[\-+]\d+[dmwy]([\s,]+[\-+]\d+[dmwy])*$/.test(e)){for(e=new Date,h=0;h<c.length;h++)switch(v=tt.exec(c[h]),y=parseInt(v[1]),v[2]){case"d":e.setUTCDate(e.getUTCDate()+y);break;case"m":e=f.prototype.moveMonth.call(f.prototype,e,y);break;case"w":e.setUTCDate(e.getUTCDate()+7*y);break;case"y":e=f.prototype.moveYear.call(f.prototype,e,y)}return u(e.getUTCFullYear(),e.getUTCMonth(),e.getUTCDate(),0,0,0)}c=e&&e.match(this.nonpunctuation)||[];e=new Date;var p,b,k={},g=["yyyy","yy","M","MM","m","mm","d","dd"],l={yyyy:function(n,t){return n.setUTCFullYear(t)},yy:function(n,t){return n.setUTCFullYear(2e3+t)},m:function(n,t){if(isNaN(n))return n;for(t-=1;0>t;)t+=12;for(t%=12,n.setUTCMonth(t);n.getUTCMonth()!==t;)n.setUTCDate(n.getUTCDate()-1);return n},d:function(n,t){return n.setUTCDate(t)}};if(l.M=l.MM=l.mm=l.m,l.dd=l.d,e=u(e.getFullYear(),e.getMonth(),e.getDate(),0,0,0),a=o.parts.slice(),c.length!==a.length&&(a=n(a).filter(function(t,i){return-1!==n.inArray(i,g)}).toArray()),c.length===a.length){for(h=0,it=a.length;it>h;h++){if(p=parseInt(c[h],10),v=a[h],isNaN(p))switch(v){case"MM":b=n(r[s].months).filter(nt);p=n.inArray(b[0],r[s].months)+1;break;case"M":b=n(r[s].monthsShort).filter(nt);p=n.inArray(b[0],r[s].monthsShort)+1}k[v]=p}for(h=0;h<g.length;h++)w=g[h],w in k&&!isNaN(k[w])&&(d=new Date(e),l[w](d,k[w]),isNaN(d)||(e=d))}return e},formatDate:function(t,u,f){var e;if(!t)return"";"string"==typeof u&&(u=i.parseFormat(u));e={d:t.getUTCDate(),D:r[f].daysShort[t.getUTCDay()],DD:r[f].days[t.getUTCDay()],m:t.getUTCMonth()+1,M:r[f].monthsShort[t.getUTCMonth()],MM:r[f].months[t.getUTCMonth()],yy:t.getUTCFullYear().toString().substring(2),yyyy:t.getUTCFullYear()};e.dd=(e.d<10?"0":"")+e.d;e.mm=(e.m<10?"0":"")+e.m;t=[];for(var s=n.extend([],u.separators),o=0,h=u.parts.length;h>=o;o++)s.length&&t.push(s.shift()),t.push(e[u.parts[o]]);return t.join("")},headTemplate:'<thead><tr><th class="prev">&#171;<\/th><th colspan="5" class="datepicker-switch"><\/th><th class="next">&#187;<\/th><\/tr><\/thead>',contTemplate:'<tbody><tr><td colspan="7"><\/td><\/tr><\/tbody>',footTemplate:'<tfoot><tr><th colspan="7" class="today"><\/th><\/tr><tr><th colspan="7" class="clear"><\/th><\/tr><\/tfoot>'};i.template='<div class="datepicker"><div class="datepicker-days"><table class=" table-condensed">'+i.headTemplate+"<tbody><\/tbody>"+i.footTemplate+'<\/table><\/div><div class="datepicker-months"><table class="table-condensed">'+i.headTemplate+i.contTemplate+i.footTemplate+'<\/table><\/div><div class="datepicker-years"><table class="table-condensed">'+i.headTemplate+i.contTemplate+i.footTemplate+"<\/table><\/div><\/div>";n.fn.datepicker.DPGlobal=i;n.fn.datepicker.noConflict=function(){return n.fn.datepicker=a,this};n.fn.datepicker.version="1.4.0";n(document).on("focus.datepicker.data-api click.datepicker.data-api",'[data-provide="datepicker"]',function(t){var i=n(this);i.data("datepicker")||(t.preventDefault(),o.call(i,"show"))});n(function(){o.call(n('[data-provide="datepicker-inline"]'))})}(window.jQuery);!function(n,t,i){"use strict";var r=function(t,i){this.widget="";this.$element=n(t);this.defaultTime=i.defaultTime;this.disableFocus=i.disableFocus;this.disableMousewheel=i.disableMousewheel;this.isOpen=i.isOpen;this.minuteStep=i.minuteStep;this.modalBackdrop=i.modalBackdrop;this.orientation=i.orientation;this.secondStep=i.secondStep;this.snapToStep=i.snapToStep;this.showInputs=i.showInputs;this.showMeridian=i.showMeridian;this.showSeconds=i.showSeconds;this.template=i.template;this.appendWidgetTo=i.appendWidgetTo;this.showWidgetOnAddonClick=i.showWidgetOnAddonClick;this.icons=i.icons;this.maxHours=i.maxHours;this.explicitMode=i.explicitMode;this.handleDocumentClick=function(n){var t=n.data.scope;t.$element.parent().find(n.target).length||t.$widget.is(n.target)||t.$widget.find(n.target).length||t.hideWidget()};this._init()};r.prototype={constructor:r,_init:function(){var t=this;this.showWidgetOnAddonClick&&this.$element.parent().hasClass("input-group")&&this.$element.parent().hasClass("bootstrap-timepicker")?(this.$element.parent(".input-group.bootstrap-timepicker").find(".input-group-addon").on({"click.timepicker":n.proxy(this.showWidget,this)}),this.$element.on({"focus.timepicker":n.proxy(this.highlightUnit,this),"click.timepicker":n.proxy(this.highlightUnit,this),"keydown.timepicker":n.proxy(this.elementKeydown,this),"blur.timepicker":n.proxy(this.blurElement,this),"mousewheel.timepicker DOMMouseScroll.timepicker":n.proxy(this.mousewheel,this)})):this.template?this.$element.on({"focus.timepicker":n.proxy(this.showWidget,this),"click.timepicker":n.proxy(this.showWidget,this),"blur.timepicker":n.proxy(this.blurElement,this),"mousewheel.timepicker DOMMouseScroll.timepicker":n.proxy(this.mousewheel,this)}):this.$element.on({"focus.timepicker":n.proxy(this.highlightUnit,this),"click.timepicker":n.proxy(this.highlightUnit,this),"keydown.timepicker":n.proxy(this.elementKeydown,this),"blur.timepicker":n.proxy(this.blurElement,this),"mousewheel.timepicker DOMMouseScroll.timepicker":n.proxy(this.mousewheel,this)});this.$widget=this.template!==!1?n(this.getTemplate()).on("click",n.proxy(this.widgetClick,this)):!1;this.showInputs&&this.$widget!==!1&&this.$widget.find("input").each(function(){n(this).on({"click.timepicker":function(){n(this).select()},"keydown.timepicker":n.proxy(t.widgetKeydown,t),"keyup.timepicker":n.proxy(t.widgetKeyup,t)})});this.setDefaultTime(this.defaultTime)},blurElement:function(){this.highlightedUnit=null;this.updateFromElementVal()},clear:function(){this.hour="";this.minute="";this.second="";this.meridian="";this.$element.val("")},decrementHour:function(){if(this.showMeridian)if(1===this.hour)this.hour=12;else{if(12===this.hour)return this.hour--,this.toggleMeridian();if(0===this.hour)return this.hour=11,this.toggleMeridian();this.hour--}else this.hour<=0?this.hour=this.maxHours-1:this.hour--},decrementMinute:function(n){var t;t=n?this.minute-n:this.minute-this.minuteStep;0>t?(this.decrementHour(),this.minute=t+60):this.minute=t},decrementSecond:function(){var n=this.second-this.secondStep;0>n?(this.decrementMinute(!0),this.second=n+60):this.second=n},elementKeydown:function(n){switch(n.which){case 9:if(n.shiftKey){if("hour"===this.highlightedUnit){this.hideWidget();break}this.highlightPrevUnit()}else{if(this.showMeridian&&"meridian"===this.highlightedUnit||this.showSeconds&&"second"===this.highlightedUnit||!this.showMeridian&&!this.showSeconds&&"minute"===this.highlightedUnit){this.hideWidget();break}this.highlightNextUnit()}n.preventDefault();this.updateFromElementVal();break;case 27:this.updateFromElementVal();break;case 37:n.preventDefault();this.highlightPrevUnit();this.updateFromElementVal();break;case 38:switch(n.preventDefault(),this.highlightedUnit){case"hour":this.incrementHour();this.highlightHour();break;case"minute":this.incrementMinute();this.highlightMinute();break;case"second":this.incrementSecond();this.highlightSecond();break;case"meridian":this.toggleMeridian();this.highlightMeridian()}this.update();break;case 39:n.preventDefault();this.highlightNextUnit();this.updateFromElementVal();break;case 40:switch(n.preventDefault(),this.highlightedUnit){case"hour":this.decrementHour();this.highlightHour();break;case"minute":this.decrementMinute();this.highlightMinute();break;case"second":this.decrementSecond();this.highlightSecond();break;case"meridian":this.toggleMeridian();this.highlightMeridian()}this.update()}},getCursorPosition:function(){var n=this.$element.get(0),t,r;return"selectionStart"in n?n.selectionStart:i.selection?(n.focus(),t=i.selection.createRange(),r=i.selection.createRange().text.length,t.moveStart("character",-n.value.length),t.text.length-r):void 0},getTemplate:function(){var n,t,i,r,u,f;switch(this.showInputs?(t='<input type="text" class="bootstrap-timepicker-hour" maxlength="2"/>',i='<input type="text" class="bootstrap-timepicker-minute" maxlength="2"/>',r='<input type="text" class="bootstrap-timepicker-second" maxlength="2"/>',u='<input type="text" class="bootstrap-timepicker-meridian" maxlength="2"/>'):(t='<span class="bootstrap-timepicker-hour"><\/span>',i='<span class="bootstrap-timepicker-minute"><\/span>',r='<span class="bootstrap-timepicker-second"><\/span>',u='<span class="bootstrap-timepicker-meridian"><\/span>'),f='<table><tr><td><a href="#" data-action="incrementHour"><span class="'+this.icons.up+'"><\/span><\/a><\/td><td class="separator">&nbsp;<\/td><td><a href="#" data-action="incrementMinute"><span class="'+this.icons.up+'"><\/span><\/a><\/td>'+(this.showSeconds?'<td class="separator">&nbsp;<\/td><td><a href="#" data-action="incrementSecond"><span class="'+this.icons.up+'"><\/span><\/a><\/td>':"")+(this.showMeridian?'<td class="separator">&nbsp;<\/td><td class="meridian-column"><a href="#" data-action="toggleMeridian"><span class="'+this.icons.up+'"><\/span><\/a><\/td>':"")+"<\/tr><tr><td>"+t+'<\/td> <td class="separator">:<\/td><td>'+i+"<\/td> "+(this.showSeconds?'<td class="separator">:<\/td><td>'+r+"<\/td>":"")+(this.showMeridian?'<td class="separator">&nbsp;<\/td><td>'+u+"<\/td>":"")+'<\/tr><tr><td><a href="#" data-action="decrementHour"><span class="'+this.icons.down+'"><\/span><\/a><\/td><td class="separator"><\/td><td><a href="#" data-action="decrementMinute"><span class="'+this.icons.down+'"><\/span><\/a><\/td>'+(this.showSeconds?'<td class="separator">&nbsp;<\/td><td><a href="#" data-action="decrementSecond"><span class="'+this.icons.down+'"><\/span><\/a><\/td>':"")+(this.showMeridian?'<td class="separator">&nbsp;<\/td><td><a href="#" data-action="toggleMeridian"><span class="'+this.icons.down+'"><\/span><\/a><\/td>':"")+"<\/tr><\/table>",this.template){case"modal":n='<div class="bootstrap-timepicker-widget modal hide fade in" data-backdrop="'+(this.modalBackdrop?"true":"false")+'"><div class="modal-header"><a href="#" class="close" data-dismiss="modal">&times;<\/a><h3>Pick a Time<\/h3><\/div><div class="modal-content">'+f+'<\/div><div class="modal-footer"><a href="#" class="btn btn-primary" data-dismiss="modal">OK<\/a><\/div><\/div>';break;case"dropdown":n='<div class="bootstrap-timepicker-widget dropdown-menu">'+f+"<\/div>"}return n},getTime:function(){return""===this.hour?"":this.hour+":"+(1===this.minute.toString().length?"0"+this.minute:this.minute)+(this.showSeconds?":"+(1===this.second.toString().length?"0"+this.second:this.second):"")+(this.showMeridian?" "+this.meridian:"")},hideWidget:function(){this.isOpen!==!1&&(this.$element.trigger({type:"hide.timepicker",time:{value:this.getTime(),hours:this.hour,minutes:this.minute,seconds:this.second,meridian:this.meridian}}),"modal"===this.template&&this.$widget.modal?this.$widget.modal("hide"):this.$widget.removeClass("open"),n(i).off("mousedown.timepicker, touchend.timepicker",this.handleDocumentClick),this.isOpen=!1,this.$widget.detach())},highlightUnit:function(){this.position=this.getCursorPosition();this.position>=0&&this.position<=2?this.highlightHour():this.position>=3&&this.position<=5?this.highlightMinute():this.position>=6&&this.position<=8?this.showSeconds?this.highlightSecond():this.highlightMeridian():this.position>=9&&this.position<=11&&this.highlightMeridian()},highlightNextUnit:function(){switch(this.highlightedUnit){case"hour":this.highlightMinute();break;case"minute":this.showSeconds?this.highlightSecond():this.showMeridian?this.highlightMeridian():this.highlightHour();break;case"second":this.showMeridian?this.highlightMeridian():this.highlightHour();break;case"meridian":this.highlightHour()}},highlightPrevUnit:function(){switch(this.highlightedUnit){case"hour":this.showMeridian?this.highlightMeridian():this.showSeconds?this.highlightSecond():this.highlightMinute();break;case"minute":this.highlightHour();break;case"second":this.highlightMinute();break;case"meridian":this.showSeconds?this.highlightSecond():this.highlightMinute()}},highlightHour:function(){var n=this.$element.get(0),t=this;this.highlightedUnit="hour";n.setSelectionRange&&setTimeout(function(){t.hour<10?n.setSelectionRange(0,1):n.setSelectionRange(0,2)},0)},highlightMinute:function(){var n=this.$element.get(0),t=this;this.highlightedUnit="minute";n.setSelectionRange&&setTimeout(function(){t.hour<10?n.setSelectionRange(2,4):n.setSelectionRange(3,5)},0)},highlightSecond:function(){var n=this.$element.get(0),t=this;this.highlightedUnit="second";n.setSelectionRange&&setTimeout(function(){t.hour<10?n.setSelectionRange(5,7):n.setSelectionRange(6,8)},0)},highlightMeridian:function(){var n=this.$element.get(0),t=this;this.highlightedUnit="meridian";n.setSelectionRange&&(this.showSeconds?setTimeout(function(){t.hour<10?n.setSelectionRange(8,10):n.setSelectionRange(9,11)},0):setTimeout(function(){t.hour<10?n.setSelectionRange(5,7):n.setSelectionRange(6,8)},0))},incrementHour:function(){if(this.showMeridian){if(11===this.hour)return this.hour++,this.toggleMeridian();12===this.hour&&(this.hour=0)}return this.hour===this.maxHours-1?void(this.hour=0):void this.hour++},incrementMinute:function(n){var t;t=n?this.minute+n:this.minute+this.minuteStep-this.minute%this.minuteStep;t>59?(this.incrementHour(),this.minute=t-60):this.minute=t},incrementSecond:function(){var n=this.second+this.secondStep-this.second%this.secondStep;n>59?(this.incrementMinute(!0),this.second=n-60):this.second=n},mousewheel:function(t){if(!this.disableMousewheel){t.preventDefault();t.stopPropagation();var r=t.originalEvent.wheelDelta||-t.originalEvent.detail,i=null;switch("mousewheel"===t.type?i=-1*t.originalEvent.wheelDelta:"DOMMouseScroll"===t.type&&(i=40*t.originalEvent.detail),i&&(t.preventDefault(),n(this).scrollTop(i+n(this).scrollTop())),this.highlightedUnit){case"minute":r>0?this.incrementMinute():this.decrementMinute();this.highlightMinute();break;case"second":r>0?this.incrementSecond():this.decrementSecond();this.highlightSecond();break;case"meridian":this.toggleMeridian();this.highlightMeridian();break;default:r>0?this.incrementHour():this.decrementHour();this.highlightHour()}return!1}},changeToNearestStep:function(n,t){return n%t==0?n:Math.round(n%t/t)?(n+(t-n%t))%60:n-n%t},place:function(){var v,s,r;if(!this.isInline){var f=this.$widget.outerWidth(),e=this.$widget.outerHeight(),h=10,c=n(t).width(),y=n(t).height(),l=n(t).scrollTop(),p=parseInt(this.$element.parents().filter(function(){return"auto"!==n(this).css("z-index")}).first().css("z-index"),10)+10,i=this.component?this.component.parent().offset():this.$element.offset(),a=this.component?this.component.outerHeight(!0):this.$element.outerHeight(!1),w=this.component?this.component.outerWidth(!0):this.$element.outerWidth(!1),u=i.left,o=i.top;this.$widget.removeClass("timepicker-orient-top timepicker-orient-bottom timepicker-orient-right timepicker-orient-left");"auto"!==this.orientation.x?(this.$widget.addClass("timepicker-orient-"+this.orientation.x),"right"===this.orientation.x&&(u-=f-w)):(this.$widget.addClass("timepicker-orient-left"),i.left<0?u-=i.left-h:i.left+f>c&&(u=c-f-h));r=this.orientation.y;"auto"===r&&(v=-l+i.top-e,s=l+y-(i.top+a+e),r=Math.max(v,s)===s?"top":"bottom");this.$widget.addClass("timepicker-orient-"+r);"top"===r?o+=a:o-=e+parseInt(this.$widget.css("padding-top"),10);this.$widget.css({top:o,left:u,zIndex:p})}},remove:function(){n("document").off(".timepicker");this.$widget&&this.$widget.remove();delete this.$element.data().timepicker},setDefaultTime:function(n){if(this.$element.val())this.updateFromElementVal();else if("current"===n){var r=new Date,t=r.getHours(),i=r.getMinutes(),u=r.getSeconds(),f="AM";0!==u&&(u=Math.ceil(r.getSeconds()/this.secondStep)*this.secondStep,60===u&&(i+=1,u=0));0!==i&&(i=Math.ceil(r.getMinutes()/this.minuteStep)*this.minuteStep,60===i&&(t+=1,i=0));this.showMeridian&&(0===t?t=12:t>=12?(t>12&&(t-=12),f="PM"):f="AM");this.hour=t;this.minute=i;this.second=u;this.meridian=f;this.update()}else n===!1?(this.hour=0,this.minute=0,this.second=0,this.meridian="AM"):this.setTime(n)},setTime:function(n,t){if(!n)return void this.clear();var f,e,i,r,u,o;if("object"==typeof n&&n.getMonth)i=n.getHours(),r=n.getMinutes(),u=n.getSeconds(),this.showMeridian&&(o="AM",i>12&&(o="PM",i%=12),12===i&&(o="PM"));else{if((f=(/a/i.test(n)?1:0)+(/p/i.test(n)?2:0),f>2)||(e=n.replace(/[^0-9\:]/g,"").split(":"),i=e[0]?e[0].toString():e.toString(),this.explicitMode&&i.length>2&&i.length%2!=0))return void this.clear();r=e[1]?e[1].toString():"";u=e[2]?e[2].toString():"";i.length>4&&(u=i.slice(-2),i=i.slice(0,-2));i.length>2&&(r=i.slice(-2),i=i.slice(0,-2));r.length>2&&(u=r.slice(-2),r=r.slice(0,-2));i=parseInt(i,10);r=parseInt(r,10);u=parseInt(u,10);isNaN(i)&&(i=0);isNaN(r)&&(r=0);isNaN(u)&&(u=0);u>59&&(u=59);r>59&&(r=59);i>=this.maxHours&&(i=this.maxHours-1);this.showMeridian?(i>12&&(f=2,i-=12),f||(f=1),0===i&&(i=12),o=1===f?"AM":"PM"):12>i&&2===f?i+=12:i>=this.maxHours?i=this.maxHours-1:(0>i||12===i&&1===f)&&(i=0)}this.hour=i;this.snapToStep?(this.minute=this.changeToNearestStep(r,this.minuteStep),this.second=this.changeToNearestStep(u,this.secondStep)):(this.minute=r,this.second=u);this.meridian=o;this.update(t)},showWidget:function(){this.isOpen||this.$element.is(":disabled")||(this.$widget.appendTo(this.appendWidgetTo),n(i).on("mousedown.timepicker, touchend.timepicker",{scope:this},this.handleDocumentClick),this.$element.trigger({type:"show.timepicker",time:{value:this.getTime(),hours:this.hour,minutes:this.minute,seconds:this.second,meridian:this.meridian}}),this.place(),this.disableFocus&&this.$element.blur(),""===this.hour&&(this.defaultTime?this.setDefaultTime(this.defaultTime):this.setTime("0:0:0")),"modal"===this.template&&this.$widget.modal?this.$widget.modal("show").on("hidden",n.proxy(this.hideWidget,this)):this.isOpen===!1&&this.$widget.addClass("open"),this.isOpen=!0)},toggleMeridian:function(){this.meridian="AM"===this.meridian?"PM":"AM"},update:function(n){this.updateElement();n||this.updateWidget();this.$element.trigger({type:"changeTime.timepicker",time:{value:this.getTime(),hours:this.hour,minutes:this.minute,seconds:this.second,meridian:this.meridian}})},updateElement:function(){this.$element.val(this.getTime()).change()},updateFromElementVal:function(){this.setTime(this.$element.val())},updateWidget:function(){if(this.$widget!==!1){var n=this.hour,t=1===this.minute.toString().length?"0"+this.minute:this.minute,i=1===this.second.toString().length?"0"+this.second:this.second;this.showInputs?(this.$widget.find("input.bootstrap-timepicker-hour").val(n),this.$widget.find("input.bootstrap-timepicker-minute").val(t),this.showSeconds&&this.$widget.find("input.bootstrap-timepicker-second").val(i),this.showMeridian&&this.$widget.find("input.bootstrap-timepicker-meridian").val(this.meridian)):(this.$widget.find("span.bootstrap-timepicker-hour").text(n),this.$widget.find("span.bootstrap-timepicker-minute").text(t),this.showSeconds&&this.$widget.find("span.bootstrap-timepicker-second").text(i),this.showMeridian&&this.$widget.find("span.bootstrap-timepicker-meridian").text(this.meridian))}},updateFromWidgetInputs:function(){if(this.$widget!==!1){var n=this.$widget.find("input.bootstrap-timepicker-hour").val()+":"+this.$widget.find("input.bootstrap-timepicker-minute").val()+(this.showSeconds?":"+this.$widget.find("input.bootstrap-timepicker-second").val():"")+(this.showMeridian?this.$widget.find("input.bootstrap-timepicker-meridian").val():"");this.setTime(n,!0)}},widgetClick:function(t){t.stopPropagation();t.preventDefault();var i=n(t.target),r=i.closest("a").data("action");r&&this[r]();this.update();i.is("input")&&i.get(0).setSelectionRange(0,2)},widgetKeydown:function(t){var r=n(t.target),i=r.attr("class").replace("bootstrap-timepicker-","");switch(t.which){case 9:if(t.shiftKey){if("hour"===i)return this.hideWidget()}else if(this.showMeridian&&"meridian"===i||this.showSeconds&&"second"===i||!this.showMeridian&&!this.showSeconds&&"minute"===i)return this.hideWidget();break;case 27:this.hideWidget();break;case 38:switch(t.preventDefault(),i){case"hour":this.incrementHour();break;case"minute":this.incrementMinute();break;case"second":this.incrementSecond();break;case"meridian":this.toggleMeridian()}this.setTime(this.getTime());r.get(0).setSelectionRange(0,2);break;case 40:switch(t.preventDefault(),i){case"hour":this.decrementHour();break;case"minute":this.decrementMinute();break;case"second":this.decrementSecond();break;case"meridian":this.toggleMeridian()}this.setTime(this.getTime());r.get(0).setSelectionRange(0,2)}},widgetKeyup:function(n){(65===n.which||77===n.which||80===n.which||46===n.which||8===n.which||n.which>=48&&n.which<=57||n.which>=96&&n.which<=105)&&this.updateFromWidgetInputs()}};n.fn.timepicker=function(t){var i=Array.apply(null,arguments);return i.shift(),this.each(function(){var f=n(this),u=f.data("timepicker"),e="object"==typeof t&&t;u||f.data("timepicker",u=new r(this,n.extend({},n.fn.timepicker.defaults,e,n(this).data())));"string"==typeof t&&u[t].apply(u,i)})};n.fn.timepicker.defaults={defaultTime:"current",disableFocus:!1,disableMousewheel:!1,isOpen:!1,minuteStep:15,modalBackdrop:!1,orientation:{x:"auto",y:"auto"},secondStep:15,snapToStep:!1,showSeconds:!1,showInputs:!0,showMeridian:!0,template:"dropdown",appendWidgetTo:"body",showWidgetOnAddonClick:!0,icons:{up:"glyphicon glyphicon-chevron-up",down:"glyphicon glyphicon-chevron-down"},maxHours:24,explicitMode:!1};n.fn.timepicker.Constructor=r;n(i).on("focus.timepicker.data-api click.timepicker.data-api",'[data-provide="timepicker"]',function(t){var i=n(this);i.data("timepicker")||(t.preventDefault(),i.timepicker())})}(jQuery,window,document),function(){var n,r,t,i,u,f={}.hasOwnProperty,e=function(n,t){function r(){this.constructor=n}for(var i in t)f.call(t,i)&&(n[i]=t[i]);return r.prototype=t.prototype,n.prototype=new r,n.__super__=t.prototype,n};i=function(){function n(){this.options_index=0;this.parsed=[]}return n.prototype.add_node=function(n){return"OPTGROUP"===n.nodeName.toUpperCase()?this.add_group(n):this.add_option(n)},n.prototype.add_group=function(n){var i,f,t,e,r,u;for(i=this.parsed.length,this.parsed.push({array_index:i,group:!0,label:this.escapeExpression(n.label),title:n.title?n.title:void 0,children:0,disabled:n.disabled,classes:n.className}),r=n.childNodes,u=[],t=0,e=r.length;e>t;t++)f=r[t],u.push(this.add_option(f,i,n.disabled));return u},n.prototype.add_option=function(n,t,i){if("OPTION"===n.nodeName.toUpperCase())return(""!==n.text?(null!=t&&(this.parsed[t].children+=1),this.parsed.push({array_index:this.parsed.length,options_index:this.options_index,value:n.value,text:n.text,html:n.innerHTML,title:n.title?n.title:void 0,selected:n.selected,disabled:i===!0?i:n.disabled,group_array_index:t,group_label:null!=t?this.parsed[t].label:null,classes:n.className,style:n.style.cssText})):this.parsed.push({array_index:this.parsed.length,options_index:this.options_index,empty:!0}),this.options_index+=1)},n.prototype.escapeExpression=function(n){var t,i;return null==n||n===!1?"":/[\&\<\>\"\'\`]/.test(n)?(t={"<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#x27;","`":"&#x60;"},i=/&(?!\w+;)|[\<\>\"\'\`]/g,n.replace(i,function(n){return t[n]||"&amp;"})):n},n}();i.select_to_array=function(n){var f,r,t,e,u;for(r=new i,u=n.childNodes,t=0,e=u.length;e>t;t++)f=u[t],r.add_node(f);return r.parsed};r=function(){function n(t,i){this.form_field=t;this.options=null!=i?i:{};n.browser_is_supported()&&(this.is_multiple=this.form_field.multiple,this.set_default_text(),this.set_default_values(),this.setup(),this.set_up_html(),this.register_observers(),this.on_ready())}return n.prototype.set_default_values=function(){var n=this;return this.click_test_action=function(t){return n.test_active_click(t)},this.activate_action=function(t){return n.activate_field(t)},this.active_field=!1,this.mouse_on_container=!1,this.results_showing=!1,this.result_highlighted=null,this.allow_single_deselect=null!=this.options.allow_single_deselect&&null!=this.form_field.options[0]&&""===this.form_field.options[0].text?this.options.allow_single_deselect:!1,this.disable_search_threshold=this.options.disable_search_threshold||0,this.disable_search=this.options.disable_search||!1,this.enable_split_word_search=null!=this.options.enable_split_word_search?this.options.enable_split_word_search:!0,this.group_search=null!=this.options.group_search?this.options.group_search:!0,this.search_contains=this.options.search_contains||!1,this.single_backstroke_delete=null!=this.options.single_backstroke_delete?this.options.single_backstroke_delete:!0,this.max_selected_options=this.options.max_selected_options||1/0,this.inherit_select_classes=this.options.inherit_select_classes||!1,this.display_selected_options=null!=this.options.display_selected_options?this.options.display_selected_options:!0,this.display_disabled_options=null!=this.options.display_disabled_options?this.options.display_disabled_options:!0,this.include_group_label_in_selected=this.options.include_group_label_in_selected||!1},n.prototype.set_default_text=function(){return this.default_text=this.form_field.getAttribute("data-placeholder")?this.form_field.getAttribute("data-placeholder"):this.is_multiple?this.options.placeholder_text_multiple||this.options.placeholder_text||n.default_multiple_text:this.options.placeholder_text_single||this.options.placeholder_text||n.default_single_text,this.results_none_found=this.form_field.getAttribute("data-no_results_text")||this.options.no_results_text||n.default_no_result_text},n.prototype.choice_label=function(n){return this.include_group_label_in_selected&&null!=n.group_label?"<b class='group-name'>"+n.group_label+"<\/b>"+n.html:n.html},n.prototype.mouse_enter=function(){return this.mouse_on_container=!0},n.prototype.mouse_leave=function(){return this.mouse_on_container=!1},n.prototype.input_focus=function(){var n=this;if(this.is_multiple){if(!this.active_field)return setTimeout(function(){return n.container_mousedown()},50)}else if(!this.active_field)return this.activate_field()},n.prototype.input_blur=function(){var n=this;if(!this.mouse_on_container)return(this.active_field=!1,setTimeout(function(){return n.blur_test()},100))},n.prototype.results_option_build=function(n){var r,t,i,f,u;for(r="",u=this.results_data,i=0,f=u.length;f>i;i++)t=u[i],r+=t.group?this.result_add_group(t):this.result_add_option(t),(null!=n?n.first:void 0)&&(t.selected&&this.is_multiple?this.choice_build(t):t.selected&&!this.is_multiple&&this.single_set_selected_text(this.choice_label(t)));return r},n.prototype.result_add_option=function(n){var t,i;return n.search_match?this.include_option_in_results(n)?(t=[],n.disabled||n.selected&&this.is_multiple||t.push("active-result"),!n.disabled||n.selected&&this.is_multiple||t.push("disabled-result"),n.selected&&t.push("result-selected"),null!=n.group_array_index&&t.push("group-option"),""!==n.classes&&t.push(n.classes),i=document.createElement("li"),i.className=t.join(" "),i.style.cssText=n.style,i.setAttribute("data-option-array-index",n.array_index),i.innerHTML=n.search_text,n.title&&(i.title=n.title),this.outerHTML(i)):"":""},n.prototype.result_add_group=function(n){var i,t;return n.search_match||n.group_match?n.active_options>0?(i=[],i.push("group-result"),n.classes&&i.push(n.classes),t=document.createElement("li"),t.className=i.join(" "),t.innerHTML=n.search_text,n.title&&(t.title=n.title),this.outerHTML(t)):"":""},n.prototype.results_update_field=function(){return this.set_default_text(),this.is_multiple||this.results_reset_cleanup(),this.result_clear_highlight(),this.results_build(),this.results_showing?this.winnow_results():void 0},n.prototype.reset_single_select_options=function(){var i,n,u,r,t;for(r=this.results_data,t=[],n=0,u=r.length;u>n;n++)i=r[n],i.selected?t.push(i.selected=!1):t.push(void 0);return t},n.prototype.results_toggle=function(){return this.results_showing?this.results_hide():this.results_show()},n.prototype.results_search=function(){return this.results_showing?this.winnow_results():this.results_show()},n.prototype.winnow_results=function(){var e,n,h,u,t,i,r,o,c,f,l,s;for(this.no_results_clear(),u=0,i=this.get_search_text(),e=i.replace(/[-[\]{}()*+?.,\\^$|#\s]/g,"\\$&"),c=new RegExp(e,"i"),h=this.get_search_regex(e),s=this.results_data,f=0,l=s.length;l>f;f++)n=s[f],n.search_match=!1,t=null,this.include_option_in_results(n)&&(n.group&&(n.group_match=!1,n.active_options=0),null!=n.group_array_index&&this.results_data[n.group_array_index]&&(t=this.results_data[n.group_array_index],0===t.active_options&&t.search_match&&(u+=1),t.active_options+=1),n.search_text=n.group?n.label:n.html,(!n.group||this.group_search)&&(n.search_match=this.search_string_match(n.search_text,h),n.search_match&&!n.group&&(u+=1),n.search_match?(i.length&&(r=n.search_text.search(c),o=n.search_text.substr(0,r+i.length)+"<\/em>"+n.search_text.substr(r+i.length),n.search_text=o.substr(0,r)+"<em>"+o.substr(r)),null!=t&&(t.group_match=!0)):null!=n.group_array_index&&this.results_data[n.group_array_index].search_match&&(n.search_match=!0)));return this.result_clear_highlight(),1>u&&i.length?(this.update_results_content(""),this.no_results(i)):(this.update_results_content(this.results_option_build()),this.winnow_results_set_highlight())},n.prototype.get_search_regex=function(n){var t;return t=this.search_contains?"":"^",new RegExp(t+n,"i")},n.prototype.search_string_match=function(n,t){var u,i,r,f;if(t.test(n))return!0;if(this.enable_split_word_search&&(n.indexOf(" ")>=0||0===n.indexOf("["))&&(i=n.replace(/\[|\]/g,"").split(" "),i.length))for(r=0,f=i.length;f>r;r++)if(u=i[r],t.test(u))return!0},n.prototype.choices_count=function(){var i,n,r,t;if(null!=this.selected_option_count)return this.selected_option_count;for(this.selected_option_count=0,t=this.form_field.options,n=0,r=t.length;r>n;n++)i=t[n],i.selected&&(this.selected_option_count+=1);return this.selected_option_count},n.prototype.choices_click=function(n){return n.preventDefault(),this.results_showing||this.is_disabled?void 0:this.results_show()},n.prototype.keyup_checker=function(n){var t,i;switch(t=null!=(i=n.which)?i:n.keyCode,this.search_field_scale(),t){case 8:if(this.is_multiple&&this.backstroke_length<1&&this.choices_count()>0)return this.keydown_backstroke();if(!this.pending_backstroke)return this.result_clear_highlight(),this.results_search();break;case 13:if(n.preventDefault(),this.results_showing)return this.result_select(n);break;case 27:return this.results_showing&&this.results_hide(),!0;case 9:case 38:case 40:case 16:case 91:case 17:break;default:return this.results_search()}},n.prototype.clipboard_event_checker=function(){var n=this;return setTimeout(function(){return n.results_search()},50)},n.prototype.container_width=function(){return null!=this.options.width?this.options.width:""+this.form_field.offsetWidth+"px"},n.prototype.include_option_in_results=function(n){return this.is_multiple&&!this.display_selected_options&&n.selected?!1:!this.display_disabled_options&&n.disabled?!1:n.empty?!1:!0},n.prototype.search_results_touchstart=function(n){return this.touch_started=!0,this.search_results_mouseover(n)},n.prototype.search_results_touchmove=function(n){return this.touch_started=!1,this.search_results_mouseout(n)},n.prototype.search_results_touchend=function(n){if(this.touch_started)return this.search_results_mouseup(n)},n.prototype.outerHTML=function(n){var t;return n.outerHTML?n.outerHTML:(t=document.createElement("div"),t.appendChild(n),t.innerHTML)},n.browser_is_supported=function(){return"Microsoft Internet Explorer"===window.navigator.appName?document.documentMode>=8:/iP(od|hone)/i.test(window.navigator.userAgent)?!1:/Android/i.test(window.navigator.userAgent)&&/Mobile/i.test(window.navigator.userAgent)?!1:!0},n.default_multiple_text="Select Some Options",n.default_single_text="Select an Option",n.default_no_result_text="No results match",n}();n=jQuery;n.fn.extend({chosen:function(i){return r.browser_is_supported()?this.each(function(){var u,r;u=n(this);r=u.data("chosen");"destroy"===i&&r instanceof t?r.destroy():r instanceof t||u.data("chosen",new t(this,i))}):this}});t=function(t){function r(){return u=r.__super__.constructor.apply(this,arguments)}return e(r,t),r.prototype.setup=function(){return this.form_field_jq=n(this.form_field),this.current_selectedIndex=this.form_field.selectedIndex,this.is_rtl=this.form_field_jq.hasClass("chosen-rtl")},r.prototype.set_up_html=function(){var t,i;return t=["chosen-container"],t.push("chosen-container-"+(this.is_multiple?"multi":"single")),this.inherit_select_classes&&this.form_field.className&&t.push(this.form_field.className),this.is_rtl&&t.push("chosen-rtl"),i={"class":t.join(" "),style:"width: "+this.container_width()+";",title:this.form_field.title},this.form_field.id.length&&(i.id=this.form_field.id.replace(/[^\w]/g,"_")+"_chosen"),this.container=n("<div />",i),this.is_multiple?this.container.html('<ul class="chosen-choices"><li class="search-field"><input type="text" value="'+this.default_text+'" class="default" autocomplete="off" style="width:25px;" /><\/li><\/ul><div class="chosen-drop"><ul class="chosen-results"><\/ul><\/div>'):this.container.html('<a class="chosen-single chosen-default" tabindex="-1"><span>'+this.default_text+'<\/span><div><b><\/b><\/div><\/a><div class="chosen-drop"><div class="chosen-search"><input type="text" autocomplete="off" /><\/div><ul class="chosen-results"><\/ul><\/div>'),this.form_field_jq.hide().after(this.container),this.dropdown=this.container.find("div.chosen-drop").first(),this.search_field=this.container.find("input").first(),this.search_results=this.container.find("ul.chosen-results").first(),this.search_field_scale(),this.search_no_results=this.container.find("li.no-results").first(),this.is_multiple?(this.search_choices=this.container.find("ul.chosen-choices").first(),this.search_container=this.container.find("li.search-field").first()):(this.search_container=this.container.find("div.chosen-search").first(),this.selected_item=this.container.find(".chosen-single").first()),this.results_build(),this.set_tab_index(),this.set_label_behavior()},r.prototype.on_ready=function(){return this.form_field_jq.trigger("chosen:ready",{chosen:this})},r.prototype.register_observers=function(){var n=this;return this.container.bind("touchstart.chosen",function(t){return n.container_mousedown(t),t.preventDefault()}),this.container.bind("touchend.chosen",function(t){return n.container_mouseup(t),t.preventDefault()}),this.container.bind("mousedown.chosen",function(t){n.container_mousedown(t)}),this.container.bind("mouseup.chosen",function(t){n.container_mouseup(t)}),this.container.bind("mouseenter.chosen",function(t){n.mouse_enter(t)}),this.container.bind("mouseleave.chosen",function(t){n.mouse_leave(t)}),this.search_results.bind("mouseup.chosen",function(t){n.search_results_mouseup(t)}),this.search_results.bind("mouseover.chosen",function(t){n.search_results_mouseover(t)}),this.search_results.bind("mouseout.chosen",function(t){n.search_results_mouseout(t)}),this.search_results.bind("mousewheel.chosen DOMMouseScroll.chosen",function(t){n.search_results_mousewheel(t)}),this.search_results.bind("touchstart.chosen",function(t){n.search_results_touchstart(t)}),this.search_results.bind("touchmove.chosen",function(t){n.search_results_touchmove(t)}),this.search_results.bind("touchend.chosen",function(t){n.search_results_touchend(t)}),this.form_field_jq.bind("chosen:updated.chosen",function(t){n.results_update_field(t)}),this.form_field_jq.bind("chosen:activate.chosen",function(t){n.activate_field(t)}),this.form_field_jq.bind("chosen:open.chosen",function(t){n.container_mousedown(t)}),this.form_field_jq.bind("chosen:close.chosen",function(t){n.input_blur(t)}),this.search_field.bind("blur.chosen",function(t){n.input_blur(t)}),this.search_field.bind("keyup.chosen",function(t){n.keyup_checker(t)}),this.search_field.bind("keydown.chosen",function(t){n.keydown_checker(t)}),this.search_field.bind("focus.chosen",function(t){n.input_focus(t)}),this.search_field.bind("cut.chosen",function(t){n.clipboard_event_checker(t)}),this.search_field.bind("paste.chosen",function(t){n.clipboard_event_checker(t)}),this.is_multiple?this.search_choices.bind("click.chosen",function(t){n.choices_click(t)}):this.container.bind("click.chosen",function(n){n.preventDefault()})},r.prototype.destroy=function(){return n(this.container[0].ownerDocument).unbind("click.chosen",this.click_test_action),this.search_field[0].tabIndex&&(this.form_field_jq[0].tabIndex=this.search_field[0].tabIndex),this.container.remove(),this.form_field_jq.removeData("chosen"),this.form_field_jq.show()},r.prototype.search_field_disabled=function(){return this.is_disabled=this.form_field_jq[0].disabled,this.is_disabled?(this.container.addClass("chosen-disabled"),this.search_field[0].disabled=!0,this.is_multiple||this.selected_item.unbind("focus.chosen",this.activate_action),this.close_field()):(this.container.removeClass("chosen-disabled"),this.search_field[0].disabled=!1,this.is_multiple?void 0:this.selected_item.bind("focus.chosen",this.activate_action))},r.prototype.container_mousedown=function(t){if(!this.is_disabled&&(t&&"mousedown"===t.type&&!this.results_showing&&t.preventDefault(),null==t||!n(t.target).hasClass("search-choice-close")))return(this.active_field?this.is_multiple||!t||n(t.target)[0]!==this.selected_item[0]&&!n(t.target).parents("a.chosen-single").length||(t.preventDefault(),this.results_toggle()):(this.is_multiple&&this.search_field.val(""),n(this.container[0].ownerDocument).bind("click.chosen",this.click_test_action),this.results_show()),this.activate_field())},r.prototype.container_mouseup=function(n){if("ABBR"===n.target.nodeName&&!this.is_disabled)return this.results_reset(n)},r.prototype.search_results_mousewheel=function(n){var t;return n.originalEvent&&(t=n.originalEvent.deltaY||-n.originalEvent.wheelDelta||n.originalEvent.detail),null!=t?(n.preventDefault(),"DOMMouseScroll"===n.type&&(t=40*t),this.search_results.scrollTop(t+this.search_results.scrollTop())):void 0},r.prototype.blur_test=function(){if(!this.active_field&&this.container.hasClass("chosen-container-active"))return this.close_field()},r.prototype.close_field=function(){return n(this.container[0].ownerDocument).unbind("click.chosen",this.click_test_action),this.active_field=!1,this.results_hide(),this.container.removeClass("chosen-container-active"),this.clear_backstroke(),this.show_search_field_default(),this.search_field_scale()},r.prototype.activate_field=function(){return this.container.addClass("chosen-container-active"),this.active_field=!0,this.search_field.val(this.search_field.val()),this.search_field.focus()},r.prototype.test_active_click=function(t){var i;return i=n(t.target).closest(".chosen-container"),i.length&&this.container[0]===i[0]?this.active_field=!0:this.close_field()},r.prototype.results_build=function(){return this.parsing=!0,this.selected_option_count=null,this.results_data=i.select_to_array(this.form_field),this.is_multiple?this.search_choices.find("li.search-choice").remove():this.is_multiple||(this.single_set_selected_text(),this.disable_search||this.form_field.options.length<=this.disable_search_threshold?(this.search_field[0].readOnly=!0,this.container.addClass("chosen-container-single-nosearch")):(this.search_field[0].readOnly=!1,this.container.removeClass("chosen-container-single-nosearch"))),this.update_results_content(this.results_option_build({first:!0})),this.search_field_disabled(),this.show_search_field_default(),this.search_field_scale(),this.parsing=!1},r.prototype.result_do_highlight=function(n){var t,i,r,f,u;if(n.length){if(this.result_clear_highlight(),this.result_highlight=n,this.result_highlight.addClass("highlighted"),r=parseInt(this.search_results.css("maxHeight"),10),u=this.search_results.scrollTop(),f=r+u,i=this.result_highlight.position().top+this.search_results.scrollTop(),t=i+this.result_highlight.outerHeight(),t>=f)return this.search_results.scrollTop(t-r>0?t-r:0);if(u>i)return this.search_results.scrollTop(i)}},r.prototype.result_clear_highlight=function(){return this.result_highlight&&this.result_highlight.removeClass("highlighted"),this.result_highlight=null},r.prototype.results_show=function(){return this.is_multiple&&this.max_selected_options<=this.choices_count()?(this.form_field_jq.trigger("chosen:maxselected",{chosen:this}),!1):(this.container.addClass("chosen-with-drop"),this.results_showing=!0,this.search_field.focus(),this.search_field.val(this.search_field.val()),this.winnow_results(),this.form_field_jq.trigger("chosen:showing_dropdown",{chosen:this}))},r.prototype.update_results_content=function(n){return this.search_results.html(n)},r.prototype.results_hide=function(){return this.results_showing&&(this.result_clear_highlight(),this.container.removeClass("chosen-with-drop"),this.form_field_jq.trigger("chosen:hiding_dropdown",{chosen:this})),this.results_showing=!1},r.prototype.set_tab_index=function(){var n;if(this.form_field.tabIndex)return(n=this.form_field.tabIndex,this.form_field.tabIndex=-1,this.search_field[0].tabIndex=n)},r.prototype.set_label_behavior=function(){var t=this;return this.form_field_label=this.form_field_jq.parents("label"),!this.form_field_label.length&&this.form_field.id.length&&(this.form_field_label=n("label[for='"+this.form_field.id+"']")),this.form_field_label.length>0?this.form_field_label.bind("click.chosen",function(n){return t.is_multiple?t.container_mousedown(n):t.activate_field()}):void 0},r.prototype.show_search_field_default=function(){return this.is_multiple&&this.choices_count()<1&&!this.active_field?(this.search_field.val(this.default_text),this.search_field.addClass("default")):(this.search_field.val(""),this.search_field.removeClass("default"))},r.prototype.search_results_mouseup=function(t){var i;return i=n(t.target).hasClass("active-result")?n(t.target):n(t.target).parents(".active-result").first(),i.length?(this.result_highlight=i,this.result_select(t),this.search_field.focus()):void 0},r.prototype.search_results_mouseover=function(t){var i;return i=n(t.target).hasClass("active-result")?n(t.target):n(t.target).parents(".active-result").first(),i?this.result_do_highlight(i):void 0},r.prototype.search_results_mouseout=function(t){if(n(t.target).hasClass("active-result"))return this.result_clear_highlight()},r.prototype.choice_build=function(t){var i,r,u=this;return i=n("<li />",{"class":"search-choice"}).html("<span>"+this.choice_label(t)+"<\/span>"),t.disabled?i.addClass("search-choice-disabled"):(r=n("<a />",{"class":"search-choice-close","data-option-array-index":t.array_index}),r.bind("click.chosen",function(n){return u.choice_destroy_link_click(n)}),i.append(r)),this.search_container.before(i)},r.prototype.choice_destroy_link_click=function(t){return t.preventDefault(),t.stopPropagation(),this.is_disabled?void 0:this.choice_destroy(n(t.target))},r.prototype.choice_destroy=function(n){if(this.result_deselect(n[0].getAttribute("data-option-array-index")))return(this.show_search_field_default(),this.is_multiple&&this.choices_count()>0&&this.search_field.val().length<1&&this.results_hide(),n.parents("li").first().remove(),this.search_field_scale())},r.prototype.results_reset=function(){return this.reset_single_select_options(),this.form_field.options[0].selected=!0,this.single_set_selected_text(),this.show_search_field_default(),this.results_reset_cleanup(),this.form_field_jq.trigger("change"),this.active_field?this.results_hide():void 0},r.prototype.results_reset_cleanup=function(){return this.current_selectedIndex=this.form_field.selectedIndex,this.selected_item.find("abbr").remove()},r.prototype.result_select=function(n){var i,t;if(this.result_highlight)return(i=this.result_highlight,this.result_clear_highlight(),this.is_multiple&&this.max_selected_options<=this.choices_count()?(this.form_field_jq.trigger("chosen:maxselected",{chosen:this}),!1):(this.is_multiple?i.removeClass("active-result"):this.reset_single_select_options(),i.addClass("result-selected"),t=this.results_data[i[0].getAttribute("data-option-array-index")],t.selected=!0,this.form_field.options[t.options_index].selected=!0,this.selected_option_count=null,this.is_multiple?this.choice_build(t):this.single_set_selected_text(this.choice_label(t)),(n.metaKey||n.ctrlKey)&&this.is_multiple||this.results_hide(),this.search_field.val(""),(this.is_multiple||this.form_field.selectedIndex!==this.current_selectedIndex)&&this.form_field_jq.trigger("change",{selected:this.form_field.options[t.options_index].value}),this.current_selectedIndex=this.form_field.selectedIndex,n.preventDefault(),this.search_field_scale()))},r.prototype.single_set_selected_text=function(n){return null==n&&(n=this.default_text),n===this.default_text?this.selected_item.addClass("chosen-default"):(this.single_deselect_control_build(),this.selected_item.removeClass("chosen-default")),this.selected_item.find("span").html(n)},r.prototype.result_deselect=function(n){var t;return t=this.results_data[n],this.form_field.options[t.options_index].disabled?!1:(t.selected=!1,this.form_field.options[t.options_index].selected=!1,this.selected_option_count=null,this.result_clear_highlight(),this.results_showing&&this.winnow_results(),this.form_field_jq.trigger("change",{deselected:this.form_field.options[t.options_index].value}),this.search_field_scale(),!0)},r.prototype.single_deselect_control_build=function(){if(this.allow_single_deselect)return(this.selected_item.find("abbr").length||this.selected_item.find("span").first().after('<abbr class="search-choice-close"><\/abbr>'),this.selected_item.addClass("chosen-single-with-deselect"))},r.prototype.get_search_text=function(){return n("<div/>").text(n.trim(this.search_field.val())).html()},r.prototype.winnow_results_set_highlight=function(){var n,t;return t=this.is_multiple?[]:this.search_results.find(".result-selected.active-result"),n=t.length?t.first():this.search_results.find(".active-result").first(),null!=n?this.result_do_highlight(n):void 0},r.prototype.no_results=function(t){var i;return i=n('<li class="no-results">'+this.results_none_found+' "<span><\/span>"<\/li>'),i.find("span").first().html(t),this.search_results.append(i),this.form_field_jq.trigger("chosen:no_results",{chosen:this})},r.prototype.no_results_clear=function(){return this.search_results.find(".no-results").remove()},r.prototype.keydown_arrow=function(){var n;return this.results_showing&&this.result_highlight?(n=this.result_highlight.nextAll("li.active-result").first())?this.result_do_highlight(n):void 0:this.results_show()},r.prototype.keyup_arrow=function(){var n;return this.results_showing||this.is_multiple?this.result_highlight?(n=this.result_highlight.prevAll("li.active-result"),n.length?this.result_do_highlight(n.first()):(this.choices_count()>0&&this.results_hide(),this.result_clear_highlight())):void 0:this.results_show()},r.prototype.keydown_backstroke=function(){var n;return this.pending_backstroke?(this.choice_destroy(this.pending_backstroke.find("a").first()),this.clear_backstroke()):(n=this.search_container.siblings("li.search-choice").last(),n.length&&!n.hasClass("search-choice-disabled")?(this.pending_backstroke=n,this.single_backstroke_delete?this.keydown_backstroke():this.pending_backstroke.addClass("search-choice-focus")):void 0)},r.prototype.clear_backstroke=function(){return this.pending_backstroke&&this.pending_backstroke.removeClass("search-choice-focus"),this.pending_backstroke=null},r.prototype.keydown_checker=function(n){var t,i;switch(t=null!=(i=n.which)?i:n.keyCode,this.search_field_scale(),8!==t&&this.pending_backstroke&&this.clear_backstroke(),t){case 8:this.backstroke_length=this.search_field.val().length;break;case 9:this.results_showing&&!this.is_multiple&&this.result_select(n);this.mouse_on_container=!1;break;case 13:this.results_showing&&n.preventDefault();break;case 32:this.disable_search&&n.preventDefault();break;case 38:n.preventDefault();this.keyup_arrow();break;case 40:n.preventDefault();this.keydown_arrow()}},r.prototype.search_field_scale=function(){var t,u,h,f,e,o,i,r,s;if(this.is_multiple){for(h=0,i=0,e="position:absolute; left: -1000px; top: -1000px; display:none;",o=["font-size","font-style","font-weight","font-family","line-height","text-transform","letter-spacing"],r=0,s=o.length;s>r;r++)f=o[r],e+=f+":"+this.search_field.css(f)+";";return t=n("<div />",{style:e}),t.text(this.search_field.val()),n("body").append(t),i=t.width()+25,t.remove(),u=this.container.outerWidth(),i>u-10&&(i=u-10),this.search_field.css({width:i+"px"})}},r}(r)}.call(this);!function(n){"function"==typeof define&&define.amd?define(["jquery"],n):n(jQuery)}(function(n){n.extend(n.fn,{validate:function(t){if(!this.length)return void(t&&t.debug&&window.console&&console.warn("Nothing selected, can't validate, returning nothing."));var i=n.data(this[0],"validator");return i?i:(this.attr("novalidate","novalidate"),i=new n.validator(t,this[0]),n.data(this[0],"validator",i),i.settings.onsubmit&&(this.validateDelegate(":submit","click",function(t){i.settings.submitHandler&&(i.submitButton=t.target);n(t.target).hasClass("cancel")&&(i.cancelSubmit=!0);void 0!==n(t.target).attr("formnovalidate")&&(i.cancelSubmit=!0)}),this.submit(function(t){function r(){var u,r;return i.settings.submitHandler?(i.submitButton&&(u=n("<input type='hidden'/>").attr("name",i.submitButton.name).val(n(i.submitButton).val()).appendTo(i.currentForm)),r=i.settings.submitHandler.call(i,i.currentForm,t),i.submitButton&&u.remove(),void 0!==r?r:!1):!0}return i.settings.debug&&t.preventDefault(),i.cancelSubmit?(i.cancelSubmit=!1,r()):i.form()?i.pendingRequest?(i.formSubmitted=!0,!1):r():(i.focusInvalid(),!1)})),i)},valid:function(){var t,i;return n(this[0]).is("form")?t=this.validate().form():(t=!0,i=n(this[0].form).validate(),this.each(function(){t=i.element(this)&&t})),t},removeAttrs:function(t){var i={},r=this;return n.each(t.split(/\s/),function(n,t){i[t]=r.attr(t);r.removeAttr(t)}),i},rules:function(t,i){var e,s,f,u,o,h,r=this[0];if(t)switch(e=n.data(r.form,"validator").settings,s=e.rules,f=n.validator.staticRules(r),t){case"add":n.extend(f,n.validator.normalizeRule(i));delete f.messages;s[r.name]=f;i.messages&&(e.messages[r.name]=n.extend(e.messages[r.name],i.messages));break;case"remove":return i?(h={},n.each(i.split(/\s/),function(t,i){h[i]=f[i];delete f[i];"required"===i&&n(r).removeAttr("aria-required")}),h):(delete s[r.name],f)}return u=n.validator.normalizeRules(n.extend({},n.validator.classRules(r),n.validator.attributeRules(r),n.validator.dataRules(r),n.validator.staticRules(r)),r),u.required&&(o=u.required,delete u.required,u=n.extend({required:o},u),n(r).attr("aria-required","true")),u.remote&&(o=u.remote,delete u.remote,u=n.extend(u,{remote:o})),u}});n.extend(n.expr[":"],{blank:function(t){return!n.trim(""+n(t).val())},filled:function(t){return!!n.trim(""+n(t).val())},unchecked:function(t){return!n(t).prop("checked")}});n.validator=function(t,i){this.settings=n.extend(!0,{},n.validator.defaults,t);this.currentForm=i;this.init()};n.validator.format=function(t,i){return 1===arguments.length?function(){var i=n.makeArray(arguments);return i.unshift(t),n.validator.format.apply(this,i)}:(arguments.length>2&&i.constructor!==Array&&(i=n.makeArray(arguments).slice(1)),i.constructor!==Array&&(i=[i]),n.each(i,function(n,i){t=t.replace(new RegExp("\\{"+n+"\\}","g"),function(){return i})}),t)};n.extend(n.validator,{defaults:{messages:{},groups:{},rules:{},errorClass:"error",validClass:"valid",errorElement:"label",focusCleanup:!1,focusInvalid:!0,errorContainer:n([]),errorLabelContainer:n([]),onsubmit:!0,ignore:":hidden",ignoreTitle:!1,onfocusin:function(n){this.lastActive=n;this.settings.focusCleanup&&(this.settings.unhighlight&&this.settings.unhighlight.call(this,n,this.settings.errorClass,this.settings.validClass),this.hideThese(this.errorsFor(n)))},onfocusout:function(n){!this.checkable(n)&&(n.name in this.submitted||!this.optional(n))&&this.element(n)},onkeyup:function(n,t){(9!==t.which||""!==this.elementValue(n))&&(n.name in this.submitted||n===this.lastElement)&&this.element(n)},onclick:function(n){n.name in this.submitted?this.element(n):n.parentNode.name in this.submitted&&this.element(n.parentNode)},highlight:function(t,i,r){"radio"===t.type?this.findByName(t.name).addClass(i).removeClass(r):n(t).addClass(i).removeClass(r)},unhighlight:function(t,i,r){"radio"===t.type?this.findByName(t.name).removeClass(i).addClass(r):n(t).removeClass(i).addClass(r)}},setDefaults:function(t){n.extend(n.validator.defaults,t)},messages:{required:"This field is required.",remote:"Please fix this field.",email:"Please enter a valid email address.",url:"Please enter a valid URL.",date:"Please enter a valid date.",dateISO:"Please enter a valid date ( ISO ).",number:"Please enter a valid number.",digits:"Please enter only digits.",creditcard:"Please enter a valid credit card number.",equalTo:"Please enter the same value again.",maxlength:n.validator.format("Please enter no more than {0} characters."),minlength:n.validator.format("Please enter at least {0} characters."),rangelength:n.validator.format("Please enter a value between {0} and {1} characters long."),range:n.validator.format("Please enter a value between {0} and {1}."),max:n.validator.format("Please enter a value less than or equal to {0}."),min:n.validator.format("Please enter a value greater than or equal to {0}.")},autoCreateRanges:!1,prototype:{init:function(){function i(t){var r=n.data(this[0].form,"validator"),u="on"+t.type.replace(/^validate/,""),i=r.settings;i[u]&&!this.is(i.ignore)&&i[u].call(r,this[0],t)}this.labelContainer=n(this.settings.errorLabelContainer);this.errorContext=this.labelContainer.length&&this.labelContainer||n(this.currentForm);this.containers=n(this.settings.errorContainer).add(this.settings.errorLabelContainer);this.submitted={};this.valueCache={};this.pendingRequest=0;this.pending={};this.invalid={};this.reset();var t,r=this.groups={};n.each(this.settings.groups,function(t,i){"string"==typeof i&&(i=i.split(/\s/));n.each(i,function(n,i){r[i]=t})});t=this.settings.rules;n.each(t,function(i,r){t[i]=n.validator.normalizeRule(r)});n(this.currentForm).validateDelegate(":text, [type='password'], [type='file'], select, textarea, [type='number'], [type='search'] ,[type='tel'], [type='url'], [type='email'], [type='datetime'], [type='date'], [type='month'], [type='week'], [type='time'], [type='datetime-local'], [type='range'], [type='color'], [type='radio'], [type='checkbox']","focusin focusout keyup",i).validateDelegate("select, option, [type='radio'], [type='checkbox']","click",i);this.settings.invalidHandler&&n(this.currentForm).bind("invalid-form.validate",this.settings.invalidHandler);n(this.currentForm).find("[required], [data-rule-required], .required").attr("aria-required","true")},form:function(){return this.checkForm(),n.extend(this.submitted,this.errorMap),this.invalid=n.extend({},this.errorMap),this.valid()||n(this.currentForm).triggerHandler("invalid-form",[this]),this.showErrors(),this.valid()},checkForm:function(){this.prepareForm();for(var n=0,t=this.currentElements=this.elements();t[n];n++)this.check(t[n]);return this.valid()},element:function(t){var u=this.clean(t),i=this.validationTargetFor(u),r=!0;return this.lastElement=i,void 0===i?delete this.invalid[u.name]:(this.prepareElement(i),this.currentElements=n(i),r=this.check(i)!==!1,r?delete this.invalid[i.name]:this.invalid[i.name]=!0),n(t).attr("aria-invalid",!r),this.numberOfInvalids()||(this.toHide=this.toHide.add(this.containers)),this.showErrors(),r},showErrors:function(t){if(t){n.extend(this.errorMap,t);this.errorList=[];for(var i in t)this.errorList.push({message:t[i],element:this.findByName(i)[0]});this.successList=n.grep(this.successList,function(n){return!(n.name in t)})}this.settings.showErrors?this.settings.showErrors.call(this,this.errorMap,this.errorList):this.defaultShowErrors()},resetForm:function(){n.fn.resetForm&&n(this.currentForm).resetForm();this.submitted={};this.lastElement=null;this.prepareForm();this.hideErrors();this.elements().removeClass(this.settings.errorClass).removeData("previousValue").removeAttr("aria-invalid")},numberOfInvalids:function(){return this.objectLength(this.invalid)},objectLength:function(n){var i,t=0;for(i in n)t++;return t},hideErrors:function(){this.hideThese(this.toHide)},hideThese:function(n){n.not(this.containers).text("");this.addWrapper(n).hide()},valid:function(){return 0===this.size()},size:function(){return this.errorList.length},focusInvalid:function(){if(this.settings.focusInvalid)try{n(this.findLastActive()||this.errorList.length&&this.errorList[0].element||[]).filter(":visible").focus().trigger("focusin")}catch(t){}},findLastActive:function(){var t=this.lastActive;return t&&1===n.grep(this.errorList,function(n){return n.element.name===t.name}).length&&t},elements:function(){var t=this,i={};return n(this.currentForm).find("input, select, textarea").not(":submit, :reset, :image, [disabled], [readonly]").not(this.settings.ignore).filter(function(){return!this.name&&t.settings.debug&&window.console&&console.error("%o has no name assigned",this),this.name in i||!t.objectLength(n(this).rules())?!1:(i[this.name]=!0,!0)})},clean:function(t){return n(t)[0]},errors:function(){var t=this.settings.errorClass.split(" ").join(".");return n(this.settings.errorElement+"."+t,this.errorContext)},reset:function(){this.successList=[];this.errorList=[];this.errorMap={};this.toShow=n([]);this.toHide=n([]);this.currentElements=n([])},prepareForm:function(){this.reset();this.toHide=this.errors().add(this.containers)},prepareElement:function(n){this.reset();this.toHide=this.errorsFor(n)},elementValue:function(t){var i,u=n(t),r=t.type;return"radio"===r||"checkbox"===r?n("input[name='"+t.name+"']:checked").val():"number"===r&&"undefined"!=typeof t.validity?t.validity.badInput?!1:u.val():(i=u.val(),"string"==typeof i?i.replace(/\r/g,""):i)},check:function(t){t=this.validationTargetFor(this.clean(t));var i,r,u,f=n(t).rules(),s=n.map(f,function(n,t){return t}).length,e=!1,h=this.elementValue(t);for(r in f){u={method:r,parameters:f[r]};try{if(i=n.validator.methods[r].call(this,h,t,u.parameters),"dependency-mismatch"===i&&1===s){e=!0;continue}if(e=!1,"pending"===i)return void(this.toHide=this.toHide.not(this.errorsFor(t)));if(!i)return this.formatAndAdd(t,u),!1}catch(o){throw this.settings.debug&&window.console&&console.log("Exception occurred when checking element "+t.id+", check the '"+u.method+"' method.",o),o;}}if(!e)return this.objectLength(f)&&this.successList.push(t),!0},customDataMessage:function(t,i){return n(t).data("msg"+i.charAt(0).toUpperCase()+i.substring(1).toLowerCase())||n(t).data("msg")},customMessage:function(n,t){var i=this.settings.messages[n];return i&&(i.constructor===String?i:i[t])},findDefined:function(){for(var n=0;n<arguments.length;n++)if(void 0!==arguments[n])return arguments[n];return void 0},defaultMessage:function(t,i){return this.findDefined(this.customMessage(t.name,i),this.customDataMessage(t,i),!this.settings.ignoreTitle&&t.title||void 0,n.validator.messages[i],"<strong>Warning: No message defined for "+t.name+"<\/strong>")},formatAndAdd:function(t,i){var r=this.defaultMessage(t,i.method),u=/\$?\{(\d+)\}/g;"function"==typeof r?r=r.call(this,i.parameters,t):u.test(r)&&(r=n.validator.format(r.replace(u,"{$1}"),i.parameters));this.errorList.push({message:r,element:t,method:i.method});this.errorMap[t.name]=r;this.submitted[t.name]=r},addWrapper:function(n){return this.settings.wrapper&&(n=n.add(n.parent(this.settings.wrapper))),n},defaultShowErrors:function(){for(var i,t,n=0;this.errorList[n];n++)t=this.errorList[n],this.settings.highlight&&this.settings.highlight.call(this,t.element,this.settings.errorClass,this.settings.validClass),this.showLabel(t.element,t.message);if(this.errorList.length&&(this.toShow=this.toShow.add(this.containers)),this.settings.success)for(n=0;this.successList[n];n++)this.showLabel(this.successList[n]);if(this.settings.unhighlight)for(n=0,i=this.validElements();i[n];n++)this.settings.unhighlight.call(this,i[n],this.settings.errorClass,this.settings.validClass);this.toHide=this.toHide.not(this.toShow);this.hideErrors();this.addWrapper(this.toShow).show()},validElements:function(){return this.currentElements.not(this.invalidElements())},invalidElements:function(){return n(this.errorList).map(function(){return this.element})},showLabel:function(t,i){var u,o,e,r=this.errorsFor(t),s=this.idOrName(t),f=n(t).attr("aria-describedby");r.length?(r.removeClass(this.settings.validClass).addClass(this.settings.errorClass),r.html(i)):(r=n("<"+this.settings.errorElement+">").attr("id",s+"-error").addClass(this.settings.errorClass).html(i||""),u=r,this.settings.wrapper&&(u=r.hide().show().wrap("<"+this.settings.wrapper+"/>").parent()),this.labelContainer.length?this.labelContainer.append(u):this.settings.errorPlacement?this.settings.errorPlacement(u,n(t)):u.insertAfter(t),r.is("label")?r.attr("for",s):0===r.parents("label[for='"+s+"']").length&&(e=r.attr("id").replace(/(:|\.|\[|\])/g,"\\$1"),f?f.match(new RegExp("\\b"+e+"\\b"))||(f+=" "+e):f=e,n(t).attr("aria-describedby",f),o=this.groups[t.name],o&&n.each(this.groups,function(t,i){i===o&&n("[name='"+t+"']",this.currentForm).attr("aria-describedby",r.attr("id"))})));!i&&this.settings.success&&(r.text(""),"string"==typeof this.settings.success?r.addClass(this.settings.success):this.settings.success(r,t));this.toShow=this.toShow.add(r)},errorsFor:function(t){var r=this.idOrName(t),u=n(t).attr("aria-describedby"),i="label[for='"+r+"'], label[for='"+r+"'] *";return u&&(i=i+", #"+u.replace(/\s+/g,", #")),this.errors().filter(i)},idOrName:function(n){return this.groups[n.name]||(this.checkable(n)?n.name:n.id||n.name)},validationTargetFor:function(t){return this.checkable(t)&&(t=this.findByName(t.name)),n(t).not(this.settings.ignore)[0]},checkable:function(n){return/radio|checkbox/i.test(n.type)},findByName:function(t){return n(this.currentForm).find("[name='"+t+"']")},getLength:function(t,i){switch(i.nodeName.toLowerCase()){case"select":return n("option:selected",i).length;case"input":if(this.checkable(i))return this.findByName(i.name).filter(":checked").length}return t.length},depend:function(n,t){return this.dependTypes[typeof n]?this.dependTypes[typeof n](n,t):!0},dependTypes:{boolean:function(n){return n},string:function(t,i){return!!n(t,i.form).length},"function":function(n,t){return n(t)}},optional:function(t){var i=this.elementValue(t);return!n.validator.methods.required.call(this,i,t)&&"dependency-mismatch"},startRequest:function(n){this.pending[n.name]||(this.pendingRequest++,this.pending[n.name]=!0)},stopRequest:function(t,i){this.pendingRequest--;this.pendingRequest<0&&(this.pendingRequest=0);delete this.pending[t.name];i&&0===this.pendingRequest&&this.formSubmitted&&this.form()?(n(this.currentForm).submit(),this.formSubmitted=!1):!i&&0===this.pendingRequest&&this.formSubmitted&&(n(this.currentForm).triggerHandler("invalid-form",[this]),this.formSubmitted=!1)},previousValue:function(t){return n.data(t,"previousValue")||n.data(t,"previousValue",{old:null,valid:!0,message:this.defaultMessage(t,"remote")})}},classRuleSettings:{required:{required:!0},email:{email:!0},url:{url:!0},date:{date:!0},dateISO:{dateISO:!0},number:{number:!0},digits:{digits:!0},creditcard:{creditcard:!0}},addClassRules:function(t,i){t.constructor===String?this.classRuleSettings[t]=i:n.extend(this.classRuleSettings,t)},classRules:function(t){var i={},r=n(t).attr("class");return r&&n.each(r.split(" "),function(){this in n.validator.classRuleSettings&&n.extend(i,n.validator.classRuleSettings[this])}),i},attributeRules:function(t){var r,i,u={},e=n(t),f=t.getAttribute("type");for(r in n.validator.methods)"required"===r?(i=t.getAttribute(r),""===i&&(i=!0),i=!!i):i=e.attr(r),/min|max/.test(r)&&(null===f||/number|range|text/.test(f))&&(i=Number(i)),i||0===i?u[r]=i:f===r&&"range"!==f&&(u[r]=!0);return u.maxlength&&/-1|2147483647|524288/.test(u.maxlength)&&delete u.maxlength,u},dataRules:function(t){var i,r,u={},f=n(t);for(i in n.validator.methods)r=f.data("rule"+i.charAt(0).toUpperCase()+i.substring(1).toLowerCase()),void 0!==r&&(u[i]=r);return u},staticRules:function(t){var i={},r=n.data(t.form,"validator");return r.settings.rules&&(i=n.validator.normalizeRule(r.settings.rules[t.name])||{}),i},normalizeRules:function(t,i){return n.each(t,function(r,u){if(u===!1)return void delete t[r];if(u.param||u.depends){var f=!0;switch(typeof u.depends){case"string":f=!!n(u.depends,i.form).length;break;case"function":f=u.depends.call(i,i)}f?t[r]=void 0!==u.param?u.param:!0:delete t[r]}}),n.each(t,function(r,u){t[r]=n.isFunction(u)?u(i):u}),n.each(["minlength","maxlength"],function(){t[this]&&(t[this]=Number(t[this]))}),n.each(["rangelength","range"],function(){var i;t[this]&&(n.isArray(t[this])?t[this]=[Number(t[this][0]),Number(t[this][1])]:"string"==typeof t[this]&&(i=t[this].replace(/[\[\]]/g,"").split(/[\s,]+/),t[this]=[Number(i[0]),Number(i[1])]))}),n.validator.autoCreateRanges&&(null!=t.min&&null!=t.max&&(t.range=[t.min,t.max],delete t.min,delete t.max),null!=t.minlength&&null!=t.maxlength&&(t.rangelength=[t.minlength,t.maxlength],delete t.minlength,delete t.maxlength)),t},normalizeRule:function(t){if("string"==typeof t){var i={};n.each(t.split(/\s/),function(){i[this]=!0});t=i}return t},addMethod:function(t,i,r){n.validator.methods[t]=i;n.validator.messages[t]=void 0!==r?r:n.validator.messages[t];i.length<3&&n.validator.addClassRules(t,n.validator.normalizeRule(t))},methods:{required:function(t,i,r){if(!this.depend(r,i))return"dependency-mismatch";if("select"===i.nodeName.toLowerCase()){var u=n(i).val();return u&&u.length>0}return this.checkable(i)?this.getLength(t,i)>0:n.trim(t).length>0},email:function(n,t){return this.optional(t)||/^[a-zA-Z0-9.!#$%&'*+\/=?^_`{|}~-]+@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*$/.test(n)},url:function(n,t){return this.optional(t)||/^(https?|s?ftp):\/\/(((([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:)*@)?(((\d|[1-9]\d|1\d\d|2[0-4]\d|25[0-5])\.(\d|[1-9]\d|1\d\d|2[0-4]\d|25[0-5])\.(\d|[1-9]\d|1\d\d|2[0-4]\d|25[0-5])\.(\d|[1-9]\d|1\d\d|2[0-4]\d|25[0-5]))|((([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])*([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])))\.)+(([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])*([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])))\.?)(:\d*)?)(\/((([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:|@)+(\/(([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:|@)*)*)?)?(\?((([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:|@)|[\uE000-\uF8FF]|\/|\?)*)?(#((([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:|@)|\/|\?)*)?$/i.test(n)},date:function(n,t){return this.optional(t)||!/Invalid|NaN/.test(new Date(n).toString())},dateISO:function(n,t){return this.optional(t)||/^\d{4}[\/\-](0?[1-9]|1[012])[\/\-](0?[1-9]|[12][0-9]|3[01])$/.test(n)},number:function(n,t){return this.optional(t)||/^-?(?:\d+|\d{1,3}(?:,\d{3})+)?(?:\.\d+)?$/.test(n)},digits:function(n,t){return this.optional(t)||/^\d+$/.test(n)},creditcard:function(n,t){if(this.optional(t))return"dependency-mismatch";if(/[^0-9 \-]+/.test(n))return!1;var i,f,e=0,r=0,u=!1;if(n=n.replace(/\D/g,""),n.length<13||n.length>19)return!1;for(i=n.length-1;i>=0;i--)f=n.charAt(i),r=parseInt(f,10),u&&(r*=2)>9&&(r-=9),e+=r,u=!u;return e%10==0},minlength:function(t,i,r){var u=n.isArray(t)?t.length:this.getLength(t,i);return this.optional(i)||u>=r},maxlength:function(t,i,r){var u=n.isArray(t)?t.length:this.getLength(t,i);return this.optional(i)||r>=u},rangelength:function(t,i,r){var u=n.isArray(t)?t.length:this.getLength(t,i);return this.optional(i)||u>=r[0]&&u<=r[1]},min:function(n,t,i){return this.optional(t)||n>=i},max:function(n,t,i){return this.optional(t)||i>=n},range:function(n,t,i){return this.optional(t)||n>=i[0]&&n<=i[1]},equalTo:function(t,i,r){var u=n(r);return this.settings.onfocusout&&u.unbind(".validate-equalTo").bind("blur.validate-equalTo",function(){n(i).valid()}),t===u.val()},remote:function(t,i,r){if(this.optional(i))return"dependency-mismatch";var u,e,f=this.previousValue(i);return this.settings.messages[i.name]||(this.settings.messages[i.name]={}),f.originalMessage=this.settings.messages[i.name].remote,this.settings.messages[i.name].remote=f.message,r="string"==typeof r&&{url:r}||r,f.old===t?f.valid:(f.old=t,u=this,this.startRequest(i),e={},e[i.name]=t,n.ajax(n.extend(!0,{url:r,mode:"abort",port:"validate"+i.name,dataType:"json",data:e,context:u.currentForm,success:function(r){var o,e,h,s=r===!0||"true"===r;u.settings.messages[i.name].remote=f.originalMessage;s?(h=u.formSubmitted,u.prepareElement(i),u.formSubmitted=h,u.successList.push(i),delete u.invalid[i.name],u.showErrors()):(o={},e=r||u.defaultMessage(i,"remote"),o[i.name]=f.message=n.isFunction(e)?e(t):e,u.invalid[i.name]=!0,u.showErrors(o));f.valid=s;u.stopRequest(i,s)}},r)),"pending")}}});n.format=function(){throw"$.format has been deprecated. Please use $.validator.format instead.";};var i,t={};n.ajaxPrefilter?n.ajaxPrefilter(function(n,i,r){var u=n.port;"abort"===n.mode&&(t[u]&&t[u].abort(),t[u]=r)}):(i=n.ajax,n.ajax=function(r){var f=("mode"in r?r:n.ajaxSettings).mode,u=("port"in r?r:n.ajaxSettings).port;return"abort"===f?(t[u]&&t[u].abort(),t[u]=i.apply(this,arguments),t[u]):i.apply(this,arguments)});n.extend(n.fn,{validateDelegate:function(t,i,r){return this.bind(i,function(i){var u=n(i.target);if(u.is(t))return r.apply(u,arguments)})}})}),function(n){n.widget("ui.formwizard",{_init:function(){var t=this,i=this.options.formOptions.success,r=this.options.formOptions.complete,u=this.options.formOptions.beforeSend,f=this.options.formOptions.beforeSubmit,e=this.options.formOptions.beforeSerialize;return this.options.formOptions=n.extend(this.options.formOptions,{success:function(n,r,u){i&&i(n,r,u);(t.options.formOptions&&t.options.formOptions.resetForm||!t.options.formOptions)&&t._reset()},complete:function(n,i){r&&r(n,i);t._enableNavigation()},beforeSubmit:function(n,i,r){if(f){var u=f(n,i,r);return u||t._enableNavigation(),u}},beforeSend:function(n){if(u){var i=u(n);return i||t._enableNavigation(),i}},beforeSerialize:function(n,i){if(e){var r=e(n,i);return r||t._enableNavigation(),r}}}),this.options.historyEnabled&&n.bbq.removeState("_"+n(this.element).attr("id")),this.steps=this.element.find(".step").hide(),this.firstStep=this.steps.eq(0).attr("id"),this.activatedSteps=[],this.isLastStep=!1,this.previousStep=undefined,this.currentStep=this.steps.eq(0).attr("id"),this.nextButton=this.element.find(this.options.next).click(function(){return t._next()}),this.nextButtonInitinalValue=this.nextButton.val(),this.nextButton.val(this.options.textNext),this.backButton=this.element.find(this.options.back).click(function(){return t._back(),!1}),this.backButtonInitinalValue=this.backButton.val(),this.backButton.val(this.options.textBack),this.options.validationEnabled&&jQuery().validate==undefined?(this.options.validationEnabled=!1,window.console!==undefined&&console.log("%s","validationEnabled option set, but the validation plugin is not included")):this.options.validationEnabled&&this.element.validate(this.options.validationOptions),this.options.formPluginEnabled&&jQuery().ajaxSubmit==undefined&&(this.options.formPluginEnabled=!1,window.console!==undefined&&console.log("%s","formPluginEnabled option set but the form plugin is not included")),this.options.disableInputFields==!0&&n(this.steps).find(":input:not('.wizard-ignore')").attr("disabled","disabled"),this.options.historyEnabled&&n(window).bind("hashchange",undefined,function(i){var r=i.getState("_"+n(t.element).attr("id"))||t.firstStep;if(r!==t.currentStep){if(t.options.validationEnabled&&r===t._navigate(t.currentStep)&&!t.element.valid())return t._updateHistory(t.currentStep),t.element.validate().focusInvalid(),!1;r!==t.currentStep&&t._show(r)}}),this.element.addClass("ui-formwizard"),this.element.find(":input").addClass("ui-wizard-content"),this.steps.addClass("ui-formwizard-content"),this.backButton.addClass("ui-formwizard-button ui-wizard-content"),this.nextButton.addClass("ui-formwizard-button ui-wizard-content"),this.options.disableUIStyles||(this.element.addClass("ui-helper-reset ui-widget ui-widget-content ui-helper-reset ui-corner-all"),this.element.find(":input").addClass("ui-helper-reset ui-state-default"),this.steps.addClass("ui-helper-reset ui-corner-all"),this.backButton.addClass("ui-helper-reset ui-state-default"),this.nextButton.addClass("ui-helper-reset ui-state-default")),this._show(undefined),n(this)},_next:function(){var t,i;if(this.options.validationEnabled&&!this.element.valid())return this.element.validate().focusInvalid(),!1;if(this.options.remoteAjax!=undefined&&(t=this.options.remoteAjax[this.currentStep],i=this,t!==undefined)){var r=t.success,u=t.beforeSend,f=t.complete;return t=n.extend({},t,{success:function(n,t){(r!==undefined&&r(n,t)||r==undefined)&&i._continueToNextStep()},beforeSend:function(t){i._disableNavigation();u!==undefined&&u(t);n(i.element).trigger("before_remote_ajax",{currentStep:i.currentStep})},complete:function(t,r){f!==undefined&&f(t,r);n(i.element).trigger("after_remote_ajax",{currentStep:i.currentStep});i._enableNavigation()}}),this.element.ajaxSubmit(t),!1}return this._continueToNextStep()},_back:function(){return this.activatedSteps.length>0&&(this.options.historyEnabled?this._updateHistory(this.activatedSteps[this.activatedSteps.length-2]):this._show(this.activatedSteps[this.activatedSteps.length-2],!0)),!1},_continueToNextStep:function(){var n,t;if(this.isLastStep){for(n=0;n<this.activatedSteps.length;n++)this.steps.filter("#"+this.activatedSteps[n]).find(":input").not(".wizard-ignore").removeAttr("disabled");return this.options.formPluginEnabled?(this._disableNavigation(),this.element.ajaxSubmit(this.options.formOptions),!1):!0}return(t=this._navigate(this.currentStep),t==this.currentStep)?!1:(this.options.historyEnabled?this._updateHistory(t):this._show(t,!0),!1)},_updateHistory:function(t){var i={};i["_"+n(this.element).attr("id")]=t;n.bbq.pushState(i)},_disableNavigation:function(){this.nextButton.attr("disabled","disabled");this.backButton.attr("disabled","disabled");this.options.disableUIStyles||(this.nextButton.removeClass("ui-state-active").addClass("ui-state-disabled"),this.backButton.removeClass("ui-state-active").addClass("ui-state-disabled"))},_enableNavigation:function(){this.isLastStep?this.nextButton.val(this.options.textSubmit):this.nextButton.val(this.options.textNext);n.trim(this.currentStep)!==this.steps.eq(0).attr("id")&&(this.backButton.removeAttr("disabled"),this.options.disableUIStyles||this.backButton.removeClass("ui-state-disabled").addClass("ui-state-active"));this.nextButton.removeAttr("disabled");this.options.disableUIStyles||this.nextButton.removeClass("ui-state-disabled").addClass("ui-state-active")},_animate:function(n,t,i){var f,u,r;this._disableNavigation();f=this.steps.filter("#"+n);u=this.steps.filter("#"+t);f.find(":input").not(".wizard-ignore").attr("disabled","disabled");u.find(":input").not(".wizard-ignore").removeAttr("disabled");r=this;f.animate(r.options.outAnimation,r.options.outDuration,r.options.easing,function(){u.animate(r.options.inAnimation,r.options.inDuration,r.options.easing,function(){r.options.focusFirstInput&&u.find(":input:first").focus();r._enableNavigation();i.apply(r)});return})},_checkIflastStep:function(t){this.isLastStep=!1;(n("#"+t).hasClass(this.options.submitStepClass)||this.steps.filter(":last").attr("id")==t)&&(this.isLastStep=!0)},_getLink:function(t){var r=undefined,i=this.steps.filter("#"+t).find(this.options.linkClass);return i!=undefined&&(r=i.filter(":radio,:checkbox").size()>0?i.filter(this.options.linkClass+":checked").val():n(i).val()),r},_navigate:function(n){var t=this._getLink(n);return t!=undefined?t!=""&&t!=null&&t!=undefined&&this.steps.filter("#"+t).attr("id")!=undefined?t:this.currentStep:t==undefined&&!this.isLastStep?this.steps.filter("#"+n).next().attr("id"):void 0},_show:function(t){var i=!1,r=t!==undefined,u;t==undefined||t==""?(this.activatedSteps.pop(),t=this.firstStep,this.activatedSteps.push(t)):n.inArray(t,this.activatedSteps)>-1?(i=!0,this.activatedSteps.pop()):this.activatedSteps.push(t);(this.currentStep!==t||t===this.firstStep)&&(this.previousStep=this.currentStep,this._checkIflastStep(t),this.currentStep=t,u=function(){r&&n(this.element).trigger("step_shown",n.extend({isBackNavigation:i},this._state()))},r&&n(this.element).trigger("before_step_shown",n.extend({isBackNavigation:i},this._state())),this._animate(this.previousStep,t,u))},_reset:function(){this.element.resetForm();n("label,:input,textarea",this).removeClass("error");for(var t=0;t<this.activatedSteps.length;t++)this.steps.filter("#"+this.activatedSteps[t]).hide().find(":input").attr("disabled","disabled");this.activatedSteps=[];this.previousStep=undefined;this.isLastStep=!1;this.options.historyEnabled?this._updateHistory(this.firstStep):this._show(this.firstStep)},_state:function(n){var t={settings:this.options,activatedSteps:this.activatedSteps,isLastStep:this.isLastStep,isFirstStep:this.currentStep===this.firstStep,previousStep:this.previousStep,currentStep:this.currentStep,backButton:this.backButton,nextButton:this.nextButton,steps:this.steps,firstStep:this.firstStep};return n!==undefined?t[n]:t},show:function(n){this.options.historyEnabled?this._updateHistory(n):this._show(n)},state:function(n){return this._state(n)},reset:function(){this._reset()},next:function(){this._next()},back:function(){this._back()},destroy:function(){this.element.find("*").removeAttr("disabled").show();this.nextButton.unbind("click").val(this.nextButtonInitinalValue).removeClass("ui-state-disabled").addClass("ui-state-active");this.backButton.unbind("click").val(this.backButtonInitinalValue).removeClass("ui-state-disabled").addClass("ui-state-active");this.backButtonInitinalValue=undefined;this.nextButtonInitinalValue=undefined;this.activatedSteps=undefined;this.previousStep=undefined;this.currentStep=undefined;this.isLastStep=undefined;this.options=undefined;this.nextButton=undefined;this.backButton=undefined;this.formwizard=undefined;this.element=undefined;this.steps=undefined;this.firstStep=undefined},update_steps:function(){this.steps=this.element.find(".step").addClass("ui-formwizard-content");this.firstStep=this.steps.eq(0).attr("id");this.steps.not("#"+this.currentStep).hide().find(":input").addClass("ui-wizard-content").attr("disabled","disabled");this._checkIflastStep(this.currentStep);this._enableNavigation();this.options.disableUIStyles||(this.steps.addClass("ui-helper-reset ui-corner-all"),this.steps.find(":input").addClass("ui-helper-reset ui-state-default"))},options:{historyEnabled:!1,validationEnabled:!1,validationOptions:undefined,formPluginEnabled:!1,linkClass:".link",submitStepClass:"submit_step",back:":reset",next:":submit",textSubmit:"Submit",textNext:"Next",textBack:"Back",remoteAjax:undefined,inAnimation:{opacity:"show"},outAnimation:{opacity:"hide"},inDuration:400,outDuration:400,easing:"swing",focusFirstInput:!1,disableInputFields:!0,formOptions:{reset:!0,success:function(){window.console!==undefined&&console.log("%s","form submit successful")},disableUIStyles:!1}}})}(jQuery);!function(n){var r=[],t=[],u;n.fn.doAutosize=function(t){var r=n(this).data("minwidth"),h=n(this).data("maxwidth"),u="",f=n(this),e=n("#"+n(this).data("tester_id")),o;if(u!==(u=f.val())){o=u.replace(/&/g,"&amp;").replace(/\s/g," ").replace(/</g,"&lt;").replace(/>/g,"&gt;");e.html(o);var s=e.width(),i=s+t.comfortZone>=r?s+t.comfortZone:r,c=f.width(),l=c>i&&i>=r||i>r&&h>i;l&&f.width(i)}};n.fn.resetAutosize=function(t){var u=n(this).data("minwidth")||t.minInputWidth||n(this).width(),e=n(this).data("maxwidth")||t.maxInputWidth||n(this).closest(".tagsinput").width()-t.inputPadding,i=n(this),f=n("<tester/>").css({position:"absolute",top:-9999,left:-9999,width:"auto",fontSize:i.css("fontSize"),fontFamily:i.css("fontFamily"),fontWeight:i.css("fontWeight"),letterSpacing:i.css("letterSpacing"),whiteSpace:"nowrap"}),r=n(this).attr("id")+"_autosize_tester";!n("#"+r).length>0&&(f.attr("id",r),f.appendTo("body"));i.data("minwidth",u);i.data("maxwidth",e);i.data("tester_id",r);i.css("width",u)};n.fn.addTag=function(i,u){return u=jQuery.extend({focus:!1,callback:!0},u),this.each(function(){var f=n(this).attr("id"),e=n(this).val().split(r[f]),o,h,s;(""==e[0]&&(e=[]),i=jQuery.trim(i),u.unique)?(o=n(this).tagExist(i),1==o&&n("#"+f+"_tag").addClass("not_valid")):o=!1;""!=i&&1!=o&&((n("<span>").addClass("tag").append(n("<span>").text(i).append("&nbsp;&nbsp;"),n("<a>",{href:"#",title:"Removing tag",text:"x"}).click(function(){return n("#"+f).removeTag(escape(i))})).insertBefore("#"+f+"_addTag"),e.push(i),n("#"+f+"_tag").val(""),u.focus?n("#"+f+"_tag").focus():n("#"+f+"_tag").blur(),n.fn.tagsInput.updateTagsField(this,e),u.callback&&t[f]&&t[f].onAddTag)&&(s=t[f].onAddTag,s.call(this,i)),t[f]&&t[f].onChange&&(h=e.length,s=t[f].onChange,s.call(this,n(this),e[h-1])))}),!1};n.fn.removeTag=function(u){return u=unescape(u),this.each(function(){var f=n(this).attr("id"),e=n(this).val().split(r[f]),o;for(n("#"+f+"_tagsinput .tag").remove(),str="",i=0;i<e.length;i++)e[i]!=u&&(str=str+r[f]+e[i]);(n.fn.tagsInput.importTags(this,str),t[f]&&t[f].onRemoveTag)&&(o=t[f].onRemoveTag,o.call(this,u))}),!1};n.fn.tagExist=function(t){var i=n(this).attr("id"),u=n(this).val().split(r[i]);return jQuery.inArray(t,u)>=0};n.fn.importTags=function(t){var i=n(this).attr("id");n("#"+i+"_tagsinput .tag").remove();n.fn.tagsInput.importTags(this,t)};n.fn.tagsInput=function(i){var f=jQuery.extend({interactive:!0,defaultText:"add a tag",minChars:0,width:"300px",height:"100px",autocomplete:{selectFirst:!1},hide:!0,delimiter:",",unique:!0,removeWithBackspace:!0,placeholderColor:"#666666",autosize:!0,comfortZone:20,inputPadding:12},i),e=0;return this.each(function(){var o,i,s;if("undefined"==typeof n(this).attr("data-tagsinput-init")&&(n(this).attr("data-tagsinput-init",!0),f.hide&&n(this).hide(),o=n(this).attr("id"),(!o||r[n(this).attr("id")])&&(o=n(this).attr("id","tags"+(new Date).getTime()+e++).attr("id")),i=jQuery.extend({pid:o,real_input:"#"+o,holder:"#"+o+"_tagsinput",input_wrapper:"#"+o+"_addTag",fake_input:"#"+o+"_tag"},f),r[o]=i.delimiter,(f.onAddTag||f.onRemoveTag||f.onChange)&&(t[o]=[],t[o].onAddTag=f.onAddTag,t[o].onRemoveTag=f.onRemoveTag,t[o].onChange=f.onChange),s='<div id="'+o+'_tagsinput" class="tagsinput"><div id="'+o+'_addTag">',f.interactive&&(s=s+'<input id="'+o+'_tag" value="" data-default="'+f.defaultText+'" />'),s+='<\/div><div class="tags_clear"><\/div><\/div>',n(s).insertAfter(this),n(i.holder).css("width",f.width),n(i.holder).css("min-height",f.height),n(i.holder).css("height",f.height),""!=n(i.real_input).val()&&n.fn.tagsInput.importTags(n(i.real_input),n(i.real_input).val()),f.interactive)){if(n(i.fake_input).val(n(i.fake_input).attr("data-default")),n(i.fake_input).css("color",f.placeholderColor),n(i.fake_input).resetAutosize(f),n(i.holder).bind("click",i,function(t){n(t.data.fake_input).focus()}),n(i.fake_input).bind("focus",i,function(t){n(t.data.fake_input).val()==n(t.data.fake_input).attr("data-default")&&n(t.data.fake_input).val("");n(t.data.fake_input).css("color","#000000")}),void 0!=f.autocomplete_url){autocomplete_options={source:f.autocomplete_url};for(attrname in f.autocomplete)autocomplete_options[attrname]=f.autocomplete[attrname];void 0!==jQuery.Autocompleter?(n(i.fake_input).autocomplete(f.autocomplete_url,f.autocomplete),n(i.fake_input).bind("result",i,function(t,i){i&&n("#"+o).addTag(i[0]+"",{focus:!0,unique:f.unique})})):void 0!==jQuery.ui.autocomplete&&(n(i.fake_input).autocomplete(autocomplete_options),n(i.fake_input).bind("autocompleteselect",i,function(t,i){return n(t.data.real_input).addTag(i.item.value,{focus:!0,unique:f.unique}),!1}))}else n(i.fake_input).bind("blur",i,function(t){var i=n(this).attr("data-default");return""!=n(t.data.fake_input).val()&&n(t.data.fake_input).val()!=i?t.data.minChars<=n(t.data.fake_input).val().length&&(!t.data.maxChars||t.data.maxChars>=n(t.data.fake_input).val().length)&&n(t.data.real_input).addTag(n(t.data.fake_input).val(),{focus:!0,unique:f.unique}):(n(t.data.fake_input).val(n(t.data.fake_input).attr("data-default")),n(t.data.fake_input).css("color",f.placeholderColor)),!1});n(i.fake_input).bind("keypress",i,function(t){return u(t)?(t.preventDefault(),t.data.minChars<=n(t.data.fake_input).val().length&&(!t.data.maxChars||t.data.maxChars>=n(t.data.fake_input).val().length)&&n(t.data.real_input).addTag(n(t.data.fake_input).val(),{focus:!0,unique:f.unique}),n(t.data.fake_input).resetAutosize(f),!1):void(t.data.autosize&&n(t.data.fake_input).doAutosize(f))});i.removeWithBackspace&&n(i.fake_input).bind("keydown",function(t){if(8==t.keyCode&&""==n(this).val()){t.preventDefault();var i=n(this).closest(".tagsinput").find(".tag:last").text(),r=n(this).attr("id").replace(/_tag$/,"");i=i.replace(/[\s]+x$/,"");n("#"+r).removeTag(escape(i));n(this).trigger("focus")}});n(i.fake_input).blur();i.unique&&n(i.fake_input).keydown(function(t){(8==t.keyCode||String.fromCharCode(t.which).match(/\w+|[,/]+/))&&n(this).removeClass("not_valid")})}}),this};n.fn.tagsInput.updateTagsField=function(t,i){var u=n(t).attr("id");n(t).val(i.join(r[u]))};n.fn.tagsInput.importTags=function(u,f){var e,o,s;for(n(u).val(""),e=n(u).attr("id"),o=f.split(r[e]),i=0;i<o.length;i++)n(u).addTag(o[i],{focus:!1,callback:!1});t[e]&&t[e].onChange&&(s=t[e].onChange,s.call(u,u,o[i]))};u=function(t){var i=!1;return 13==t.which?!0:("string"==typeof t.data.delimiter?t.which==t.data.delimiter.charCodeAt(0)&&(i=!0):n.each(t.data.delimiter,function(n,r){t.which==r.charCodeAt(0)&&(i=!0)}),i)}}(jQuery),function(n,t,i){(function(n){typeof define=="function"&&define.amd?define(["jquery"],n):jQuery&&!jQuery.fn.sparkline&&n(jQuery)})(function(r){"use strict";var c={},tt,u,e,s,l,o,v,it,rt,y,pt,ut,ft,et,h,ot,st,a,p,ht,ct,lt,w,b,k,at,vt,yt,d,g,nt,f,wt=0;tt=function(){return{common:{type:"line",lineColor:"#00f",fillColor:"#cdf",defaultPixelsPerValue:3,width:"auto",height:"auto",composite:!1,tagValuesAttribute:"values",tagOptionsPrefix:"spark",enableTagOptions:!1,enableHighlight:!0,highlightLighten:1.4,tooltipSkipNull:!0,tooltipPrefix:"",tooltipSuffix:"",disableHiddenCheck:!1,numberFormatter:!1,numberDigitGroupCount:3,numberDigitGroupSep:",",numberDecimalMark:".",disableTooltips:!1,disableInteraction:!1},line:{spotColor:"#f80",highlightSpotColor:"#5f5",highlightLineColor:"#f22",spotRadius:1.5,minSpotColor:"#f80",maxSpotColor:"#f80",lineWidth:1,normalRangeMin:i,normalRangeMax:i,normalRangeColor:"#ccc",drawNormalOnTop:!1,chartRangeMin:i,chartRangeMax:i,chartRangeMinX:i,chartRangeMaxX:i,tooltipFormat:new e('<span style="color: {{color}}">&#9679;<\/span> {{prefix}}{{y}}{{suffix}}')},bar:{barColor:"#3366cc",negBarColor:"#f44",stackedBarColor:["#3366cc","#dc3912","#ff9900","#109618","#66aa00","#dd4477","#0099c6","#990099"],zeroColor:i,nullColor:i,zeroAxis:!0,barWidth:4,barSpacing:1,chartRangeMax:i,chartRangeMin:i,chartRangeClip:!1,colorMap:i,tooltipFormat:new e('<span style="color: {{color}}">&#9679;<\/span> {{prefix}}{{value}}{{suffix}}')},tristate:{barWidth:4,barSpacing:1,posBarColor:"#6f6",negBarColor:"#f44",zeroBarColor:"#999",colorMap:{},tooltipFormat:new e('<span style="color: {{color}}">&#9679;<\/span> {{value:map}}'),tooltipValueLookups:{map:{"-1":"Loss",0:"Draw",1:"Win"}}},discrete:{lineHeight:"auto",thresholdColor:i,thresholdValue:0,chartRangeMax:i,chartRangeMin:i,chartRangeClip:!1,tooltipFormat:new e("{{prefix}}{{value}}{{suffix}}")},bullet:{targetColor:"#f33",targetWidth:3,performanceColor:"#33f",rangeColors:["#d3dafe","#a8b6ff","#7f94ff"],base:i,tooltipFormat:new e("{{fieldkey:fields}} - {{value}}"),tooltipValueLookups:{fields:{r:"Range",p:"Performance",t:"Target"}}},pie:{offset:0,sliceColors:["#3366cc","#dc3912","#ff9900","#109618","#66aa00","#dd4477","#0099c6","#990099"],borderWidth:0,borderColor:"#000",tooltipFormat:new e('<span style="color: {{color}}">&#9679;<\/span> {{value}} ({{percent.1}}%)')},box:{raw:!1,boxLineColor:"#000",boxFillColor:"#cdf",whiskerColor:"#000",outlierLineColor:"#333",outlierFillColor:"#fff",medianColor:"#f00",showOutliers:!0,outlierIQR:1.5,spotRadius:1.5,target:i,targetColor:"#4a2",chartRangeMax:i,chartRangeMin:i,tooltipFormat:new e("{{field:fields}}: {{value}}"),tooltipFormatFieldlistKey:"field",tooltipValueLookups:{fields:{lq:"Lower Quartile",med:"Median",uq:"Upper Quartile",lo:"Left Outlier",ro:"Right Outlier",lw:"Left Whisker",rw:"Right Whisker"}}}}};at=".jqstooltip { width: auto !important; height: auto !important; position: absolute;left: 0px;top: 0px;visibility: hidden;background: #000000;color: white;font-size: 11px;text-align: left;white-space: nowrap;padding: 5px;z-index: 10000;}.jqsfield { color: white;font: 10px arial, san serif;text-align: left;}";u=function(){var n,t;return n=function(){this.init.apply(this,arguments)},arguments.length>1?(arguments[0]?(n.prototype=r.extend(new arguments[0],arguments[arguments.length-1]),n._super=arguments[0].prototype):n.prototype=arguments[arguments.length-1],arguments.length>2&&(t=Array.prototype.slice.call(arguments,1,-1),t.unshift(n.prototype),r.extend.apply(r,t))):n.prototype=arguments[0],n.prototype.cls=n,n};r.SPFormatClass=e=u({fre:/\{\{([\w.]+?)(:(.+?))?\}\}/g,precre:/(\w+)\.(\d+)/,init:function(n,t){this.format=n;this.fclass=t},render:function(n,t,r){var h=this,c=n,e,o,f,u,s;return this.format.replace(this.fre,function(){var n;return o=arguments[1],f=arguments[3],e=h.precre.exec(o),e?(s=e[2],o=e[1]):s=!1,u=c[o],u===i?"":f&&t&&t[f]?(n=t[f],n.get?t[f].get(u)||u:t[f][u]||u):(rt(u)&&(u=r.get("numberFormatter")?r.get("numberFormatter")(u):et(u,s,r.get("numberDigitGroupCount"),r.get("numberDigitGroupSep"),r.get("numberDecimalMark"))),u)})}});r.spformat=function(n,t){return new e(n,t)};s=function(n,t,i){return n<t?t:n>i?i:n};l=function(n,i){var r;return i===2?(r=t.floor(n.length/2),n.length%2?n[r]:(n[r-1]+n[r])/2):n.length%2?(r=(n.length*i+i)/4,r%1?(n[t.floor(r)]+n[t.floor(r)-1])/2:n[r-1]):(r=(n.length*i+2)/4,r%1?(n[t.floor(r)]+n[t.floor(r)-1])/2:n[r-1])};o=function(n){var t;switch(n){case"undefined":n=i;break;case"null":n=null;break;case"true":n=!0;break;case"false":n=!1;break;default:t=parseFloat(n);n==t&&(n=t)}return n};v=function(n){for(var i=[],t=n.length;t--;)i[t]=o(n[t]);return i};it=function(n,t){for(var u=[],i=0,r=n.length;i<r;i++)n[i]!==t&&u.push(n[i]);return u};rt=function(n){return!isNaN(parseFloat(n))&&isFinite(n)};et=function(n,t,i,u,f){var e,o;for(n=(t===!1?parseFloat(n).toString():n.toFixed(t)).split(""),e=(e=r.inArray(".",n))<0?n.length:e,e<n.length&&(n[e]=f),o=e-i;o>0;o-=i)n.splice(o,0,u);return n.join("")};y=function(n,t,i){for(var r=t.length;r--;)if((!i||t[r]!==null)&&t[r]!==n)return!1;return!0};pt=function(n){for(var i=0,t=n.length;t--;)i+=typeof n[t]=="number"?n[t]:0;return i};ft=function(n){return r.isArray(n)?n:[n]};ut=function(t){var i;n.createStyleSheet?n.createStyleSheet().cssText=t:(i=n.createElement("style"),i.type="text/css",n.getElementsByTagName("head")[0].appendChild(i),i[typeof n.body.style.WebkitAppearance=="string"?"innerText":"innerHTML"]=t)};r.fn.simpledraw=function(t,u,f,e){var o,s,h;if(f&&(o=this.data("_jqs_vcanvas")))return o;if(r.fn.sparkline.canvas===!1)return!1;if(r.fn.sparkline.canvas===i)if(h=n.createElement("canvas"),h.getContext&&h.getContext("2d"))r.fn.sparkline.canvas=function(n,t,i,r){return new g(n,t,i,r)};else{if(!n.namespaces||!!n.namespaces.v)return r.fn.sparkline.canvas=!1,!1;n.namespaces.add("v","urn:schemas-microsoft-com:vml","#default#VML");r.fn.sparkline.canvas=function(n,t,i){return new nt(n,t,i)}}return t===i&&(t=r(this).innerWidth()),u===i&&(u=r(this).innerHeight()),o=r.fn.sparkline.canvas(t,u,this,e),s=r(this).data("_jqs_mhandler"),s&&s.registerCanvas(o),o};r.fn.cleardraw=function(){var n=this.data("_jqs_vcanvas");n&&n.reset()};r.RangeMapClass=h=u({init:function(n){var i,t,r=[];for(i in n)n.hasOwnProperty(i)&&typeof i=="string"&&i.indexOf(":")>-1&&(t=i.split(":"),t[0]=t[0].length===0?-Infinity:parseFloat(t[0]),t[1]=t[1].length===0?Infinity:parseFloat(t[1]),t[2]=n[i],r.push(t));this.map=n;this.rangelist=r||!1},get:function(n){var r=this.rangelist,u,t,f;if((f=this.map[n])!==i)return f;if(r)for(u=r.length;u--;)if(t=r[u],t[0]<=n&&t[1]>=n)return t[2];return i}});r.range_map=function(n){return new h(n)};ot=u({init:function(n,t){var i=r(n);this.$el=i;this.options=t;this.currentPageX=0;this.currentPageY=0;this.el=n;this.splist=[];this.tooltip=null;this.over=!1;this.displayTooltips=!t.get("disableTooltips");this.highlightEnabled=!t.get("disableHighlight")},registerSparkline:function(n){this.splist.push(n);this.over&&this.updateDisplay()},registerCanvas:function(n){var t=r(n.canvas);this.canvas=n;this.$canvas=t;t.mouseenter(r.proxy(this.mouseenter,this));t.mouseleave(r.proxy(this.mouseleave,this));t.click(r.proxy(this.mouseclick,this))},reset:function(n){this.splist=[];this.tooltip&&n&&(this.tooltip.remove(),this.tooltip=i)},mouseclick:function(n){var t=r.Event("sparklineClick");t.originalEvent=n;t.sparklines=this.splist;this.$el.trigger(t)},mouseenter:function(t){r(n.body).unbind("mousemove.jqs");r(n.body).bind("mousemove.jqs",r.proxy(this.mousemove,this));this.over=!0;this.currentPageX=t.pageX;this.currentPageY=t.pageY;this.currentEl=t.target;!this.tooltip&&this.displayTooltips&&(this.tooltip=new st(this.options),this.tooltip.updatePosition(t.pageX,t.pageY));this.updateDisplay()},mouseleave:function(){r(n.body).unbind("mousemove.jqs");var i=this.splist,e=i.length,u=!1,f,t;for(this.over=!1,this.currentEl=null,this.tooltip&&(this.tooltip.remove(),this.tooltip=null),t=0;t<e;t++)f=i[t],f.clearRegionHighlight()&&(u=!0);u&&this.canvas.render()},mousemove:function(n){this.currentPageX=n.pageX;this.currentPageY=n.pageY;this.currentEl=n.target;this.tooltip&&this.tooltip.updatePosition(n.pageX,n.pageY);this.updateDisplay()},updateDisplay:function(){var i=this.splist,o=i.length,s=!1,h=this.$canvas.offset(),c=this.currentPageX-h.left,l=this.currentPageY-h.top,u,t,n,f,e;if(this.over){for(n=0;n<o;n++)t=i[n],f=t.setRegionHighlight(this.currentEl,c,l),f&&(s=!0);if(s){if(e=r.Event("sparklineRegionChange"),e.sparklines=this.splist,this.$el.trigger(e),this.tooltip){for(u="",n=0;n<o;n++)t=i[n],u+=t.getCurrentRegionTooltip();this.tooltip.setContent(u)}this.disableHighlight||this.canvas.render()}f===null&&this.mouseleave()}}});st=u({sizeStyle:"position: static !important;display: block !important;visibility: hidden !important;float: left !important;",init:function(t){var u=t.get("tooltipClassname","jqstooltip"),f=this.sizeStyle,i;this.container=t.get("tooltipContainer")||n.body;this.tooltipOffsetX=t.get("tooltipOffsetX",10);this.tooltipOffsetY=t.get("tooltipOffsetY",12);r("#jqssizetip").remove();r("#jqstooltip").remove();this.sizetip=r("<div/>",{id:"jqssizetip",style:f,"class":u});this.tooltip=r("<div/>",{id:"jqstooltip","class":u}).appendTo(this.container);i=this.tooltip.offset();this.offsetLeft=i.left;this.offsetTop=i.top;this.hidden=!0;r(window).unbind("resize.jqs scroll.jqs");r(window).bind("resize.jqs scroll.jqs",r.proxy(this.updateWindowDims,this));this.updateWindowDims()},updateWindowDims:function(){this.scrollTop=r(window).scrollTop();this.scrollLeft=r(window).scrollLeft();this.scrollRight=this.scrollLeft+r(window).width();this.updatePosition()},getSize:function(n){this.sizetip.html(n).appendTo(this.container);this.width=this.sizetip.width()+1;this.height=this.sizetip.height();this.sizetip.remove()},setContent:function(n){if(!n){this.tooltip.css("visibility","hidden");this.hidden=!0;return}this.getSize(n);this.tooltip.html(n).css({width:this.width,height:this.height,visibility:"visible"});this.hidden&&(this.hidden=!1,this.updatePosition())},updatePosition:function(n,t){if(n===i){if(this.mousex===i)return;n=this.mousex-this.offsetLeft;t=this.mousey-this.offsetTop}else this.mousex=n-=this.offsetLeft,this.mousey=t-=this.offsetTop;this.height&&this.width&&!this.hidden&&(t-=this.height+this.tooltipOffsetY,n+=this.tooltipOffsetX,t<this.scrollTop&&(t=this.scrollTop),n<this.scrollLeft?n=this.scrollLeft:n+this.width>this.scrollRight&&(n=this.scrollRight-this.width),this.tooltip.css({left:n,top:t}))},remove:function(){this.tooltip.remove();this.sizetip.remove();this.sizetip=this.tooltip=i;r(window).unbind("resize.jqs scroll.jqs")}});vt=function(){ut(at)};r(vt);f=[];r.fn.sparkline=function(t,u){return this.each(function(){var e=new r.fn.sparkline.options(this,u),h=r(this),s,o;if(s=function(){var s,a,c,f,u,l,o;if(t==="html"||t===i?(o=this.getAttribute(e.get("tagValuesAttribute")),(o===i||o===null)&&(o=h.html()),s=o.replace(/(^\s*<!--)|(-->\s*$)|\s+/g,"").split(",")):s=t,a=e.get("width")==="auto"?s.length*e.get("defaultPixelsPerValue"):e.get("width"),e.get("height")==="auto"?e.get("composite")&&r.data(this,"_jqs_vcanvas")||(f=n.createElement("span"),f.innerHTML="a",h.html(f),c=r(f).innerHeight()||r(f).height(),r(f).remove(),f=null):c=e.get("height"),e.get("disableInteraction")?u=!1:(u=r.data(this,"_jqs_mhandler"),u?e.get("composite")||u.reset():(u=new ot(this,e),r.data(this,"_jqs_mhandler",u))),e.get("composite")&&!r.data(this,"_jqs_vcanvas")){r.data(this,"_jqs_errnotify")||(alert("Attempted to attach a composite sparkline to an element with no existing sparkline"),r.data(this,"_jqs_errnotify",!0));return}l=new r.fn.sparkline[e.get("type")](this,s,e,a,c);l.render();u&&u.registerSparkline(l)},r(this).html()&&!e.get("disableHiddenCheck")&&r(this).is(":hidden")||!r(this).parents("body").length){if(!e.get("composite")&&r.data(this,"_jqs_pending"))for(o=f.length;o;o--)f[o-1][0]==this&&f.splice(o-1,1);f.push([this,s]);r.data(this,"_jqs_pending",!0)}else s.call(this)})};r.fn.sparkline.defaults=tt();r.sparkline_display_visible=function(){for(var t,i=[],n=0,u=f.length;n<u;n++)t=f[n][0],r(t).is(":visible")&&!r(t).parents().is(":hidden")?(f[n][1].call(t),r.data(f[n][0],"_jqs_pending",!1),i.push(n)):!r(t).closest("html").length&&!r.data(t,"_jqs_pending")&&(r.data(f[n][0],"_jqs_pending",!1),i.push(n));for(n=i.length;n;n--)f.splice(i[n-1],1)};r.fn.sparkline.options=u({init:function(n,t){var e,i,u,f;this.userOptions=t=t||{};this.tag=n;this.tagValCache={};i=r.fn.sparkline.defaults;u=i.common;this.tagOptionsPrefix=t.enableTagOptions&&(t.tagOptionsPrefix||u.tagOptionsPrefix);f=this.getTagSetting("type");e=f===c?i[t.type||u.type]:i[f];this.mergedOptions=r.extend({},u,e,t)},getTagSetting:function(n){var u=this.tagOptionsPrefix,t,r,f,e;if(u===!1||u===i)return c;if(this.tagValCache.hasOwnProperty(n))t=this.tagValCache.key;else{if(t=this.tag.getAttribute(u+n),t===i||t===null)t=c;else if(t.substr(0,1)==="[")for(t=t.substr(1,t.length-2).split(","),r=t.length;r--;)t[r]=o(t[r].replace(/(^\s*)|(\s*$)/g,""));else if(t.substr(0,1)==="{")for(f=t.substr(1,t.length-2).split(","),t={},r=f.length;r--;)e=f[r].split(":",2),t[e[0].replace(/(^\s*)|(\s*$)/g,"")]=o(e[1].replace(/(^\s*)|(\s*$)/g,""));else t=o(t);this.tagValCache.key=t}return t},get:function(n,t){var r=this.getTagSetting(n),u;return r!==c?r:(u=this.mergedOptions[n])===i?t:u}});r.fn.sparkline._base=u({disabled:!1,init:function(n,t,u,f,e){this.el=n;this.$el=r(n);this.values=t;this.options=u;this.width=f;this.height=e;this.currentRegion=i},initTarget:function(){var n=!this.options.get("disableInteraction");(this.target=this.$el.simpledraw(this.width,this.height,this.options.get("composite"),n))?(this.canvasWidth=this.target.pixelWidth,this.canvasHeight=this.target.pixelHeight):this.disabled=!0},render:function(){return this.disabled?(this.el.innerHTML="",!1):!0},getRegion:function(){},setRegionHighlight:function(n,t,r){var f=this.currentRegion,e=!this.options.get("disableHighlight"),u;return t>this.canvasWidth||r>this.canvasHeight||t<0||r<0?null:(u=this.getRegion(n,t,r),f!==u?(f!==i&&e&&this.removeHighlight(),this.currentRegion=u,u!==i&&e&&this.renderHighlight(),!0):!1)},clearRegionHighlight:function(){return this.currentRegion!==i?(this.removeHighlight(),this.currentRegion=i,!0):!1},renderHighlight:function(){this.changeHighlight(!0)},removeHighlight:function(){this.changeHighlight(!1)},changeHighlight:function(){},getCurrentRegionTooltip:function(){var t=this.options,y="",h=[],n,o,p,w,b,u,c,l,a,k,v,s,d,f;if(this.currentRegion===i)return"";if(n=this.getCurrentRegionFields(),v=t.get("tooltipFormatter"),v)return v(this,t,n);if(t.get("tooltipChartTitle")&&(y+='<div class="jqs jqstitle">'+t.get("tooltipChartTitle")+"<\/div>\n"),o=this.options.get("tooltipFormat"),!o)return"";if(r.isArray(o)||(o=[o]),r.isArray(n)||(n=[n]),c=this.options.get("tooltipFormatFieldlist"),l=this.options.get("tooltipFormatFieldlistKey"),c&&l){for(a=[],u=n.length;u--;)k=n[u][l],(f=r.inArray(k,c))!=-1&&(a[f]=n[u]);n=a}for(p=o.length,d=n.length,u=0;u<p;u++)for(s=o[u],typeof s=="string"&&(s=new e(s)),w=s.fclass||"jqsfield",f=0;f<d;f++)n[f].isNull&&t.get("tooltipSkipNull")||(r.extend(n[f],{prefix:t.get("tooltipPrefix"),suffix:t.get("tooltipSuffix")}),b=s.render(n[f],t.get("tooltipValueLookups"),t),h.push('<div class="'+w+'">'+b+"<\/div>"));return h.length?y+h.join("\n"):""},getCurrentRegionFields:function(){},calcHighlightColor:function(n,i){var e=i.get("highlightColor"),o=i.get("highlightLighten"),u,h,f,r;if(e)return e;if(o&&(u=/^#([0-9a-f])([0-9a-f])([0-9a-f])$/i.exec(n)||/^#([0-9a-f]{2})([0-9a-f]{2})([0-9a-f]{2})$/i.exec(n),u)){for(f=[],h=n.length===4?16:1,r=0;r<3;r++)f[r]=s(t.round(parseInt(u[r+1],16)*h*o),0,255);return"rgb("+f.join(",")+")"}return n}});a={changeHighlight:function(n){var i=this.currentRegion,f=this.target,u=this.regionShapes[i],t;u&&(t=this.renderRegion(i,n),r.isArray(t)||r.isArray(u)?(f.replaceWithShapes(u,t),this.regionShapes[i]=r.map(t,function(n){return n.id})):(f.replaceWithShape(u,t),this.regionShapes[i]=t.id))},render:function(){var e=this.values,o=this.target,u=this.regionShapes,n,f,t,i;if(this.cls._super.render.call(this)){for(t=e.length;t--;)if(n=this.renderRegion(t),n)if(r.isArray(n)){for(f=[],i=n.length;i--;)n[i].append(),f.push(n[i].id);u[t]=f}else n.append(),u[t]=n.id;else u[t]=null;o.render()}}};r.fn.sparkline.line=p=u(r.fn.sparkline._base,{type:"line",init:function(n,t,i,r,u){p._super.init.call(this,n,t,i,r,u);this.vertices=[];this.regionMap=[];this.xvalues=[];this.yvalues=[];this.yminmax=[];this.hightlightSpotId=null;this.lastShapeId=null;this.initTarget()},getRegion:function(n,t){for(var u=this.regionMap,r=u.length;r--;)if(u[r]!==null&&t>=u[r][0]&&t<=u[r][1])return u[r][2];return i},getCurrentRegionFields:function(){var n=this.currentRegion;return{isNull:this.yvalues[n]===null,x:this.xvalues[n],y:this.yvalues[n],color:this.options.get("lineColor"),fillColor:this.options.get("fillColor"),offset:n}},renderHighlight:function(){var h=this.currentRegion,t=this.target,n=this.vertices[h],r=this.options,e=r.get("spotRadius"),o=r.get("highlightSpotColor"),s=r.get("highlightLineColor"),u,f;n&&(e&&o&&(u=t.drawCircle(n[0],n[1],e,i,o),this.highlightSpotId=u.id,t.insertAfterShape(this.lastShapeId,u)),s&&(f=t.drawLine(n[0],this.canvasTop,n[0],this.canvasTop+this.canvasHeight,s),this.highlightLineId=f.id,t.insertAfterShape(this.lastShapeId,f)))},removeHighlight:function(){var n=this.target;this.highlightSpotId&&(n.removeShapeId(this.highlightSpotId),this.highlightSpotId=null);this.highlightLineId&&(n.removeShapeId(this.highlightLineId),this.highlightLineId=null)},scanValues:function(){for(var i=this.values,c=i.length,r=this.xvalues,e=this.yvalues,u=this.yminmax,f,s,h,o,n=0;n<c;n++)f=i[n],s=typeof i[n]=="string",h=typeof i[n]=="object"&&i[n]instanceof Array,o=s&&i[n].split(":"),s&&o.length===2?(r.push(Number(o[0])),e.push(Number(o[1])),u.push(Number(o[1]))):h?(r.push(f[0]),e.push(f[1]),u.push(f[1])):(r.push(n),i[n]===null||i[n]==="null"?e.push(null):(e.push(Number(f)),u.push(Number(f))));this.options.get("xvalues")&&(r=this.options.get("xvalues"));this.maxy=this.maxyorg=t.max.apply(t,u);this.miny=this.minyorg=t.min.apply(t,u);this.maxx=t.max.apply(t,r);this.minx=t.min.apply(t,r);this.xvalues=r;this.yvalues=e;this.yminmax=u},processRangeOptions:function(){var n=this.options,t=n.get("normalRangeMin"),r=n.get("normalRangeMax");t!==i&&(t<this.miny&&(this.miny=t),r>this.maxy&&(this.maxy=r));n.get("chartRangeMin")!==i&&(n.get("chartRangeClip")||n.get("chartRangeMin")<this.miny)&&(this.miny=n.get("chartRangeMin"));n.get("chartRangeMax")!==i&&(n.get("chartRangeClip")||n.get("chartRangeMax")>this.maxy)&&(this.maxy=n.get("chartRangeMax"));n.get("chartRangeMinX")!==i&&(n.get("chartRangeClipX")||n.get("chartRangeMinX")<this.minx)&&(this.minx=n.get("chartRangeMinX"));n.get("chartRangeMaxX")!==i&&(n.get("chartRangeClipX")||n.get("chartRangeMaxX")>this.maxx)&&(this.maxx=n.get("chartRangeMaxX"))},drawNormalRange:function(n,r,u,f,e){var s=this.options.get("normalRangeMin"),o=this.options.get("normalRangeMax"),h=r+t.round(u-u*((o-this.miny)/e)),c=t.round(u*(o-s)/e);this.target.drawRect(n,h,f,c,i,this.options.get("normalRangeColor")).append()},render:function(){var n=this.options,v=this.target,c=this.canvasWidth,o=this.canvasHeight,at=this.vertices,f=n.get("spotRadius"),pt=this.regionMap,b,y,k,l,a,ht,e,ut,g,d,vt,tt,yt,ct,ft,et,ot,st,nt,it,rt,lt,w,s,u;if(p._super.render.call(this)&&(this.scanValues(),this.processRangeOptions(),w=this.xvalues,s=this.yvalues,this.yminmax.length&&!(this.yvalues.length<2))){for(l=a=0,b=this.maxx-this.minx==0?1:this.maxx-this.minx,y=this.maxy-this.miny==0?1:this.maxy-this.miny,k=this.yvalues.length-1,f&&(c<f*4||o<f*4)&&(f=0),f&&(rt=n.get("highlightSpotColor")&&!n.get("disableInteraction"),(rt||n.get("minSpotColor")||n.get("spotColor")&&s[k]===this.miny)&&(o-=t.ceil(f)),(rt||n.get("maxSpotColor")||n.get("spotColor")&&s[k]===this.maxy)&&(o-=t.ceil(f),l+=t.ceil(f)),(rt||(n.get("minSpotColor")||n.get("maxSpotColor"))&&(s[0]===this.miny||s[0]===this.maxy))&&(a+=t.ceil(f),c-=t.ceil(f)),(rt||n.get("spotColor")||n.get("minSpotColor")||n.get("maxSpotColor")&&(s[k]===this.miny||s[k]===this.maxy))&&(c-=t.ceil(f))),o--,n.get("normalRangeMin")!==i&&!n.get("drawNormalOnTop")&&this.drawNormalRange(a,l,o,c,y),e=[],ut=[e],ct=ft=null,et=s.length,u=0;u<et;u++)g=w[u],vt=w[u+1],d=s[u],tt=a+t.round((g-this.minx)*(c/b)),yt=u<et-1?a+t.round((vt-this.minx)*(c/b)):c,ft=tt+(yt-tt)/2,pt[u]=[ct||0,ft,u],ct=ft,d===null?u&&(s[u-1]!==null&&(e=[],ut.push(e)),at.push(null)):(d<this.miny&&(d=this.miny),d>this.maxy&&(d=this.maxy),e.length||e.push([tt,l+o]),ht=[tt,l+t.round(o-o*((d-this.miny)/y))],e.push(ht),at.push(ht));for(ot=[],st=[],nt=ut.length,u=0;u<nt;u++)e=ut[u],e.length&&(n.get("fillColor")&&(e.push([e[e.length-1][0],l+o]),st.push(e.slice(0)),e.pop()),e.length>2&&(e[0]=[e[0][0],e[1][1]]),ot.push(e));for(nt=st.length,u=0;u<nt;u++)v.drawShape(st[u],n.get("fillColor"),n.get("fillColor")).append();for(n.get("normalRangeMin")!==i&&n.get("drawNormalOnTop")&&this.drawNormalRange(a,l,o,c,y),nt=ot.length,u=0;u<nt;u++)v.drawShape(ot[u],n.get("lineColor"),i,n.get("lineWidth")).append();if(f&&n.get("valueSpots"))for(it=n.get("valueSpots"),it.get===i&&(it=new h(it)),u=0;u<et;u++)lt=it.get(s[u]),lt&&v.drawCircle(a+t.round((w[u]-this.minx)*(c/b)),l+t.round(o-o*((s[u]-this.miny)/y)),f,i,lt).append();f&&n.get("spotColor")&&s[k]!==null&&v.drawCircle(a+t.round((w[w.length-1]-this.minx)*(c/b)),l+t.round(o-o*((s[k]-this.miny)/y)),f,i,n.get("spotColor")).append();this.maxy!==this.minyorg&&(f&&n.get("minSpotColor")&&(g=w[r.inArray(this.minyorg,s)],v.drawCircle(a+t.round((g-this.minx)*(c/b)),l+t.round(o-o*((this.minyorg-this.miny)/y)),f,i,n.get("minSpotColor")).append()),f&&n.get("maxSpotColor")&&(g=w[r.inArray(this.maxyorg,s)],v.drawCircle(a+t.round((g-this.minx)*(c/b)),l+t.round(o-o*((this.maxyorg-this.miny)/y)),f,i,n.get("maxSpotColor")).append()));this.lastShapeId=v.getLastShapeId();this.canvasTop=l;v.render()}}});r.fn.sparkline.bar=ht=u(r.fn.sparkline._base,a,{type:"bar",init:function(n,u,f,e,c){var ct=parseInt(f.get("barWidth"),10),lt=parseInt(f.get("barSpacing"),10),dt=f.get("chartRangeMin"),gt=f.get("chartRangeMax"),at=f.get("chartRangeClip"),nt=Infinity,d=-Infinity,vt,yt,pt,tt,b,a,rt,wt,ut,ft,y,p,bt,kt,w,et,g,ni,ti,l,k,ii,ot,st;for(ht._super.init.call(this,n,u,f,e,c),a=0,rt=u.length;a<rt;a++)l=u[a],vt=typeof l=="string"&&l.indexOf(":")>-1,(vt||r.isArray(l))&&(w=!0,vt&&(l=u[a]=v(l.split(":"))),l=it(l,null),yt=t.min.apply(t,l),pt=t.max.apply(t,l),yt<nt&&(nt=yt),pt>d&&(d=pt));for(this.stacked=w,this.regionShapes={},this.barWidth=ct,this.barSpacing=lt,this.totalBarWidth=ct+lt,this.width=e=u.length*ct+(u.length-1)*lt,this.initTarget(),at&&(bt=dt===i?-Infinity:dt,kt=gt===i?Infinity:gt),b=[],tt=w?[]:b,ot=[],st=[],a=0,rt=u.length;a<rt;a++)if(w)for(et=u[a],u[a]=ti=[],ot[a]=0,tt[a]=st[a]=0,g=0,ni=et.length;g<ni;g++)l=ti[g]=at?s(et[g],bt,kt):et[g],l!==null&&(l>0&&(ot[a]+=l),nt<0&&d>0?l<0?st[a]+=t.abs(l):tt[a]+=l:tt[a]+=t.abs(l-(l<0?d:nt)),b.push(l));else l=at?s(u[a],bt,kt):u[a],l=u[a]=o(l),l!==null&&b.push(l);this.max=p=t.max.apply(t,b);this.min=y=t.min.apply(t,b);this.stackMax=d=w?t.max.apply(t,ot):p;this.stackMin=nt=w?t.min.apply(t,b):y;f.get("chartRangeMin")!==i&&(f.get("chartRangeClip")||f.get("chartRangeMin")<y)&&(y=f.get("chartRangeMin"));f.get("chartRangeMax")!==i&&(f.get("chartRangeClip")||f.get("chartRangeMax")>p)&&(p=f.get("chartRangeMax"));this.zeroAxis=ut=f.get("zeroAxis",!0);ft=y<=0&&p>=0&&ut?0:ut==0?y:y>0?y:p;this.xaxisOffset=ft;wt=w?t.max.apply(t,tt)+t.max.apply(t,st):p-y;this.canvasHeightEf=ut&&y<0?this.canvasHeight-2:this.canvasHeight-1;y<ft?(ii=w&&p>=0?d:p,k=(ii-ft)/wt*this.canvasHeight,k!==t.ceil(k)&&(this.canvasHeightEf-=2,k=t.ceil(k))):k=this.canvasHeight;this.yoffset=k;r.isArray(f.get("colorMap"))?(this.colorMapByIndex=f.get("colorMap"),this.colorMapByValue=null):(this.colorMapByIndex=null,this.colorMapByValue=f.get("colorMap"),this.colorMapByValue&&this.colorMapByValue.get===i&&(this.colorMapByValue=new h(this.colorMapByValue)));this.range=wt},getRegion:function(n,r){var u=t.floor(r/this.totalBarWidth);return u<0||u>=this.values.length?i:u},getCurrentRegionFields:function(){for(var i=this.currentRegion,r=ft(this.values[i]),u=[],n,t=r.length;t--;)n=r[t],u.push({isNull:n===null,value:n,color:this.calcColor(t,n,i),offset:i});return u},calcColor:function(n,t,u){var o=this.colorMapByIndex,s=this.colorMapByValue,e=this.options,f,h;return f=this.stacked?e.get("stackedBarColor"):t<0?e.get("negBarColor"):e.get("barColor"),t===0&&e.get("zeroColor")!==i&&(f=e.get("zeroColor")),s&&(h=s.get(t))?f=h:o&&o.length>u&&(f=o[u]),r.isArray(f)?f[n%f.length]:f},renderRegion:function(n,u){var f=this.values[n],h=this.options,c=this.xaxisOffset,p=[],b=this.range,rt=this.stacked,k=this.target,d=n*this.totalBarWidth,ut=this.canvasHeightEf,o=this.yoffset,l,a,e,g,w,v,nt,s,tt,it;if(f=r.isArray(f)?f:[f],nt=f.length,s=f[0],g=y(null,f),it=y(c,f,!0),g)return h.get("nullColor")?(e=u?h.get("nullColor"):this.calcHighlightColor(h.get("nullColor"),h),l=o>0?o-1:o,k.drawRect(d,l,this.barWidth-1,0,e,e)):i;for(w=o,v=0;v<nt;v++){if(s=f[v],rt&&s===c){if(!it||tt)continue;tt=!0}a=b>0?t.floor(ut*(t.abs(s-c)/b))+1:1;s<c||s===c&&o===0?(l=w,w+=a):(l=o-a,o-=a);e=this.calcColor(v,s,n);u&&(e=this.calcHighlightColor(e,h));p.push(k.drawRect(d,l,this.barWidth-1,a-1,e,e))}return p.length===1?p[0]:p}});r.fn.sparkline.tristate=ct=u(r.fn.sparkline._base,a,{type:"tristate",init:function(n,t,u,f,e){var o=parseInt(u.get("barWidth"),10),s=parseInt(u.get("barSpacing"),10);ct._super.init.call(this,n,t,u,f,e);this.regionShapes={};this.barWidth=o;this.barSpacing=s;this.totalBarWidth=o+s;this.values=r.map(t,Number);this.width=f=t.length*o+(t.length-1)*s;r.isArray(u.get("colorMap"))?(this.colorMapByIndex=u.get("colorMap"),this.colorMapByValue=null):(this.colorMapByIndex=null,this.colorMapByValue=u.get("colorMap"),this.colorMapByValue&&this.colorMapByValue.get===i&&(this.colorMapByValue=new h(this.colorMapByValue)));this.initTarget()},getRegion:function(n,i){return t.floor(i/this.totalBarWidth)},getCurrentRegionFields:function(){var n=this.currentRegion;return{isNull:this.values[n]===i,value:this.values[n],color:this.calcColor(this.values[n],n),offset:n}},calcColor:function(n,t){var u=this.values,i=this.options,r=this.colorMapByIndex,f=this.colorMapByValue,e,o;return e=f&&(o=f.get(n))?o:r&&r.length>t?r[t]:u[t]<0?i.get("negBarColor"):u[t]>0?i.get("posBarColor"):i.get("zeroBarColor"),e},renderRegion:function(n,i){var o=this.values,l=this.options,s=this.target,h,f,u,c,e,r;if(h=s.pixelHeight,u=t.round(h/2),c=n*this.totalBarWidth,o[n]<0?(e=u,f=u-1):o[n]>0?(e=0,f=u-1):(e=u-1,f=2),r=this.calcColor(o[n],n),r!==null)return i&&(r=this.calcHighlightColor(r,l)),s.drawRect(c,e,this.barWidth-1,f-1,r,r)}});r.fn.sparkline.discrete=lt=u(r.fn.sparkline._base,a,{type:"discrete",init:function(n,u,f,e,o){lt._super.init.call(this,n,u,f,e,o);this.regionShapes={};this.values=u=r.map(u,Number);this.min=t.min.apply(t,u);this.max=t.max.apply(t,u);this.range=this.max-this.min;this.width=e=f.get("width")==="auto"?u.length*2:this.width;this.interval=t.floor(e/u.length);this.itemWidth=e/u.length;f.get("chartRangeMin")!==i&&(f.get("chartRangeClip")||f.get("chartRangeMin")<this.min)&&(this.min=f.get("chartRangeMin"));f.get("chartRangeMax")!==i&&(f.get("chartRangeClip")||f.get("chartRangeMax")>this.max)&&(this.max=f.get("chartRangeMax"));this.initTarget();this.target&&(this.lineHeight=f.get("lineHeight")==="auto"?t.round(this.canvasHeight*.3):f.get("lineHeight"))},getRegion:function(n,i){return t.floor(i/this.itemWidth)},getCurrentRegionFields:function(){var n=this.currentRegion;return{isNull:this.values[n]===i,value:this.values[n],offset:n}},renderRegion:function(n,i){var a=this.values,r=this.options,h=this.min,v=this.max,y=this.range,p=this.interval,w=this.target,b=this.canvasHeight,c=this.lineHeight,l=b-c,f,e,u,o;return e=s(a[n],h,v),o=n*p,f=t.round(l-l*((e-h)/y)),u=r.get("thresholdColor")&&e<r.get("thresholdValue")?r.get("thresholdColor"):r.get("lineColor"),i&&(u=this.calcHighlightColor(u,r)),w.drawLine(o,f,o,f+c,u)}});r.fn.sparkline.bullet=w=u(r.fn.sparkline._base,{type:"bullet",init:function(n,r,u,f,e){var s,h,o;w._super.init.call(this,n,r,u,f,e);this.values=r=v(r);o=r.slice();o[0]=o[0]===null?o[2]:o[0];o[1]=r[1]===null?o[2]:o[1];s=t.min.apply(t,r);h=t.max.apply(t,r);s=u.get("base")===i?s<0?s:0:u.get("base");this.min=s;this.max=h;this.range=h-s;this.shapes={};this.valueShapes={};this.regiondata={};this.width=f=u.get("width")==="auto"?"4.0em":f;this.target=this.$el.simpledraw(f,e,u.get("composite"));r.length||(this.disabled=!0);this.initTarget()},getRegion:function(n,t,r){var u=this.target.getShapeAt(n,t,r);return u!==i&&this.shapes[u]!==i?this.shapes[u]:i},getCurrentRegionFields:function(){var n=this.currentRegion;return{fieldkey:n.substr(0,1),value:this.values[n.substr(1)],region:n}},changeHighlight:function(n){var i=this.currentRegion,r=this.valueShapes[i],t;delete this.shapes[r];switch(i.substr(0,1)){case"r":t=this.renderRange(i.substr(1),n);break;case"p":t=this.renderPerformance(n);break;case"t":t=this.renderTarget(n)}this.valueShapes[i]=t.id;this.shapes[t.id]=i;this.target.replaceWithShape(r,t)},renderRange:function(n,i){var u=this.values[n],f=t.round(this.canvasWidth*((u-this.min)/this.range)),r=this.options.get("rangeColors")[n-2];return i&&(r=this.calcHighlightColor(r,this.options)),this.target.drawRect(0,0,f-1,this.canvasHeight-1,r,r)},renderPerformance:function(n){var r=this.values[1],u=t.round(this.canvasWidth*((r-this.min)/this.range)),i=this.options.get("performanceColor");return n&&(i=this.calcHighlightColor(i,this.options)),this.target.drawRect(0,t.round(this.canvasHeight*.3),u-1,t.round(this.canvasHeight*.4)-1,i,i)},renderTarget:function(n){var u=this.values[0],f=t.round(this.canvasWidth*((u-this.min)/this.range)-this.options.get("targetWidth")/2),r=t.round(this.canvasHeight*.1),e=this.canvasHeight-r*2,i=this.options.get("targetColor");return n&&(i=this.calcHighlightColor(i,this.options)),this.target.drawRect(f,r,this.options.get("targetWidth")-1,e-1,i,i)},render:function(){var i=this.values.length,r=this.target,t,n;if(w._super.render.call(this)){for(t=2;t<i;t++)n=this.renderRange(t).append(),this.shapes[n.id]="r"+t,this.valueShapes["r"+t]=n.id;this.values[1]!==null&&(n=this.renderPerformance().append(),this.shapes[n.id]="p1",this.valueShapes.p1=n.id);this.values[0]!==null&&(n=this.renderTarget().append(),this.shapes[n.id]="t0",this.valueShapes.t0=n.id);r.render()}}});r.fn.sparkline.pie=b=u(r.fn.sparkline._base,{type:"pie",init:function(n,i,u,f,e){var s=0,o;if(b._super.init.call(this,n,i,u,f,e),this.shapes={},this.valueShapes={},this.values=i=r.map(i,Number),u.get("width")==="auto"&&(this.width=this.height),i.length>0)for(o=i.length;o--;)s+=i[o];this.total=s;this.initTarget();this.radius=t.floor(t.min(this.canvasWidth,this.canvasHeight)/2)},getRegion:function(n,t,r){var u=this.target.getShapeAt(n,t,r);return u!==i&&this.shapes[u]!==i?this.shapes[u]:i},getCurrentRegionFields:function(){var n=this.currentRegion;return{isNull:this.values[n]===i,value:this.values[n],percent:this.values[n]/this.total*100,color:this.options.get("sliceColors")[n%this.options.get("sliceColors").length],offset:n}},changeHighlight:function(n){var t=this.currentRegion,i=this.renderSlice(t,n),r=this.valueShapes[t];delete this.shapes[r];this.target.replaceWithShape(r,i);this.valueShapes[t]=i.id;this.shapes[i.id]=t},renderSlice:function(n,r){for(var p=this.target,f=this.options,h=this.radius,w=f.get("borderWidth"),c=f.get("offset"),b=2*t.PI,l=this.values,a=this.total,e=c?2*t.PI*(c/360):0,v,o,s,y=l.length,u=0;u<y;u++){if(v=e,o=e,a>0&&(o=e+b*(l[u]/a)),n===u)return s=f.get("sliceColors")[u%f.get("sliceColors").length],r&&(s=this.calcHighlightColor(s,f)),p.drawPieSlice(h,h,h-w,v,o,i,s);e=o}},render:function(){var e=this.target,o=this.values,s=this.options,r=this.radius,u=s.get("borderWidth"),f,n;if(b._super.render.call(this)){for(u&&e.drawCircle(r,r,t.floor(r-u/2),s.get("borderColor"),i,u).append(),n=o.length;n--;)o[n]&&(f=this.renderSlice(n).append(),this.valueShapes[n]=f.id,this.shapes[f.id]=n);e.render()}}});r.fn.sparkline.box=k=u(r.fn.sparkline._base,{type:"box",init:function(n,t,i,u,f){k._super.init.call(this,n,t,i,u,f);this.values=r.map(t,Number);this.width=i.get("width")==="auto"?"4.0em":u;this.initTarget();this.values.length||(this.disabled=1)},getRegion:function(){return 1},getCurrentRegionFields:function(){var n=[{field:"lq",value:this.quartiles[0]},{field:"med",value:this.quartiles[1]},{field:"uq",value:this.quartiles[2]}];return this.loutlier!==i&&n.push({field:"lo",value:this.loutlier}),this.routlier!==i&&n.push({field:"ro",value:this.routlier}),this.lwhisker!==i&&n.push({field:"lw",value:this.lwhisker}),this.rwhisker!==i&&n.push({field:"rw",value:this.rwhisker}),n},render:function(){var s=this.target,r=this.values,g=r.length,n=this.options,nt=this.canvasWidth,u=this.canvasHeight,e=n.get("chartRangeMin")===i?t.min.apply(t,r):n.get("chartRangeMin"),it=n.get("chartRangeMax")===i?t.max.apply(t,r):n.get("chartRangeMax"),o=0,h,w,tt,a,p,v,c,b,y,d,f;if(k._super.render.call(this)){if(n.get("raw"))n.get("showOutliers")&&r.length>5?(w=r[0],h=r[1],a=r[2],p=r[3],v=r[4],c=r[5],b=r[6]):(h=r[0],a=r[1],p=r[2],v=r[3],c=r[4]);else if(r.sort(function(n,t){return n-t}),a=l(r,1),p=l(r,2),v=l(r,3),tt=v-a,n.get("showOutliers")){for(h=c=i,y=0;y<g;y++)h===i&&r[y]>a-tt*n.get("outlierIQR")&&(h=r[y]),r[y]<v+tt*n.get("outlierIQR")&&(c=r[y]);w=r[0];b=r[g-1]}else h=r[0],c=r[g-1];this.quartiles=[a,p,v];this.lwhisker=h;this.rwhisker=c;this.loutlier=w;this.routlier=b;f=nt/(it-e+1);n.get("showOutliers")&&(o=t.ceil(n.get("spotRadius")),nt-=2*t.ceil(n.get("spotRadius")),f=nt/(it-e+1),w<h&&s.drawCircle((w-e)*f+o,u/2,n.get("spotRadius"),n.get("outlierLineColor"),n.get("outlierFillColor")).append(),b>c&&s.drawCircle((b-e)*f+o,u/2,n.get("spotRadius"),n.get("outlierLineColor"),n.get("outlierFillColor")).append());s.drawRect(t.round((a-e)*f+o),t.round(u*.1),t.round((v-a)*f),t.round(u*.8),n.get("boxLineColor"),n.get("boxFillColor")).append();s.drawLine(t.round((h-e)*f+o),t.round(u/2),t.round((a-e)*f+o),t.round(u/2),n.get("lineColor")).append();s.drawLine(t.round((h-e)*f+o),t.round(u/4),t.round((h-e)*f+o),t.round(u-u/4),n.get("whiskerColor")).append();s.drawLine(t.round((c-e)*f+o),t.round(u/2),t.round((v-e)*f+o),t.round(u/2),n.get("lineColor")).append();s.drawLine(t.round((c-e)*f+o),t.round(u/4),t.round((c-e)*f+o),t.round(u-u/4),n.get("whiskerColor")).append();s.drawLine(t.round((p-e)*f+o),t.round(u*.1),t.round((p-e)*f+o),t.round(u*.9),n.get("medianColor")).append();n.get("target")&&(d=t.ceil(n.get("spotRadius")),s.drawLine(t.round((n.get("target")-e)*f+o),t.round(u/2-d),t.round((n.get("target")-e)*f+o),t.round(u/2+d),n.get("targetColor")).append(),s.drawLine(t.round((n.get("target")-e)*f+o-d),t.round(u/2),t.round((n.get("target")-e)*f+o+d),t.round(u/2),n.get("targetColor")).append());s.render()}}});yt=u({init:function(n,t,i,r){this.target=n;this.id=t;this.type=i;this.args=r},append:function(){return this.target.appendShape(this),this}});d=u({_pxregex:/(\d+)(px)?\s*$/i,init:function(n,t,i){n&&(this.width=n,this.height=t,this.target=i,this.lastShapeId=null,i[0]&&(i=i[0]),r.data(i,"_jqs_vcanvas",this))},drawLine:function(n,t,i,r,u,f){return this.drawShape([[n,t],[i,r]],u,f)},drawShape:function(n,t,i,r){return this._genShape("Shape",[n,t,i,r])},drawCircle:function(n,t,i,r,u,f){return this._genShape("Circle",[n,t,i,r,u,f])},drawPieSlice:function(n,t,i,r,u,f,e){return this._genShape("PieSlice",[n,t,i,r,u,f,e])},drawRect:function(n,t,i,r,u,f){return this._genShape("Rect",[n,t,i,r,u,f])},getElement:function(){return this.canvas},getLastShapeId:function(){return this.lastShapeId},reset:function(){alert("reset not implemented")},_insert:function(n,t){r(t).html(n)},_calculatePixelDims:function(n,t,i){var u;u=this._pxregex.exec(t);this.pixelHeight=u?u[1]:r(i).height();u=this._pxregex.exec(n);this.pixelWidth=u?u[1]:r(i).width()},_genShape:function(n,t){var i=wt++;return t.unshift(i),new yt(this,i,n,t)},appendShape:function(){alert("appendShape not implemented")},replaceWithShape:function(){alert("replaceWithShape not implemented")},insertAfterShape:function(){alert("insertAfterShape not implemented")},removeShapeId:function(){alert("removeShapeId not implemented")},getShapeAt:function(){alert("getShapeAt not implemented")},render:function(){alert("render not implemented")}});g=u(d,{init:function(t,u,f,e){g._super.init.call(this,t,u,f);this.canvas=n.createElement("canvas");f[0]&&(f=f[0]);r.data(f,"_jqs_vcanvas",this);r(this.canvas).css({display:"inline-block",width:t,height:u,verticalAlign:"top"});this._insert(this.canvas,f);this._calculatePixelDims(t,u,this.canvas);this.canvas.width=this.pixelWidth;this.canvas.height=this.pixelHeight;this.interact=e;this.shapes={};this.shapeseq=[];this.currentTargetShapeId=i;r(this.canvas).css({width:this.pixelWidth,height:this.pixelHeight})},_getContext:function(n,t,r){var u=this.canvas.getContext("2d");return n!==i&&(u.strokeStyle=n),u.lineWidth=r===i?1:r,t!==i&&(u.fillStyle=t),u},reset:function(){var n=this._getContext();n.clearRect(0,0,this.pixelWidth,this.pixelHeight);this.shapes={};this.shapeseq=[];this.currentTargetShapeId=i},_drawShape:function(n,t,r,u,f){var e=this._getContext(r,u,f),o,s;for(e.beginPath(),e.moveTo(t[0][0]+.5,t[0][1]+.5),o=1,s=t.length;o<s;o++)e.lineTo(t[o][0]+.5,t[o][1]+.5);r!==i&&e.stroke();u!==i&&e.fill();this.targetX!==i&&this.targetY!==i&&e.isPointInPath(this.targetX,this.targetY)&&(this.currentTargetShapeId=n)},_drawCircle:function(n,r,u,f,e,o,s){var h=this._getContext(e,o,s);h.beginPath();h.arc(r,u,f,0,2*t.PI,!1);this.targetX!==i&&this.targetY!==i&&h.isPointInPath(this.targetX,this.targetY)&&(this.currentTargetShapeId=n);e!==i&&h.stroke();o!==i&&h.fill()},_drawPieSlice:function(n,t,r,u,f,e,o,s){var h=this._getContext(o,s);h.beginPath();h.moveTo(t,r);h.arc(t,r,u,f,e,!1);h.lineTo(t,r);h.closePath();o!==i&&h.stroke();s&&h.fill();this.targetX!==i&&this.targetY!==i&&h.isPointInPath(this.targetX,this.targetY)&&(this.currentTargetShapeId=n)},_drawRect:function(n,t,i,r,u,f,e){return this._drawShape(n,[[t,i],[t+r,i],[t+r,i+u],[t,i+u],[t,i]],f,e)},appendShape:function(n){return this.shapes[n.id]=n,this.shapeseq.push(n.id),this.lastShapeId=n.id,n.id},replaceWithShape:function(n,t){var r=this.shapeseq,i;for(this.shapes[t.id]=t,i=r.length;i--;)r[i]==n&&(r[i]=t.id);delete this.shapes[n]},replaceWithShapes:function(n,t){for(var r=this.shapeseq,f={},u,e,i=n.length;i--;)f[n[i]]=!0;for(i=r.length;i--;)u=r[i],f[u]&&(r.splice(i,1),delete this.shapes[u],e=i);for(i=t.length;i--;)r.splice(e,0,t[i].id),this.shapes[t[i].id]=t[i]},insertAfterShape:function(n,t){for(var r=this.shapeseq,i=r.length;i--;)if(r[i]===n){r.splice(i+1,0,t.id);this.shapes[t.id]=t;return}},removeShapeId:function(n){for(var i=this.shapeseq,t=i.length;t--;)if(i[t]===n){i.splice(t,1);break}delete this.shapes[n]},getShapeAt:function(n,t,i){return this.targetX=t,this.targetY=i,this.render(),this.currentTargetShapeId},render:function(){var i=this.shapeseq,u=this.shapes,f=i.length,e=this._getContext(),r,t,n;for(e.clearRect(0,0,this.pixelWidth,this.pixelHeight),n=0;n<f;n++)r=i[n],t=u[r],this["_draw"+t.type].apply(this,t.args);this.interact||(this.shapes={},this.shapeseq=[])}});nt=u(d,{init:function(t,i,u){var f;nt._super.init.call(this,t,i,u);u[0]&&(u=u[0]);r.data(u,"_jqs_vcanvas",this);this.canvas=n.createElement("span");r(this.canvas).css({display:"inline-block",position:"relative",overflow:"hidden",width:t,height:i,margin:"0px",padding:"0px",verticalAlign:"top"});this._insert(this.canvas,u);this._calculatePixelDims(t,i,this.canvas);this.canvas.width=this.pixelWidth;this.canvas.height=this.pixelHeight;f='<v:group coordorigin="0 0" coordsize="'+this.pixelWidth+" "+this.pixelHeight+'" style="position:absolute;top:0;left:0;width:'+this.pixelWidth+"px;height="+this.pixelHeight+'px;"><\/v:group>';this.canvas.insertAdjacentHTML("beforeEnd",f);this.group=r(this.canvas).children()[0];this.rendered=!1;this.prerender=""},_drawShape:function(n,t,r,u,f){for(var e=[],s,h,c,l,a,o=0,v=t.length;o<v;o++)e[o]=""+t[o][0]+","+t[o][1];return s=e.splice(0,1),f=f===i?1:f,h=r===i?' stroked="false" ':' strokeWeight="'+f+'px" strokeColor="'+r+'" ',c=u===i?' filled="false"':' fillColor="'+u+'" filled="true" ',l=e[0]===e[e.length-1]?"x ":"",a='<v:shape coordorigin="0 0" coordsize="'+this.pixelWidth+" "+this.pixelHeight+'"  id="jqsshape'+n+'" '+h+c+' style="position:absolute;left:0px;top:0px;height:'+this.pixelHeight+"px;width:"+this.pixelWidth+'px;padding:0px;margin:0px;"  path="m '+s+" l "+e.join(", ")+" "+l+'e"> <\/v:shape>',a},_drawCircle:function(n,t,r,u,f,e,o){var s,h,c;return t-=u,r-=u,s=f===i?' stroked="false" ':' strokeWeight="'+o+'px" strokeColor="'+f+'" ',h=e===i?' filled="false"':' fillColor="'+e+'" filled="true" ',c='<v:oval  id="jqsshape'+n+'" '+s+h+' style="position:absolute;top:'+r+"px; left:"+t+"px; width:"+u*2+"px; height:"+u*2+'px"><\/v:oval>',c},_drawPieSlice:function(n,r,u,f,e,o,s,h){var y,c,l,a,v,p,w,b;if(e===o)return"";if(o-e==2*t.PI&&(e=0,o=2*t.PI),c=r+t.round(t.cos(e)*f),l=u+t.round(t.sin(e)*f),a=r+t.round(t.cos(o)*f),v=u+t.round(t.sin(o)*f),c===a&&l===v){if(o-e<t.PI)return"";c=a=r+f;l=v=u}return c===a&&l===v&&o-e<t.PI?"":(y=[r-f,u-f,r+f,u+f,c,l,a,v],p=s===i?' stroked="false" ':' strokeWeight="1px" strokeColor="'+s+'" ',w=h===i?' filled="false"':' fillColor="'+h+'" filled="true" ',b='<v:shape coordorigin="0 0" coordsize="'+this.pixelWidth+" "+this.pixelHeight+'"  id="jqsshape'+n+'" '+p+w+' style="position:absolute;left:0px;top:0px;height:'+this.pixelHeight+"px;width:"+this.pixelWidth+'px;padding:0px;margin:0px;"  path="m '+r+","+u+" wa "+y.join(", ")+' x e"> <\/v:shape>',b)},_drawRect:function(n,t,i,r,u,f,e){return this._drawShape(n,[[t,i],[t,i+u],[t+r,i+u],[t+r,i],[t,i]],f,e)},reset:function(){this.group.innerHTML=""},appendShape:function(n){var t=this["_draw"+n.type].apply(this,n.args);return this.rendered?this.group.insertAdjacentHTML("beforeEnd",t):this.prerender+=t,this.lastShapeId=n.id,n.id},replaceWithShape:function(n,t){var i=r("#jqsshape"+n),u=this["_draw"+t.type].apply(this,t.args);i[0].outerHTML=u},replaceWithShapes:function(n,t){for(var f=r("#jqsshape"+n[0]),u="",e=t.length,i=0;i<e;i++)u+=this["_draw"+t[i].type].apply(this,t[i].args);for(f[0].outerHTML=u,i=1;i<n.length;i++)r("#jqsshape"+n[i]).remove()},insertAfterShape:function(n,t){var i=r("#jqsshape"+n),u=this["_draw"+t.type].apply(this,t.args);i[0].insertAdjacentHTML("afterEnd",u)},removeShapeId:function(n){var t=r("#jqsshape"+n);this.group.removeChild(t[0])},getShapeAt:function(n){return n.id.substr(8)},render:function(){this.rendered||(this.group.innerHTML=this.prerender,this.rendered=!0)}})})}(document,Math),function(n){typeof define=="function"&&define.amd?define(["jquery"],n):typeof exports=="object"?n(require("jquery")):n(window.jQuery||window.Zepto)}(function(n){var h="Close",pt="BeforeClose",ti="AfterClose",ii="BeforeAppend",it="MarkupParse",rt="Open",wt="Change",ut="mfp",u="."+ut,p="mfp-ready",bt="mfp-removing",ft="mfp-prevent-close",t,w=function(){},et=!!window.jQuery,ot,f=n(window),o,b,c,kt,r=function(n,i){t.ev.on(ut+n+u,i)},e=function(t,i,r,u){var f=document.createElement("div");return f.className="mfp-"+t,r&&(f.innerHTML=r),u?i&&i.appendChild(f):(f=n(f),i&&f.appendTo(i)),f},i=function(i,r){t.ev.triggerHandler(ut+i,r);t.st.callbacks&&(i=i.charAt(0).toLowerCase()+i.slice(1),t.st.callbacks[i]&&t.st.callbacks[i].apply(t,n.isArray(r)?r:[r]))},st=function(i){return i===kt&&t.currTemplate.closeBtn||(t.currTemplate.closeBtn=n(t.st.closeMarkup.replace("%title%",t.st.tClose)),kt=i),t.currTemplate.closeBtn},ht=function(){n.magnificPopup.instance||(t=new w,t.init(),n.magnificPopup.instance=t)},ri=function(){var n=document.createElement("p").style,t=["ms","O","Moz","Webkit"];if(n.transition!==undefined)return!0;while(t.length)if(t.pop()+"Transition"in n)return!0;return!1},k,a,d,g,ct,s,gt,at,ni,nt,yt,tt;w.prototype={constructor:w,init:function(){var i=navigator.appVersion;t.isIE7=i.indexOf("MSIE 7.")!==-1;t.isIE8=i.indexOf("MSIE 8.")!==-1;t.isLowIE=t.isIE7||t.isIE8;t.isAndroid=/android/gi.test(i);t.isIOS=/iphone|ipad|ipod/gi.test(i);t.supportsTransition=ri();t.probablyMobile=t.isAndroid||t.isIOS||/(Opera Mini)|Kindle|webOS|BlackBerry|(Opera Mobi)|(Windows Phone)|IEMobile/i.test(navigator.userAgent);o=n(document);t.popupsCache={}},open:function(s){var h,w,l,b,a,k,v,d,y;if(s.isObj===!1){for(t.items=s.items.toArray(),t.index=0,w=s.items,h=0;h<w.length;h++)if(l=w[h],l.parsed&&(l=l.el[0]),l===s.el[0]){t.index=h;break}}else t.items=n.isArray(s.items)?s.items:[s.items],t.index=s.index||0;if(t.isOpen){t.updateItemHTML();return}for(t.types=[],c="",t.ev=s.mainEl&&s.mainEl.length?s.mainEl.eq(0):o,s.key?(t.popupsCache[s.key]||(t.popupsCache[s.key]={}),t.currTemplate=t.popupsCache[s.key]):t.currTemplate={},t.st=n.extend(!0,{},n.magnificPopup.defaults,s),t.fixedContentPos=t.st.fixedContentPos==="auto"?!t.probablyMobile:t.st.fixedContentPos,t.st.modal&&(t.st.closeOnContentClick=!1,t.st.closeOnBgClick=!1,t.st.showCloseBtn=!1,t.st.enableEscapeKey=!1),t.bgOverlay||(t.bgOverlay=e("bg").on("click"+u,function(){t.close()}),t.wrap=e("wrap").attr("tabindex",-1).on("click"+u,function(n){t._checkIfClose(n.target)&&t.close()}),t.container=e("container",t.wrap)),t.contentContainer=e("content"),t.st.preloader&&(t.preloader=e("preloader",t.container,t.st.tLoading)),b=n.magnificPopup.modules,h=0;h<b.length;h++)a=b[h],a=a.charAt(0).toUpperCase()+a.slice(1),t["init"+a].call(t);return i("BeforeOpen"),t.st.showCloseBtn&&(t.st.closeBtnInside?(r(it,function(n,t,i,r){i.close_replaceWith=st(r.type)}),c+=" mfp-close-btn-in"):t.wrap.append(st())),t.st.alignTop&&(c+=" mfp-align-top"),t.fixedContentPos?t.wrap.css({overflow:t.st.overflowY,overflowX:"hidden",overflowY:t.st.overflowY}):t.wrap.css({top:f.scrollTop(),position:"absolute"}),(t.st.fixedBgPos===!1||t.st.fixedBgPos==="auto"&&!t.fixedContentPos)&&t.bgOverlay.css({height:o.height(),position:"absolute"}),t.st.enableEscapeKey&&o.on("keyup"+u,function(n){n.keyCode===27&&t.close()}),f.on("resize"+u,function(){t.updateSize()}),t.st.closeOnContentClick||(c+=" mfp-auto-cursor"),c&&t.wrap.addClass(c),k=t.wH=f.height(),v={},t.fixedContentPos&&t._hasScrollBar(k)&&(d=t._getScrollbarSize(),d&&(v.marginRight=d)),t.fixedContentPos&&(t.isIE7?n("body, html").css("overflow","hidden"):v.overflow="hidden"),y=t.st.mainClass,t.isIE7&&(y+=" mfp-ie7"),y&&t._addClassToMFP(y),t.updateItemHTML(),i("BuildControls"),n("html").css(v),t.bgOverlay.add(t.wrap).prependTo(t.st.prependTo||n(document.body)),t._lastFocusedEl=document.activeElement,setTimeout(function(){t.content?(t._addClassToMFP(p),t._setFocus()):t.bgOverlay.addClass(p);o.on("focusin"+u,t._onFocusIn)},16),t.isOpen=!0,t.updateSize(k),i(rt),s},close:function(){t.isOpen&&(i(pt),t.isOpen=!1,t.st.removalDelay&&!t.isLowIE&&t.supportsTransition?(t._addClassToMFP(bt),setTimeout(function(){t._close()},t.st.removalDelay)):t._close())},_close:function(){var r,f;i(h);r=bt+" "+p+" ";t.bgOverlay.detach();t.wrap.detach();t.container.empty();t.st.mainClass&&(r+=t.st.mainClass+" ");t._removeClassFromMFP(r);t.fixedContentPos&&(f={marginRight:""},t.isIE7?n("body, html").css("overflow",""):f.overflow="",n("html").css(f));o.off("keyup"+u+" focusin"+u);t.ev.off(u);t.wrap.attr("class","mfp-wrap").removeAttr("style");t.bgOverlay.attr("class","mfp-bg");t.container.attr("class","mfp-container");t.st.showCloseBtn&&(!t.st.closeBtnInside||t.currTemplate[t.currItem.type]===!0)&&t.currTemplate.closeBtn&&t.currTemplate.closeBtn.detach();t._lastFocusedEl&&n(t._lastFocusedEl).focus();t.currItem=null;t.content=null;t.currTemplate=null;t.prevHeight=0;i(ti)},updateSize:function(n){if(t.isIOS){var u=document.documentElement.clientWidth/window.innerWidth,r=window.innerHeight*u;t.wrap.css("height",r);t.wH=r}else t.wH=n||f.height();t.fixedContentPos||t.wrap.css("height",t.wH);i("Resize")},updateItemHTML:function(){var u=t.items[t.index],r,f,e;t.contentContainer.detach();t.content&&t.content.detach();u.parsed||(u=t.parseEl(t.index));r=u.type;i("BeforeChange",[t.currItem?t.currItem.type:"",r]);t.currItem=u;t.currTemplate[r]||(f=t.st[r]?t.st[r].markup:!1,i("FirstMarkupParse",f),t.currTemplate[r]=f?n(f):!0);b&&b!==u.type&&t.container.removeClass("mfp-"+b+"-holder");e=t["get"+r.charAt(0).toUpperCase()+r.slice(1)](u,t.currTemplate[r]);t.appendContent(e,r);u.preloaded=!0;i(wt,u);b=u.type;t.container.prepend(t.contentContainer);i("AfterChange")},appendContent:function(n,r){t.content=n;n?t.st.showCloseBtn&&t.st.closeBtnInside&&t.currTemplate[r]===!0?t.content.find(".mfp-close").length||t.content.append(st()):t.content=n:t.content="";i(ii);t.container.addClass("mfp-"+r+"-holder");t.contentContainer.append(t.content)},parseEl:function(r){var u=t.items[r],o,e,f;if(u.tagName?u={el:n(u)}:(o=u.type,u={data:u,src:u.src}),u.el){for(e=t.types,f=0;f<e.length;f++)if(u.el.hasClass("mfp-"+e[f])){o=e[f];break}u.src=u.el.attr("data-mfp-src");u.src||(u.src=u.el.attr("href"))}return u.type=o||t.st.type||"inline",u.index=r,u.parsed=!0,t.items[r]=u,i("ElementParse",u),t.items[r]},addGroup:function(n,i){var u=function(r){r.mfpEl=this;t._openClick(r,n,i)},r;i||(i={});r="click.magnificPopup";i.mainEl=n;i.items?(i.isObj=!0,n.off(r).on(r,u)):(i.isObj=!1,i.delegate?n.off(r).on(r,i.delegate,u):(i.items=n,n.off(r).on(r,u)))},_openClick:function(i,r,u){var o=u.midClick!==undefined?u.midClick:n.magnificPopup.defaults.midClick,e;if(o||!(i.which===2||i.ctrlKey||i.metaKey)){if(e=u.disableOn!==undefined?u.disableOn:n.magnificPopup.defaults.disableOn,e)if(n.isFunction(e)){if(!e.call(t))return!0}else if(f.width()<e)return!0;i.type&&(i.preventDefault(),t.isOpen&&i.stopPropagation());u.el=n(i.mfpEl);u.delegate&&(u.items=r.find(u.delegate));t.open(u)}},updateStatus:function(n,r){if(t.preloader){ot!==n&&t.container.removeClass("mfp-s-"+ot);r||n!=="loading"||(r=t.st.tLoading);var u={status:n,text:r};i("UpdateStatus",u);n=u.status;r=u.text;t.preloader.html(r);t.preloader.find("a").on("click",function(n){n.stopImmediatePropagation()});t.container.addClass("mfp-s-"+n);ot=n}},_checkIfClose:function(i){if(!n(i).hasClass(ft)){var r=t.st.closeOnContentClick,u=t.st.closeOnBgClick;if(r&&u||!t.content||n(i).hasClass("mfp-close")||t.preloader&&i===t.preloader[0])return!0;if(i===t.content[0]||n.contains(t.content[0],i)){if(r)return!0}else if(u&&n.contains(document,i))return!0;return!1}},_addClassToMFP:function(n){t.bgOverlay.addClass(n);t.wrap.addClass(n)},_removeClassFromMFP:function(n){this.bgOverlay.removeClass(n);t.wrap.removeClass(n)},_hasScrollBar:function(n){return(t.isIE7?o.height():document.body.scrollHeight)>(n||f.height())},_setFocus:function(){(t.st.focus?t.content.find(t.st.focus).eq(0):t.wrap).focus()},_onFocusIn:function(i){if(i.target!==t.wrap[0]&&!n.contains(t.wrap[0],i.target))return t._setFocus(),!1},_parseMarkup:function(t,r,f){var e;f.data&&(r=n.extend(f.data,r));i(it,[t,r,f]);n.each(r,function(n,i){var r,f;if(i===undefined||i===!1)return!0;e=n.split("_");e.length>1?(r=t.find(u+"-"+e[0]),r.length>0&&(f=e[1],f==="replaceWith"?r[0]!==i[0]&&r.replaceWith(i):f==="img"?r.is("img")?r.attr("src",i):r.replaceWith('<img src="'+i+'" class="'+r.attr("class")+'" />'):r.attr(e[1],i))):t.find(u+"-"+n).html(i)})},_getScrollbarSize:function(){if(t.scrollbarSize===undefined){var n=document.createElement("div");n.style.cssText="width: 99px; height: 99px; overflow: scroll; position: absolute; top: -9999px;";document.body.appendChild(n);t.scrollbarSize=n.offsetWidth-n.clientWidth;document.body.removeChild(n)}return t.scrollbarSize}};n.magnificPopup={instance:null,proto:w.prototype,modules:[],open:function(t,i){return ht(),t=t?n.extend(!0,{},t):{},t.isObj=!0,t.index=i||0,this.instance.open(t)},close:function(){return n.magnificPopup.instance&&n.magnificPopup.instance.close()},registerModule:function(t,i){i.options&&(n.magnificPopup.defaults[t]=i.options);n.extend(this.proto,i.proto);this.modules.push(t)},defaults:{disableOn:0,key:null,midClick:!1,mainClass:"",preloader:!0,focus:"",closeOnContentClick:!1,closeOnBgClick:!0,closeBtnInside:!0,showCloseBtn:!0,enableEscapeKey:!0,modal:!1,alignTop:!1,removalDelay:0,prependTo:null,fixedContentPos:"auto",fixedBgPos:"auto",overflowY:"auto",closeMarkup:'<button title="%title%" type="button" class="mfp-close">&times;<\/button>',tClose:"Close (Esc)",tLoading:"Loading..."}};n.fn.magnificPopup=function(i){var r,u,f,e;return ht(),r=n(this),typeof i=="string"?i==="open"?(f=et?r.data("magnificPopup"):r[0].magnificPopup,e=parseInt(arguments[1],10)||0,f.items?u=f.items[e]:(u=r,f.delegate&&(u=u.find(f.delegate)),u=u.eq(e)),t._openClick({mfpEl:u},r,f)):t.isOpen&&t[i].apply(t,Array.prototype.slice.call(arguments,1)):(i=n.extend(!0,{},i),et?r.data("magnificPopup",i):r[0].magnificPopup=i,t.addGroup(r,i)),r};k="inline";ct=function(){g&&(d.after(g.addClass(a)).detach(),g=null)};n.magnificPopup.registerModule(k,{options:{hiddenClass:"hide",markup:"",tNotFound:"Content not found"},proto:{initInline:function(){t.types.push(k);r(h+"."+k,function(){ct()})},getInline:function(i,r){var f,u,o;return(ct(),i.src)?(f=t.st.inline,u=n(i.src),u.length?(o=u[0].parentNode,o&&o.tagName&&(d||(a=f.hiddenClass,d=e(a),a="mfp-"+a),g=u.after(d).detach().removeClass(a)),t.updateStatus("ready")):(t.updateStatus("error",f.tNotFound),u=n("<div>")),i.inlineElement=u,u):(t.updateStatus("ready"),t._parseMarkup(r,{},i),r)}}});var v="ajax",y,lt=function(){y&&n(document.body).removeClass(y)},dt=function(){lt();t.req&&t.req.abort()};n.magnificPopup.registerModule(v,{options:{settings:null,cursor:"mfp-ajax-cur",tError:'<a href="%url%">The content<\/a> could not be loaded.'},proto:{initAjax:function(){t.types.push(v);y=t.st.ajax.cursor;r(h+"."+v,dt);r("BeforeChange."+v,dt)},getAjax:function(r){y&&n(document.body).addClass(y);t.updateStatus("loading");var u=n.extend({url:r.src,success:function(u,f,e){var o={data:u,xhr:e};i("ParseAjax",o);t.appendContent(n(o.data),v);r.finished=!0;lt();t._setFocus();setTimeout(function(){t.wrap.addClass(p)},16);t.updateStatus("ready");i("AjaxContentAdded")},error:function(){lt();r.finished=r.loadError=!0;t.updateStatus("error",t.st.ajax.tError.replace("%url%",r.src))}},t.st.ajax.settings);return t.req=n.ajax(u),""}}});gt=function(i){if(i.data&&i.data.title!==undefined)return i.data.title;var r=t.st.image.titleSrc;if(r){if(n.isFunction(r))return r.call(t,i);if(i.el)return i.el.attr(r)||""}return""};n.magnificPopup.registerModule("image",{options:{markup:'<div class="mfp-figure"><div class="mfp-close"><\/div><figure><div class="mfp-img"><\/div><figcaption><div class="mfp-bottom-bar"><div class="mfp-title"><\/div><div class="mfp-counter"><\/div><\/div><\/figcaption><\/figure><\/div>',cursor:"mfp-zoom-out-cur",titleSrc:"title",verticalFit:!0,tError:'<a href="%url%">The image<\/a> could not be loaded.'},proto:{initImage:function(){var i=t.st.image,e=".image";t.types.push("image");r(rt+e,function(){t.currItem.type==="image"&&i.cursor&&n(document.body).addClass(i.cursor)});r(h+e,function(){i.cursor&&n(document.body).removeClass(i.cursor);f.off("resize"+u)});r("Resize"+e,t.resizeImage);t.isLowIE&&r("AfterChange",t.resizeImage)},resizeImage:function(){var n=t.currItem,i;n&&n.img&&t.st.image.verticalFit&&(i=0,t.isLowIE&&(i=parseInt(n.img.css("padding-top"),10)+parseInt(n.img.css("padding-bottom"),10)),n.img.css("max-height",t.wH-i))},_onImageHasSize:function(n){n.img&&(n.hasSize=!0,s&&clearInterval(s),n.isCheckingImgSize=!1,i("ImageHasSize",n),n.imgHidden&&(t.content&&t.content.removeClass("mfp-loading"),n.imgHidden=!1))},findImageSize:function(n){var i=0,u=n.img[0],r=function(f){s&&clearInterval(s);s=setInterval(function(){if(u.naturalWidth>0){t._onImageHasSize(n);return}i>200&&clearInterval(s);i++;i===3?r(10):i===40?r(50):i===100&&r(500)},f)};r(1)},getImage:function(r,u){var e=0,o=function(){r&&(r.img[0].complete?(r.img.off(".mfploader"),r===t.currItem&&(t._onImageHasSize(r),t.updateStatus("ready")),r.hasSize=!0,r.loaded=!0,i("ImageLoadComplete")):(e++,e<200?setTimeout(o,100):h()))},h=function(){r&&(r.img.off(".mfploader"),r===t.currItem&&(t._onImageHasSize(r),t.updateStatus("error",c.tError.replace("%url%",r.src))),r.hasSize=!0,r.loaded=!0,r.loadError=!0)},c=t.st.image,l=u.find(".mfp-img"),f;return l.length&&(f=document.createElement("img"),f.className="mfp-img",r.el&&r.el.find("img").length&&(f.alt=r.el.find("img").attr("alt")),r.img=n(f).on("load.mfploader",o).on("error.mfploader",h),f.src=r.src,l.is("img")&&(r.img=r.img.clone()),f=r.img[0],f.naturalWidth>0?r.hasSize=!0:f.width||(r.hasSize=!1)),t._parseMarkup(u,{title:gt(r),img_replaceWith:r.img},r),t.resizeImage(),r.hasSize?(s&&clearInterval(s),r.loadError?(u.addClass("mfp-loading"),t.updateStatus("error",c.tError.replace("%url%",r.src))):(u.removeClass("mfp-loading"),t.updateStatus("ready")),u):(t.updateStatus("loading"),r.loading=!0,r.hasSize||(r.imgHidden=!0,u.addClass("mfp-loading"),t.findImageSize(r)),u)}}});ni=function(){return at===undefined&&(at=document.createElement("p").style.MozTransform!==undefined),at};n.magnificPopup.registerModule("zoom",{options:{enabled:!1,easing:"ease-in-out",duration:300,opener:function(n){return n.is("img")?n:n.find("img")}},proto:{initZoom:function(){var f=t.st.zoom,o=".zoom",u;if(f.enabled&&t.supportsTransition){var c=f.duration,l=function(n){var r=n.clone().removeAttr("style").removeAttr("class").addClass("mfp-animated-image"),u="all "+f.duration/1e3+"s "+f.easing,t={position:"fixed",zIndex:9999,left:0,top:0,"-webkit-backface-visibility":"hidden"},i="transition";return t["-webkit-"+i]=t["-moz-"+i]=t["-o-"+i]=t[i]=u,r.css(t),r},s=function(){t.content.css("visibility","visible")},e,n;r("BuildControls"+o,function(){if(t._allowZoom()){if(clearTimeout(e),t.content.css("visibility","hidden"),u=t._getItemToZoom(),!u){s();return}n=l(u);n.css(t._getOffset());t.wrap.append(n);e=setTimeout(function(){n.css(t._getOffset(!0));e=setTimeout(function(){s();setTimeout(function(){n.remove();u=n=null;i("ZoomAnimationEnded")},16)},c)},16)}});r(pt+o,function(){if(t._allowZoom()){if(clearTimeout(e),t.st.removalDelay=c,!u){if(u=t._getItemToZoom(),!u)return;n=l(u)}n.css(t._getOffset(!0));t.wrap.append(n);t.content.css("visibility","hidden");setTimeout(function(){n.css(t._getOffset())},16)}});r(h+o,function(){t._allowZoom()&&(s(),n&&n.remove(),u=null)})}},_allowZoom:function(){return t.currItem.type==="image"},_getItemToZoom:function(){return t.currItem.hasSize?t.currItem.img:!1},_getOffset:function(i){var r,u;r=i?t.currItem.img:t.st.zoom.opener(t.currItem.el||t.currItem);var f=r.offset(),e=parseInt(r.css("padding-top"),10),o=parseInt(r.css("padding-bottom"),10);return f.top-=n(window).scrollTop()-e,u={width:r.width(),height:(et?r.innerHeight():r[0].offsetHeight)-o-e},ni()?u["-moz-transform"]=u.transform="translate("+f.left+"px,"+f.top+"px)":(u.left=f.left,u.top=f.top),u}}});var l="iframe",ui="//about:blank",vt=function(n){if(t.currTemplate[l]){var i=t.currTemplate[l].find("iframe");i.length&&(n||(i[0].src=ui),t.isIE8&&i.css("display",n?"block":"none"))}};n.magnificPopup.registerModule(l,{options:{markup:'<div class="mfp-iframe-scaler"><div class="mfp-close"><\/div><iframe class="mfp-iframe" src="//about:blank" frameborder="0" allowfullscreen><\/iframe><\/div>',srcAction:"iframe_src",patterns:{youtube:{index:"youtube.com",id:"v=",src:"//www.youtube.com/embed/%id%?autoplay=1"},vimeo:{index:"vimeo.com/",id:"/",src:"//player.vimeo.com/video/%id%?autoplay=1"},gmaps:{index:"//maps.google.",src:"%id%&output=embed"}}},proto:{initIframe:function(){t.types.push(l);r("BeforeChange",function(n,t,i){t!==i&&(t===l?vt():i===l&&vt(!0))});r(h+"."+l,function(){vt()})},getIframe:function(i,r){var u=i.src,f=t.st.iframe,e;return n.each(f.patterns,function(){if(u.indexOf(this.index)>-1)return this.id&&(u=typeof this.id=="string"?u.substr(u.lastIndexOf(this.id)+this.id.length,u.length):this.id.call(this,u)),u=this.src.replace("%id%",u),!1}),e={},f.srcAction&&(e[f.srcAction]=u),t._parseMarkup(r,e,i),t.updateStatus("ready"),r}}});nt=function(n){var i=t.items.length;return n>i-1?n-i:n<0?i+n:n};yt=function(n,t,i){return n.replace(/%curr%/gi,t+1).replace(/%total%/gi,i)};n.magnificPopup.registerModule("gallery",{options:{enabled:!1,arrowMarkup:'<button title="%title%" type="button" class="mfp-arrow mfp-arrow-%dir%"><\/button>',preload:[0,2],navigateByImgClick:!0,arrows:!0,tPrev:"Previous (Left arrow key)",tNext:"Next (Right arrow key)",tCounter:"%curr% of %total%"},proto:{initGallery:function(){var u=t.st.gallery,i=".mfp-gallery",f=Boolean(n.fn.mfpFastClick);if(t.direction=!0,!u||!u.enabled)return!1;c+=" mfp-gallery";r(rt+i,function(){u.navigateByImgClick&&t.wrap.on("click"+i,".mfp-img",function(){if(t.items.length>1)return t.next(),!1});o.on("keydown"+i,function(n){n.keyCode===37?t.prev():n.keyCode===39&&t.next()})});r("UpdateStatus"+i,function(n,i){i.text&&(i.text=yt(i.text,t.currItem.index,t.items.length))});r(it+i,function(n,i,r,f){var e=t.items.length;r.counter=e>1?yt(u.tCounter,f.index,e):""});r("BuildControls"+i,function(){if(t.items.length>1&&u.arrows&&!t.arrowLeft){var o=u.arrowMarkup,i=t.arrowLeft=n(o.replace(/%title%/gi,u.tPrev).replace(/%dir%/gi,"left")).addClass(ft),r=t.arrowRight=n(o.replace(/%title%/gi,u.tNext).replace(/%dir%/gi,"right")).addClass(ft),s=f?"mfpFastClick":"click";i[s](function(){t.prev()});r[s](function(){t.next()});t.isIE7&&(e("b",i[0],!1,!0),e("a",i[0],!1,!0),e("b",r[0],!1,!0),e("a",r[0],!1,!0));t.container.append(i.add(r))}});r(wt+i,function(){t._preloadTimeout&&clearTimeout(t._preloadTimeout);t._preloadTimeout=setTimeout(function(){t.preloadNearbyImages();t._preloadTimeout=null},16)});r(h+i,function(){o.off(i);t.wrap.off("click"+i);t.arrowLeft&&f&&t.arrowLeft.add(t.arrowRight).destroyMfpFastClick();t.arrowRight=t.arrowLeft=null})},next:function(){t.direction=!0;t.index=nt(t.index+1);t.updateItemHTML()},prev:function(){t.direction=!1;t.index=nt(t.index-1);t.updateItemHTML()},goTo:function(n){t.direction=n>=t.index;t.index=n;t.updateItemHTML()},preloadNearbyImages:function(){for(var i=t.st.gallery.preload,r=Math.min(i[0],t.items.length),u=Math.min(i[1],t.items.length),n=1;n<=(t.direction?u:r);n++)t._preloadItem(t.index+n);for(n=1;n<=(t.direction?r:u);n++)t._preloadItem(t.index-n)},_preloadItem:function(r){if(r=nt(r),!t.items[r].preloaded){var u=t.items[r];u.parsed||(u=t.parseEl(r));i("LazyLoad",u);u.type==="image"&&(u.img=n('<img class="mfp-img" />').on("load.mfploader",function(){u.hasSize=!0}).on("error.mfploader",function(){u.hasSize=!0;u.loadError=!0;i("LazyLoadError",u)}).attr("src",u.src));u.preloaded=!0}}}});tt="retina";n.magnificPopup.registerModule(tt,{options:{replaceSrc:function(n){return n.src.replace(/\.\w+$/,function(n){return"@2x"+n})},ratio:1},proto:{initRetina:function(){if(window.devicePixelRatio>1){var i=t.st.retina,n=i.ratio;n=isNaN(n)?n():n;n>1&&(r("ImageHasSize."+tt,function(t,i){i.img.css({"max-width":i.img[0].naturalWidth/n,width:"100%"})}),r("ElementParse."+tt,function(t,r){r.src=i.replaceSrc(r,n)}))}}}}),function(){var u=1e3,i="ontouchstart"in window,r=function(){f.off("touchmove"+t+" touchend"+t)},t=".mfpFastClick";n.fn.mfpFastClick=function(e){return n(this).each(function(){var l=n(this),s,a,v,y,h,o,c;if(i)l.on("touchstart"+t,function(n){h=!1;c=1;o=n.originalEvent?n.originalEvent.touches[0]:n.touches[0];v=o.clientX;y=o.clientY;f.on("touchmove"+t,function(n){o=n.originalEvent?n.originalEvent.touches:n.touches;c=o.length;o=o[0];(Math.abs(o.clientX-v)>10||Math.abs(o.clientY-y)>10)&&(h=!0,r())}).on("touchend"+t,function(n){(r(),h||c>1)||(s=!0,n.preventDefault(),clearTimeout(a),a=setTimeout(function(){s=!1},u),e())})});l.on("click"+t,function(){s||e()})})};n.fn.destroyMfpFastClick=function(){n(this).off("touchstart"+t+" click"+t);i&&f.off("touchmove"+t+" touchend"+t)}}();ht()}),function(n){n.fn.extend({slimScroll:function(i){var r=n.extend({width:"auto",height:"250px",size:"7px",color:"#000",position:"right",distance:"1px",start:"top",opacity:.4,alwaysVisible:!1,disableFadeOut:!1,railVisible:!1,railColor:"#333",railOpacity:.2,railDraggable:!0,railClass:"slimScrollRail",barClass:"slimScrollBar",wrapperClass:"slimScrollDiv",allowPageScroll:!1,wheelStep:20,touchScrollStep:200,borderRadius:"7px",railBorderRadius:"7px"},i);return this.each(function(){function p(t){if(v){t=t||window.event;var i=0;t.wheelDelta&&(i=-t.wheelDelta/120);t.detail&&(i=t.detail/3);n(t.target||t.srcTarget||t.srcElement).closest("."+r.wrapperClass).is(u.parent())&&h(i,!0);t.preventDefault&&!o&&t.preventDefault();o||(t.returnValue=!1)}}function h(n,t,i){o=!1;var s=n,h=u.outerHeight()-f.outerHeight();t&&(s=parseInt(f.css("top"))+n*parseInt(r.wheelStep)/100*f.outerHeight(),s=Math.min(Math.max(s,0),h),s=0<n?Math.ceil(s):Math.floor(s),f.css({top:s+"px"}));e=parseInt(f.css("top"))/(u.outerHeight()-f.outerHeight());s=e*(u[0].scrollHeight-u.outerHeight());i&&(s=n,n=s/u[0].scrollHeight*u.outerHeight(),n=Math.min(Math.max(n,0),h),f.css({top:n+"px"}));u.scrollTop(s);u.trigger("slimscrolling",~~s);b();l()}function it(){window.addEventListener?(this.addEventListener("DOMMouseScroll",p,!1),this.addEventListener("mousewheel",p,!1)):document.attachEvent("onmousewheel",p)}function w(){y=Math.max(u.outerHeight()/u[0].scrollHeight*u.outerHeight(),30);f.css({height:y+"px"});var n=y==u.outerHeight()?"none":"block";f.css({display:n})}function b(){w();clearTimeout(nt);e==~~e?(o=r.allowPageScroll,tt!=e&&u.trigger("slimscroll",0==~~e?"top":"bottom")):o=!1;tt=e;y>=u.outerHeight()?o=!0:(f.stop(!0,!0).fadeIn("fast"),r.railVisible&&s.stop(!0,!0).fadeIn("fast"))}function l(){r.alwaysVisible||(nt=setTimeout(function(){r.disableFadeOut&&v||k||d||(f.fadeOut("slow"),s.fadeOut("slow"))},1e3))}var v,k,d,nt,g,y,e,tt,o=!1,u=n(this),c;if(u.parent().hasClass(r.wrapperClass)){var a=u.scrollTop(),f=u.parent().find("."+r.barClass),s=u.parent().find("."+r.railClass);if(w(),n.isPlainObject(i)){if("height"in i&&"auto"==i.height&&(u.parent().css("height","auto"),u.css("height","auto"),c=u.parent().parent().height(),u.parent().css("height",c),u.css("height",c)),"scrollTo"in i)a=parseInt(r.scrollTo);else if("scrollBy"in i)a+=parseInt(r.scrollBy);else if("destroy"in i){f.remove();s.remove();u.unwrap();return}h(a,!1,!0)}}else if(!(n.isPlainObject(i)&&"destroy"in i)){r.height="auto"==r.height?u.parent().height():r.height;a=n("<div><\/div>").addClass(r.wrapperClass).css({position:"relative",overflow:"hidden",width:r.width,height:r.height});u.css({overflow:"hidden",width:r.width,height:r.height});var s=n("<div><\/div>").addClass(r.railClass).css({width:r.size,height:"100%",position:"absolute",top:0,display:r.alwaysVisible&&r.railVisible?"block":"none","border-radius":r.railBorderRadius,background:r.railColor,opacity:r.railOpacity,zIndex:90}),f=n("<div><\/div>").addClass(r.barClass).css({background:r.color,width:r.size,position:"absolute",top:0,opacity:r.opacity,display:r.alwaysVisible?"block":"none","border-radius":r.borderRadius,BorderRadius:r.borderRadius,MozBorderRadius:r.borderRadius,WebkitBorderRadius:r.borderRadius,zIndex:99}),c="right"==r.position?{right:r.distance}:{left:r.distance};s.css(c);f.css(c);u.wrap(a);u.parent().append(f);u.parent().append(s);r.railDraggable&&f.bind("mousedown",function(i){var r=n(document);return d=!0,t=parseFloat(f.css("top")),pageY=i.pageY,r.bind("mousemove.slimscroll",function(n){currTop=t+n.pageY-pageY;f.css("top",currTop);h(0,f.position().top,!1)}),r.bind("mouseup.slimscroll",function(){d=!1;l();r.unbind(".slimscroll")}),!1}).bind("selectstart.slimscroll",function(n){return n.stopPropagation(),n.preventDefault(),!1});s.hover(function(){b()},function(){l()});f.hover(function(){k=!0},function(){k=!1});u.hover(function(){v=!0;b();l()},function(){v=!1;l()});u.bind("touchstart",function(n){n.originalEvent.touches.length&&(g=n.originalEvent.touches[0].pageY)});u.bind("touchmove",function(n){o||n.originalEvent.preventDefault();n.originalEvent.touches.length&&(h((g-n.originalEvent.touches[0].pageY)/r.touchScrollStep,!0),g=n.originalEvent.touches[0].pageY)});w();"bottom"===r.start?(f.css({top:u.outerHeight()-f.outerHeight()}),h(0,!0)):"top"!==r.start&&(h(n(r.start).position().top,null,!0),r.alwaysVisible||f.hide());it()}}),this}});n.fn.extend({slimscroll:n.fn.slimScroll})}(jQuery);!function(n){"function"==typeof define&&define.amd?define(["jquery"],n):n("object"==typeof module&&module.exports?require("jquery"):jQuery)}(function(n){function a(t){var i={},r=/^jQuery\d+$/;return n.each(t.attributes,function(n,t){t.specified&&!r.test(t.name)&&(i[t.name]=t.value)}),i}function u(i,r){var f=this,u=n(f);if(f.value==u.attr("placeholder")&&u.hasClass(t.customClass))if(u.data("placeholder-password")){if(u=u.hide().nextAll('input[type="password"]:first').show().attr("id",u.removeAttr("id").data("placeholder-id")),i===!0)return u[0].value=r;u.focus()}else f.value="",u.removeClass(t.customClass),f==s()&&f.select()}function e(){var r,f=this,i=n(f),e=this.id;if(""===f.value){if("password"===f.type){if(!i.data("placeholder-textinput")){try{r=i.clone().prop({type:"text"})}catch(o){r=n("<input>").attr(n.extend(a(this),{type:"text"}))}r.removeAttr("name").data({"placeholder-password":i,"placeholder-id":e}).bind("focus.placeholder",u);i.data({"placeholder-textinput":r,"placeholder-id":e}).before(r)}i=i.removeAttr("id").hide().prevAll('input[type="text"]:first').attr("id",e).show()}i.addClass(t.customClass);i[0].value=i.attr("placeholder")}else i.removeClass(t.customClass)}function s(){try{return document.activeElement}catch(n){}}var r,i,h="[object OperaMini]"==Object.prototype.toString.call(window.operamini),f="placeholder"in document.createElement("input")&&!h,o="placeholder"in document.createElement("textarea")&&!h,c=n.valHooks,l=n.propHooks,t;f&&o?(i=n.fn.placeholder=function(){return this},i.input=i.textarea=!0):(t={},i=n.fn.placeholder=function(i){var r;return t=n.extend({},{customClass:"placeholder"},i),r=this,r.filter((f?"textarea":":input")+"[placeholder]").not("."+t.customClass).bind({"focus.placeholder":u,"blur.placeholder":e}).data("placeholder-enabled",!0).trigger("blur.placeholder"),r},i.input=f,i.textarea=o,r={get:function(i){var r=n(i),u=r.data("placeholder-password");return u?u[0].value:r.data("placeholder-enabled")&&r.hasClass(t.customClass)?"":i.value},set:function(i,r){var f=n(i),o=f.data("placeholder-password");return o?o[0].value=r:f.data("placeholder-enabled")?(""===r?(i.value=r,i!=s()&&e.call(i)):f.hasClass(t.customClass)?u.call(i,!0,r)||(i.value=r):i.value=r,f):i.value=r}},f||(c.input=r,l.value=r),o||(c.textarea=r,l.value=r),n(function(){n(document).delegate("form","submit.placeholder",function(){var i=n("."+t.customClass,this).each(u);setTimeout(function(){i.each(e)},10)})}),n(window).bind("beforeunload.placeholder",function(){n("."+t.customClass).each(function(){this.value=""})}))});!function(n,t){if("function"==typeof define&&define.amd)define(["jquery"],t);else if("object"==typeof module&&module.exports){var i;try{i=require("jquery")}catch(r){i=null}module.exports=t(i)}else n.Slider=t(n.jQuery)}(this,function(n){var t;return function(n){"use strict";function t(){}function i(n){function u(t){t.prototype.option||(t.prototype.option=function(t){n.isPlainObject(t)&&(this.options=n.extend(!0,this.options,t))})}function f(t,u){n.fn[t]=function(f){var c,e,s,o;if("string"==typeof f){for(var l=r.call(arguments,1),h=0,a=this.length;a>h;h++)if(c=this[h],e=n.data(c,t),e)if(n.isFunction(e[f])&&"_"!==f.charAt(0)){if(s=e[f].apply(e,l),void 0!==s&&s!==e)return s}else i("no such method '"+f+"' for "+t+" instance");else i("cannot call methods on "+t+" prior to initialization; attempted to call '"+f+"'");return this}return o=this.map(function(){var i=n.data(this,t);return i?(i.option(f),i._init()):(i=new u(this,f),n.data(this,t,i)),n(this)}),!o||o.length>1?o:o[0]}}if(n){var i="undefined"==typeof console?t:function(n){console.error(n)};return n.bridget=function(n,t){u(t);f(n,t)},n.bridget}}var r=Array.prototype.slice;i(n)}(n),function(n){function i(t,i){function it(n,t){var r="data-slider-"+t.replace(/_/g,"-"),i=n.getAttribute(r);try{return JSON.parse(i)}catch(u){return i}}var d,r,o,e,f,y,h,p,w,b,k,nt,tt;for("string"==typeof t?this.element=document.querySelector(t):t instanceof HTMLElement&&(this.element=t),i=i?i:{},d=Object.keys(this.defaultOptions),r=0;r<d.length;r++)o=d[r],e=i[o],e="undefined"!=typeof e?e:it(this.element,o),e=null!==e?e:this.defaultOptions[o],this.options||(this.options={}),this.options[o]=e;var s,c,l,a,v,rt=this.element.style.width,g=!1,ut=this.element.parentNode;if(this.sliderElem)g=!0;else{if(this.sliderElem=document.createElement("div"),this.sliderElem.className="slider",f=document.createElement("div"),f.className="slider-track",c=document.createElement("div"),c.className="slider-track-low",s=document.createElement("div"),s.className="slider-selection",l=document.createElement("div"),l.className="slider-track-high",a=document.createElement("div"),a.className="slider-handle min-slider-handle",v=document.createElement("div"),v.className="slider-handle max-slider-handle",f.appendChild(c),f.appendChild(s),f.appendChild(l),this.ticks=[],Array.isArray(this.options.ticks)&&this.options.ticks.length>0){for(r=0;r<this.options.ticks.length;r++)y=document.createElement("div"),y.className="slider-tick",this.ticks.push(y),f.appendChild(y);s.className+=" tick-slider-selection"}if(f.appendChild(a),f.appendChild(v),this.tickLabels=[],Array.isArray(this.options.ticks_labels)&&this.options.ticks_labels.length>0)for(this.tickLabelContainer=document.createElement("div"),this.tickLabelContainer.className="slider-tick-label-container",r=0;r<this.options.ticks_labels.length;r++)h=document.createElement("div"),h.className="slider-tick-label",h.innerHTML=this.options.ticks_labels[r],this.tickLabels.push(h),this.tickLabelContainer.appendChild(h);p=function(n){var i=document.createElement("div"),t;i.className="tooltip-arrow";t=document.createElement("div");t.className="tooltip-inner";n.appendChild(i);n.appendChild(t)};w=document.createElement("div");w.className="tooltip tooltip-main";p(w);b=document.createElement("div");b.className="tooltip tooltip-min";p(b);k=document.createElement("div");k.className="tooltip tooltip-max";p(k);this.sliderElem.appendChild(f);this.sliderElem.appendChild(w);this.sliderElem.appendChild(b);this.sliderElem.appendChild(k);this.tickLabelContainer&&this.sliderElem.appendChild(this.tickLabelContainer);ut.insertBefore(this.sliderElem,this.element);this.element.style.display="none"}if(n&&(this.$element=n(this.element),this.$sliderElem=n(this.sliderElem)),this.eventToCallbackMap={},this.sliderElem.id=this.options.id,this.touchCapable="ontouchstart"in window||window.DocumentTouch&&document instanceof window.DocumentTouch,this.tooltip=this.sliderElem.querySelector(".tooltip-main"),this.tooltipInner=this.tooltip.querySelector(".tooltip-inner"),this.tooltip_min=this.sliderElem.querySelector(".tooltip-min"),this.tooltipInner_min=this.tooltip_min.querySelector(".tooltip-inner"),this.tooltip_max=this.sliderElem.querySelector(".tooltip-max"),this.tooltipInner_max=this.tooltip_max.querySelector(".tooltip-inner"),u[this.options.scale]&&(this.options.scale=u[this.options.scale]),g===!0&&(this._removeClass(this.sliderElem,"slider-horizontal"),this._removeClass(this.sliderElem,"slider-vertical"),this._removeClass(this.tooltip,"hide"),this._removeClass(this.tooltip_min,"hide"),this._removeClass(this.tooltip_max,"hide"),["left","top","width","height"].forEach(function(n){this._removeProperty(this.trackLow,n);this._removeProperty(this.trackSelection,n);this._removeProperty(this.trackHigh,n)},this),[this.handle1,this.handle2].forEach(function(n){this._removeProperty(n,"left");this._removeProperty(n,"top")},this),[this.tooltip,this.tooltip_min,this.tooltip_max].forEach(function(n){this._removeProperty(n,"left");this._removeProperty(n,"top");this._removeProperty(n,"margin-left");this._removeProperty(n,"margin-top");this._removeClass(n,"right");this._removeClass(n,"top")},this)),"vertical"===this.options.orientation?(this._addClass(this.sliderElem,"slider-vertical"),this.stylePos="top",this.mousePos="pageY",this.sizePos="offsetHeight",this._addClass(this.tooltip,"right"),this.tooltip.style.left="100%",this._addClass(this.tooltip_min,"right"),this.tooltip_min.style.left="100%",this._addClass(this.tooltip_max,"right"),this.tooltip_max.style.left="100%"):(this._addClass(this.sliderElem,"slider-horizontal"),this.sliderElem.style.width=rt,this.options.orientation="horizontal",this.stylePos="left",this.mousePos="pageX",this.sizePos="offsetWidth",this._addClass(this.tooltip,"top"),this.tooltip.style.top=-this.tooltip.outerHeight-14+"px",this._addClass(this.tooltip_min,"top"),this.tooltip_min.style.top=-this.tooltip_min.outerHeight-14+"px",this._addClass(this.tooltip_max,"top"),this.tooltip_max.style.top=-this.tooltip_max.outerHeight-14+"px"),Array.isArray(this.options.ticks)&&this.options.ticks.length>0&&(this.options.max=Math.max.apply(Math,this.options.ticks),this.options.min=Math.min.apply(Math,this.options.ticks)),Array.isArray(this.options.value)?this.options.range=!0:this.options.range&&(this.options.value=[this.options.value,this.options.max]),this.trackLow=c||this.trackLow,this.trackSelection=s||this.trackSelection,this.trackHigh=l||this.trackHigh,"none"===this.options.selection&&(this._addClass(this.trackLow,"hide"),this._addClass(this.trackSelection,"hide"),this._addClass(this.trackHigh,"hide")),this.handle1=a||this.handle1,this.handle2=v||this.handle2,g===!0)for(this._removeClass(this.handle1,"round triangle"),this._removeClass(this.handle2,"round triangle hide"),r=0;r<this.ticks.length;r++)this._removeClass(this.ticks[r],"round triangle hide");if(nt=["round","triangle","custom"],tt=-1!==nt.indexOf(this.options.handle),tt)for(this._addClass(this.handle1,this.options.handle),this._addClass(this.handle2,this.options.handle),r=0;r<this.ticks.length;r++)this._addClass(this.ticks[r],this.options.handle);this.offset=this._offset(this.sliderElem);this.size=this.sliderElem[this.sizePos];this.setValue(this.options.value);this.handle1Keydown=this._keydown.bind(this,0);this.handle1.addEventListener("keydown",this.handle1Keydown,!1);this.handle2Keydown=this._keydown.bind(this,1);this.handle2.addEventListener("keydown",this.handle2Keydown,!1);this.mousedown=this._mousedown.bind(this);this.touchCapable&&this.sliderElem.addEventListener("touchstart",this.mousedown,!1);this.sliderElem.addEventListener("mousedown",this.mousedown,!1);"hide"===this.options.tooltip?(this._addClass(this.tooltip,"hide"),this._addClass(this.tooltip_min,"hide"),this._addClass(this.tooltip_max,"hide")):"always"===this.options.tooltip?(this._showTooltip(),this._alwaysShowTooltip=!0):(this.showTooltip=this._showTooltip.bind(this),this.hideTooltip=this._hideTooltip.bind(this),this.sliderElem.addEventListener("mouseenter",this.showTooltip,!1),this.sliderElem.addEventListener("mouseleave",this.hideTooltip,!1),this.handle1.addEventListener("focus",this.showTooltip,!1),this.handle1.addEventListener("blur",this.hideTooltip,!1),this.handle2.addEventListener("focus",this.showTooltip,!1),this.handle2.addEventListener("blur",this.hideTooltip,!1));this.options.enabled?this.enable():this.disable()}var r={formatInvalidInputErrorMsg:function(n){return"Invalid input value '"+n+"' passed in"},callingContextNotSliderInstance:"Calling context element does not have instance of Slider bound to it. Check your code to make sure the JQuery object returned from the call to the slider() initializer is calling the method"},u={linear:{toValue:function(n){var e=n/100*(this.options.max-this.options.min),r,o,u,f,t,s,i;if(this.options.ticks_positions.length>0){for(f=0,t=0;t<this.options.ticks_positions.length;t++)if(n<=this.options.ticks_positions[t]){r=t>0?this.options.ticks[t-1]:0;u=t>0?this.options.ticks_positions[t-1]:0;o=this.options.ticks[t];f=this.options.ticks_positions[t];break}t>0&&(s=(n-u)/(f-u),e=r+s*(o-r))}return i=this.options.min+Math.round(e/this.options.step)*this.options.step,i<this.options.min?this.options.min:i>this.options.max?this.options.max:i},toPercentage:function(n){var i,f,r,u,t,e;if(this.options.max===this.options.min)return 0;if(this.options.ticks_positions.length>0){for(u=0,t=0;t<this.options.ticks.length;t++)if(n<=this.options.ticks[t]){i=t>0?this.options.ticks[t-1]:0;r=t>0?this.options.ticks_positions[t-1]:0;f=this.options.ticks[t];u=this.options.ticks_positions[t];break}if(t>0)return e=(n-i)/(f-i),r+e*(u-r)}return 100*(n-this.options.min)/(this.options.max-this.options.min)}},logarithmic:{toValue:function(n){var i=0===this.options.min?0:Math.log(this.options.min),r=Math.log(this.options.max),t=Math.exp(i+(r-i)*n/100);return t=this.options.min+Math.round((t-this.options.min)/this.options.step)*this.options.step,t<this.options.min?this.options.min:t>this.options.max?this.options.max:t},toPercentage:function(n){if(this.options.max===this.options.min)return 0;var i=Math.log(this.options.max),t=0===this.options.min?0:Math.log(this.options.min),r=0===n?0:Math.log(n);return 100*(r-t)/(i-t)}}},f;(t=function(n,t){return i.call(this,n,t),this},t.prototype={_init:function(){},constructor:t,defaultOptions:{id:"",min:0,max:10,step:1,precision:0,orientation:"horizontal",value:5,range:!1,selection:"before",tooltip:"show",tooltip_split:!1,handle:"round",reversed:!1,enabled:!0,formatter:function(n){return Array.isArray(n)?n[0]+" : "+n[1]:n},natural_arrow_keys:!1,ticks:[],ticks_positions:[],ticks_labels:[],ticks_snap_bounds:0,scale:"linear",focus:!1},over:!1,inDrag:!1,getValue:function(){return this.options.range?this.options.value:this.options.value[0]},setValue:function(n,t,i){var f,u,r;return n||(n=0),f=this.getValue(),this.options.value=this._validateInputValue(n),u=this._applyPrecision.bind(this),this.options.range?(this.options.value[0]=u(this.options.value[0]),this.options.value[1]=u(this.options.value[1]),this.options.value[0]=Math.max(this.options.min,Math.min(this.options.max,this.options.value[0])),this.options.value[1]=Math.max(this.options.min,Math.min(this.options.max,this.options.value[1]))):(this.options.value=u(this.options.value),this.options.value=[Math.max(this.options.min,Math.min(this.options.max,this.options.value))],this._addClass(this.handle2,"hide"),this.options.value[1]="after"===this.options.selection?this.options.max:this.options.min),this.percentage=this.options.max>this.options.min?[this._toPercentage(this.options.value[0]),this._toPercentage(this.options.value[1]),100*this.options.step/(this.options.max-this.options.min)]:[0,0,100],this._layout(),r=this.options.range?this.options.value:this.options.value[0],t===!0&&this._trigger("slide",r),f!==r&&i===!0&&this._trigger("change",{oldValue:f,newValue:r}),this._setDataVal(r),this},destroy:function(){this._removeSliderEventHandlers();this.sliderElem.parentNode.removeChild(this.sliderElem);this.element.style.display="";this._cleanUpEventCallbacksMap();this.element.removeAttribute("data");n&&(this._unbindJQueryEventHandlers(),this.$element.removeData("slider"))},disable:function(){return this.options.enabled=!1,this.handle1.removeAttribute("tabindex"),this.handle2.removeAttribute("tabindex"),this._addClass(this.sliderElem,"slider-disabled"),this._trigger("slideDisabled"),this},enable:function(){return this.options.enabled=!0,this.handle1.setAttribute("tabindex",0),this.handle2.setAttribute("tabindex",0),this._removeClass(this.sliderElem,"slider-disabled"),this._trigger("slideEnabled"),this},toggle:function(){return this.options.enabled?this.disable():this.enable(),this},isEnabled:function(){return this.options.enabled},on:function(n,t){return this._bindNonQueryEventHandler(n,t),this},off:function(t,i){n?(this.$element.off(t,i),this.$sliderElem.off(t,i)):this._unbindNonQueryEventHandler(t,i)},getAttribute:function(n){return n?this.options[n]:this.options},setAttribute:function(n,t){return this.options[n]=t,this},refresh:function(){return this._removeSliderEventHandlers(),i.call(this,this.element,this.options),n&&n.data(this.element,"slider",this),this},relayout:function(){return this._layout(),this},_removeSliderEventHandlers:function(){this.handle1.removeEventListener("keydown",this.handle1Keydown,!1);this.handle1.removeEventListener("focus",this.showTooltip,!1);this.handle1.removeEventListener("blur",this.hideTooltip,!1);this.handle2.removeEventListener("keydown",this.handle2Keydown,!1);this.handle2.removeEventListener("focus",this.handle2Keydown,!1);this.handle2.removeEventListener("blur",this.handle2Keydown,!1);this.sliderElem.removeEventListener("mouseenter",this.showTooltip,!1);this.sliderElem.removeEventListener("mouseleave",this.hideTooltip,!1);this.sliderElem.removeEventListener("touchstart",this.mousedown,!1);this.sliderElem.removeEventListener("mousedown",this.mousedown,!1)},_bindNonQueryEventHandler:function(n,t){void 0===this.eventToCallbackMap[n]&&(this.eventToCallbackMap[n]=[]);this.eventToCallbackMap[n].push(t)},_unbindNonQueryEventHandler:function(n,t){var r=this.eventToCallbackMap[n],i;if(void 0!==r)for(i=0;i<r.length;i++)if(r[i]===t){r.splice(i,1);break}},_cleanUpEventCallbacksMap:function(){for(var i,t=Object.keys(this.eventToCallbackMap),n=0;n<t.length;n++)i=t[n],this.eventToCallbackMap[i]=null},_showTooltip:function(){this.options.tooltip_split===!1?(this._addClass(this.tooltip,"in"),this.tooltip_min.style.display="none",this.tooltip_max.style.display="none"):(this._addClass(this.tooltip_min,"in"),this._addClass(this.tooltip_max,"in"),this.tooltip.style.display="none");this.over=!0},_hideTooltip:function(){this.inDrag===!1&&this.alwaysShowTooltip!==!0&&(this._removeClass(this.tooltip,"in"),this._removeClass(this.tooltip_min,"in"),this._removeClass(this.tooltip_max,"in"));this.over=!1},_layout:function(){var n,r,t,i,s,h,u,c,l;if(n=this.options.reversed?[100-this.percentage[0],this.percentage[1]]:[this.percentage[0],this.percentage[1]],this.handle1.style[this.stylePos]=n[0]+"%",this.handle2.style[this.stylePos]=n[1]+"%",Array.isArray(this.options.ticks)&&this.options.ticks.length>0){var a=Math.max.apply(Math,this.options.ticks),e=Math.min.apply(Math,this.options.ticks),v="vertical"===this.options.orientation?"height":"width",o="vertical"===this.options.orientation?"marginTop":"marginLeft",f=this.size/(this.options.ticks.length-1);if(this.tickLabelContainer){if(r=0,0===this.options.ticks_positions.length)this.tickLabelContainer.style[o]=-f/2+"px",r=this.tickLabelContainer.offsetHeight;else for(t=0;t<this.tickLabelContainer.childNodes.length;t++)this.tickLabelContainer.childNodes[t].offsetHeight>r&&(r=this.tickLabelContainer.childNodes[t].offsetHeight);"horizontal"===this.options.orientation&&(this.sliderElem.style.marginBottom=r+"px")}for(t=0;t<this.options.ticks.length;t++)i=this.options.ticks_positions[t]||100*(this.options.ticks[t]-e)/(a-e),this.ticks[t].style[this.stylePos]=i+"%",this._removeClass(this.ticks[t],"in-selection"),this.options.range?i>=n[0]&&i<=n[1]&&this._addClass(this.ticks[t],"in-selection"):"after"===this.options.selection&&i>=n[0]?this._addClass(this.ticks[t],"in-selection"):"before"===this.options.selection&&i<=n[0]&&this._addClass(this.ticks[t],"in-selection"),this.tickLabels[t]&&(this.tickLabels[t].style[v]=f+"px",void 0!==this.options.ticks_positions[t]&&(this.tickLabels[t].style.position="absolute",this.tickLabels[t].style[this.stylePos]=this.options.ticks_positions[t]+"%",this.tickLabels[t].style[o]=-f/2+"px"))}"vertical"===this.options.orientation?(this.trackLow.style.top="0",this.trackLow.style.height=Math.min(n[0],n[1])+"%",this.trackSelection.style.top=Math.min(n[0],n[1])+"%",this.trackSelection.style.height=Math.abs(n[0]-n[1])+"%",this.trackHigh.style.bottom="0",this.trackHigh.style.height=100-Math.min(n[0],n[1])-Math.abs(n[0]-n[1])+"%"):(this.trackLow.style.left="0",this.trackLow.style.width=Math.min(n[0],n[1])+"%",this.trackSelection.style.left=Math.min(n[0],n[1])+"%",this.trackSelection.style.width=Math.abs(n[0]-n[1])+"%",this.trackHigh.style.right="0",this.trackHigh.style.width=100-Math.min(n[0],n[1])-Math.abs(n[0]-n[1])+"%",s=this.tooltip_min.getBoundingClientRect(),h=this.tooltip_max.getBoundingClientRect(),s.right>h.left?(this._removeClass(this.tooltip_max,"top"),this._addClass(this.tooltip_max,"bottom"),this.tooltip_max.style.top="18px"):(this._removeClass(this.tooltip_max,"bottom"),this._addClass(this.tooltip_max,"top"),this.tooltip_max.style.top=this.tooltip_min.style.top));this.options.range?(u=this.options.formatter(this.options.value),this._setText(this.tooltipInner,u),this.tooltip.style[this.stylePos]=(n[1]+n[0])/2+"%","vertical"===this.options.orientation?this._css(this.tooltip,"margin-top",-this.tooltip.offsetHeight/2+"px"):this._css(this.tooltip,"margin-left",-this.tooltip.offsetWidth/2+"px"),"vertical"===this.options.orientation?this._css(this.tooltip,"margin-top",-this.tooltip.offsetHeight/2+"px"):this._css(this.tooltip,"margin-left",-this.tooltip.offsetWidth/2+"px"),c=this.options.formatter(this.options.value[0]),this._setText(this.tooltipInner_min,c),l=this.options.formatter(this.options.value[1]),this._setText(this.tooltipInner_max,l),this.tooltip_min.style[this.stylePos]=n[0]+"%","vertical"===this.options.orientation?this._css(this.tooltip_min,"margin-top",-this.tooltip_min.offsetHeight/2+"px"):this._css(this.tooltip_min,"margin-left",-this.tooltip_min.offsetWidth/2+"px"),this.tooltip_max.style[this.stylePos]=n[1]+"%","vertical"===this.options.orientation?this._css(this.tooltip_max,"margin-top",-this.tooltip_max.offsetHeight/2+"px"):this._css(this.tooltip_max,"margin-left",-this.tooltip_max.offsetWidth/2+"px")):(u=this.options.formatter(this.options.value[0]),this._setText(this.tooltipInner,u),this.tooltip.style[this.stylePos]=n[0]+"%","vertical"===this.options.orientation?this._css(this.tooltip,"margin-top",-this.tooltip.offsetHeight/2+"px"):this._css(this.tooltip,"margin-left",-this.tooltip.offsetWidth/2+"px"))},_removeProperty:function(n,t){n.style.removeProperty?n.style.removeProperty(t):n.style.removeAttribute(t)},_mousedown:function(n){var t,r,u,i;return this.options.enabled?(this.offset=this._offset(this.sliderElem),this.size=this.sliderElem[this.sizePos],t=this._getPercentage(n),this.options.range?(r=Math.abs(this.percentage[0]-t),u=Math.abs(this.percentage[1]-t),this.dragged=u>r?0:1):this.dragged=0,this.percentage[this.dragged]=this.options.reversed?100-t:t,this._layout(),this.touchCapable&&(document.removeEventListener("touchmove",this.mousemove,!1),document.removeEventListener("touchend",this.mouseup,!1)),this.mousemove&&document.removeEventListener("mousemove",this.mousemove,!1),this.mouseup&&document.removeEventListener("mouseup",this.mouseup,!1),this.mousemove=this._mousemove.bind(this),this.mouseup=this._mouseup.bind(this),this.touchCapable&&(document.addEventListener("touchmove",this.mousemove,!1),document.addEventListener("touchend",this.mouseup,!1)),document.addEventListener("mousemove",this.mousemove,!1),document.addEventListener("mouseup",this.mouseup,!1),this.inDrag=!0,i=this._calculateValue(),this._trigger("slideStart",i),this._setDataVal(i),this.setValue(i,!1,!0),this._pauseEvent(n),this.options.focus&&this._triggerFocusOnHandle(this.dragged),!0):!1},_triggerFocusOnHandle:function(n){0===n&&this.handle1.focus();1===n&&this.handle2.focus()},_keydown:function(n,t){var r,u,f,i;if(!this.options.enabled)return!1;switch(t.keyCode){case 37:case 40:r=-1;break;case 39:case 38:r=1}if(r)return this.options.natural_arrow_keys&&(u="vertical"===this.options.orientation&&!this.options.reversed,f="horizontal"===this.options.orientation&&this.options.reversed,(u||f)&&(r=-r)),i=this.options.value[n]+r*this.options.step,this.options.range&&(i=[n?this.options.value[0]:i,n?i:this.options.value[1]]),this._trigger("slideStart",i),this._setDataVal(i),this.setValue(i,!0,!0),this._trigger("slideStop",i),this._setDataVal(i),this._layout(),this._pauseEvent(t),!1},_pauseEvent:function(n){n.stopPropagation&&n.stopPropagation();n.preventDefault&&n.preventDefault();n.cancelBubble=!0;n.returnValue=!1},_mousemove:function(n){var t,i;return this.options.enabled?(t=this._getPercentage(n),this._adjustPercentageForRangeSliders(t),this.percentage[this.dragged]=this.options.reversed?100-t:t,this._layout(),i=this._calculateValue(!0),this.setValue(i,!0,!0),!1):!1},_adjustPercentageForRangeSliders:function(n){var t,i;this.options.range&&(t=this._getNumDigitsAfterDecimalPlace(n),t=t?t-1:0,i=this._applyToFixedAndParseFloat(n,t),0===this.dragged&&this._applyToFixedAndParseFloat(this.percentage[1],t)<i?(this.percentage[0]=this.percentage[1],this.dragged=1):1===this.dragged&&this._applyToFixedAndParseFloat(this.percentage[0],t)>i&&(this.percentage[1]=this.percentage[0],this.dragged=0))},_mouseup:function(){if(!this.options.enabled)return!1;this.touchCapable&&(document.removeEventListener("touchmove",this.mousemove,!1),document.removeEventListener("touchend",this.mouseup,!1));document.removeEventListener("mousemove",this.mousemove,!1);document.removeEventListener("mouseup",this.mouseup,!1);this.inDrag=!1;this.over===!1&&this._hideTooltip();var n=this._calculateValue(!0);return this._layout(),this._trigger("slideStop",n),this._setDataVal(n),!1},_calculateValue:function(n){var t,i,r,u;if(this.options.range?(t=[this.options.min,this.options.max],0!==this.percentage[0]&&(t[0]=this._toValue(this.percentage[0]),t[0]=this._applyPrecision(t[0])),100!==this.percentage[1]&&(t[1]=this._toValue(this.percentage[1]),t[1]=this._applyPrecision(t[1]))):(t=this._toValue(this.percentage[0]),t=parseFloat(t),t=this._applyPrecision(t)),n){for(i=[t,1/0],r=0;r<this.options.ticks.length;r++)u=Math.abs(this.options.ticks[r]-t),u<=i[1]&&(i=[this.options.ticks[r],u]);if(i[1]<=this.options.ticks_snap_bounds)return i[0]}return t},_applyPrecision:function(n){var t=this.options.precision||this._getNumDigitsAfterDecimalPlace(this.options.step);return this._applyToFixedAndParseFloat(n,t)},_getNumDigitsAfterDecimalPlace:function(n){var t=(""+n).match(/(?:\.(\d+))?(?:[eE]([+-]?\d+))?$/);return t?Math.max(0,(t[1]?t[1].length:0)-(t[2]?+t[2]:0)):0},_applyToFixedAndParseFloat:function(n,t){var i=n.toFixed(t);return parseFloat(i)},_getPercentage:function(n){this.touchCapable&&("touchstart"===n.type||"touchmove"===n.type)&&(n=n.touches[0]);var i=n[this.mousePos],r=this.offset[this.stylePos],u=i-r,t=u/this.size*100;return t=Math.round(t/this.percentage[2])*this.percentage[2],Math.max(0,Math.min(100,t))},_validateInputValue:function(n){if("number"==typeof n)return n;if(Array.isArray(n))return this._validateArray(n),n;throw new Error(r.formatInvalidInputErrorMsg(n));},_validateArray:function(n){for(var i,t=0;t<n.length;t++)if(i=n[t],"number"!=typeof i)throw new Error(r.formatInvalidInputErrorMsg(i));},_setDataVal:function(n){var t="value: '"+n+"'";this.element.setAttribute("data",t);this.element.setAttribute("value",n);this.element.value=n},_trigger:function(t,i){var r,u,f;if(i=i||0===i?i:void 0,r=this.eventToCallbackMap[t],r&&r.length)for(u=0;u<r.length;u++)f=r[u],f(i);n&&this._triggerJQueryEvent(t,i)},_triggerJQueryEvent:function(n,t){var i={type:n,value:t};this.$element.trigger(i);this.$sliderElem.trigger(i)},_unbindJQueryEventHandlers:function(){this.$element.off();this.$sliderElem.off()},_setText:function(n,t){"undefined"!=typeof n.innerText?n.innerText=t:"undefined"!=typeof n.textContent&&(n.textContent=t)},_removeClass:function(n,t){for(var f,e,u=t.split(" "),i=n.className,r=0;r<u.length;r++)f=u[r],e=new RegExp("(?:\\s|^)"+f+"(?:\\s|$)"),i=i.replace(e," ");n.className=i.trim()},_addClass:function(n,t){for(var u=t.split(" "),i=n.className,r=0;r<u.length;r++){var f=u[r],e=new RegExp("(?:\\s|^)"+f+"(?:\\s|$)"),o=e.test(i);o||(i+=" "+f)}n.className=i.trim()},_offsetLeft:function(n){for(var t=n.offsetLeft;(n=n.offsetParent)&&!isNaN(n.offsetLeft);)t+=n.offsetLeft;return t},_offsetTop:function(n){for(var t=n.offsetTop;(n=n.offsetParent)&&!isNaN(n.offsetTop);)t+=n.offsetTop;return t},_offset:function(n){return{left:this._offsetLeft(n),top:this._offsetTop(n)}},_css:function(t,i,r){if(n)n.style(t,i,r);else{var u=i.replace(/^-ms-/,"ms-").replace(/-([\da-z])/gi,function(n,t){return t.toUpperCase()});t.style[u]=r}},_toValue:function(n){return this.options.scale.toValue.apply(this,[n])},_toPercentage:function(n){return this.options.scale.toPercentage.apply(this,[n])}},n)&&(f=n.fn.slider?"bootstrapSlider":"slider",n.bridget(f,t))}(n),t});!function(){function i(){}function t(n,t){this.path=n;"undefined"!=typeof t&&null!==t?(this.at_2x_path=t,this.perform_check=!1):(this.at_2x_path=n.replace(/\.\w+$/,function(n){return"@2x"+n}),this.perform_check=!0)}function r(n){this.el=n;this.path=new t(this.el.getAttribute("src"),this.el.getAttribute("data-at2x"));var i=this;this.path.check_2x_variant(function(n){n&&i.swap()})}var n="undefined"==typeof exports?window:exports,u={check_mime_type:!0};n.Retina=i;i.configure=function(n){null==n&&(n={});for(var t in n)u[t]=n[t]};i.init=function(t){null==t&&(t=n);var i=t.onload||new Function;t.onload=function(){for(var t,u=document.getElementsByTagName("img"),f=[],n=0;n<u.length;n++)t=u[n],f.push(new r(t));i()}};i.isRetina=function(){return n.devicePixelRatio>1?!0:n.matchMedia&&n.matchMedia("(-webkit-min-device-pixel-ratio: 1.5),                      (min--moz-device-pixel-ratio: 1.5),                      (-o-min-device-pixel-ratio: 3/2),                      (min-resolution: 1.5dppx)").matches?!0:!1};n.RetinaImagePath=t;t.confirmed_paths=[];t.prototype.is_external=function(){return!(!this.path.match(/^https?\:/i)||this.path.match("//"+document.domain))};t.prototype.check_2x_variant=function(n){var i,r=this;return this.is_external()?n(!1):this.perform_check||"undefined"==typeof this.at_2x_path||null===this.at_2x_path?this.at_2x_path in t.confirmed_paths?n(!0):(i=new XMLHttpRequest,i.open("HEAD",this.at_2x_path),i.onreadystatechange=function(){if(4!=i.readyState)return n(!1);if(i.status>=200&&i.status<=399){if(u.check_mime_type){var f=i.getResponseHeader("Content-Type");if(null==f||!f.match(/^image/i))return n(!1)}return t.confirmed_paths.push(r.at_2x_path),n(!0)}return n(!1)},i.send(),void 0):n(!0)};n.RetinaImage=r;r.prototype.swap=function(n){function i(){t.el.complete?$(t.el).is(":visible")&&(t.el.setAttribute("width",t.el.offsetWidth),t.el.setAttribute("height",t.el.offsetHeight),t.el.setAttribute("src",n)):setTimeout(i,5)}"undefined"==typeof n&&(n=this.path.at_2x_path);var t=this;i()};i.isRetina()&&i.init(n)}(),function(){var n;n=jQuery;n.bootstrapGrowl=function(t,i){var r,f,u;switch(i=n.extend({},n.bootstrapGrowl.default_options,i),r=n("<div>"),r.attr("class","bootstrap-growl alert"),i.type&&r.addClass("alert-"+i.type),i.allow_dismiss&&r.append('<a class="close" data-dismiss="alert" href="#">&times;<\/a>'),r.append(t),i.top_offset&&(i.offset={from:"top",amount:i.top_offset}),u=i.offset.amount,n(".bootstrap-growl").each(function(){return u=Math.max(u,parseInt(n(this).css(i.offset.from))+n(this).outerHeight()+i.stackup_spacing)}),f={position:"body"===i.ele?"fixed":"absolute",margin:0,"z-index":"9999",display:"none"},f[i.offset.from]=u+"px",r.css(f),"auto"!==i.width&&r.css("width",i.width+"px"),n(i.ele).append(r),i.align){case"center":r.css({left:"50%","margin-left":"-"+r.outerWidth()/2+"px"});break;case"left":r.css("left","20px");break;default:r.css("right","20px")}return r.fadeIn(),i.delay>0&&r.delay(i.delay).fadeOut(function(){return n(this).alert("close")}),r};n.bootstrapGrowl.default_options={ele:"body",type:"info",offset:{from:"top",amount:20},align:"right",width:250,delay:4e3,allow_dismiss:!0,stackup_spacing:10}}.call(this);!function(n){function t(n,t){return n.toFixed(t.decimals)}n.fn.countTo=function(t){return t=t||{},n(this).each(function(){function c(){r+=l;h++;o(r);"function"==typeof i.onUpdate&&i.onUpdate.call(e,r);h>=s&&(f.removeData("countTo"),clearInterval(u.interval),r=i.to,"function"==typeof i.onComplete&&i.onComplete.call(e,r))}function o(n){var t=i.formatter.call(e,n,i);f.text(t)}var i=n.extend({},n.fn.countTo.defaults,{from:n(this).data("from"),to:n(this).data("to"),speed:n(this).data("speed"),refreshInterval:n(this).data("refresh-interval"),decimals:n(this).data("decimals")},t),s=Math.ceil(i.speed/i.refreshInterval),l=(i.to-i.from)/s,e=this,f=n(this),h=0,r=i.from,u=f.data("countTo")||{};f.data("countTo",u);u.interval&&clearInterval(u.interval);u.interval=setInterval(c,i.refreshInterval);o(r)})};n.fn.countTo.defaults={from:0,to:0,speed:1e3,refreshInterval:100,decimals:0,formatter:t,onUpdate:null,onComplete:null}}(jQuery);!function(n,t,i,r){function u(t,r){this.w=n(i);this.el=n(t);this.options=n.extend({},o,r);this.init()}var e="ontouchstart"in i,f=function(){var n=i.createElement("div"),r=i.documentElement,u;return("pointerEvents"in n.style)?(n.style.pointerEvents="auto",n.style.pointerEvents="x",r.appendChild(n),u=t.getComputedStyle&&"auto"===t.getComputedStyle(n,"").pointerEvents,r.removeChild(n),!!u):!1}(),o={listNodeName:"ol",itemNodeName:"li",rootClass:"dd",listClass:"dd-list",itemClass:"dd-item",dragClass:"dd-dragel",handleClass:"dd-handle",collapsedClass:"dd-collapsed",placeClass:"dd-placeholder",noDragClass:"dd-nodrag",emptyClass:"dd-empty",expandBtnHTML:'<button data-action="expand" type="button">Expand<\/button>',collapseBtnHTML:'<button data-action="collapse" type="button">Collapse<\/button>',group:0,maxDepth:5,threshold:20};u.prototype={init:function(){var i=this;i.reset();i.el.data("nestable-group",this.options.group);i.placeEl=n('<div class="'+i.options.placeClass+'"/>');n.each(this.el.find(i.options.itemNodeName),function(t,r){i.setParent(n(r))});i.el.on("click","button",function(t){if(!i.dragEl){var r=n(t.currentTarget),u=r.data("action"),f=r.parent(i.options.itemNodeName);"collapse"===u&&i.collapseItem(f);"expand"===u&&i.expandItem(f)}});var u=function(t){var r=n(t.target);if(!r.hasClass(i.options.handleClass)){if(r.closest("."+i.options.noDragClass).length)return;r=r.closest("."+i.options.handleClass)}r.length&&!i.dragEl&&(i.isTouch=/^touch/.test(t.type),i.isTouch&&1!==t.touches.length||(t.preventDefault(),i.dragStart(t.touches?t.touches[0]:t)))},f=function(n){i.dragEl&&(n.preventDefault(),i.dragMove(n.touches?n.touches[0]:n))},r=function(n){i.dragEl&&(n.preventDefault(),i.dragStop(n.touches?n.touches[0]:n))};e&&(i.el[0].addEventListener("touchstart",u,!1),t.addEventListener("touchmove",f,!1),t.addEventListener("touchend",r,!1),t.addEventListener("touchcancel",r,!1));i.el.on("mousedown",u);i.w.on("mousemove",f);i.w.on("mouseup",r)},serialize:function(){var i,t=this;return step=function(i,r){var u=[],f=i.children(t.options.itemNodeName);return f.each(function(){var i=n(this),f=n.extend({},i.data()),e=i.children(t.options.listNodeName);e.length&&(f.children=step(e,r+1));u.push(f)}),u},i=step(t.el.find(t.options.listNodeName).first(),0)},serialise:function(){return this.serialize()},reset:function(){this.mouse={offsetX:0,offsetY:0,startX:0,startY:0,lastX:0,lastY:0,nowX:0,nowY:0,distX:0,distY:0,dirAx:0,dirX:0,dirY:0,lastDirX:0,lastDirY:0,distAxX:0,distAxY:0};this.isTouch=!1;this.moving=!1;this.dragEl=null;this.dragRootEl=null;this.dragDepth=0;this.hasNewRoot=!1;this.pointEl=null},expandItem:function(n){n.removeClass(this.options.collapsedClass);n.children('[data-action="expand"]').hide();n.children('[data-action="collapse"]').show();n.children(this.options.listNodeName).show()},collapseItem:function(n){var t=n.children(this.options.listNodeName);t.length&&(n.addClass(this.options.collapsedClass),n.children('[data-action="collapse"]').hide(),n.children('[data-action="expand"]').show(),n.children(this.options.listNodeName).hide())},expandAll:function(){var t=this;t.el.find(t.options.itemNodeName).each(function(){t.expandItem(n(this))})},collapseAll:function(){var t=this;t.el.find(t.options.itemNodeName).each(function(){t.collapseItem(n(this))})},setParent:function(t){t.children(this.options.listNodeName).length&&(t.prepend(n(this.options.expandBtnHTML)),t.prepend(n(this.options.collapseBtnHTML)));t.children('[data-action="expand"]').hide()},unsetParent:function(n){n.removeClass(this.options.collapsedClass);n.children("[data-action]").remove();n.children(this.options.listNodeName).remove()},dragStart:function(t){var u=this.mouse,o=n(t.target),f=o.closest(this.options.itemNodeName),e,s,h;for(this.placeEl.css("height",f.height()),u.offsetX=t.offsetX!==r?t.offsetX:t.pageX-o.offset().left,u.offsetY=t.offsetY!==r?t.offsetY:t.pageY-o.offset().top,u.startX=u.lastX=t.pageX,u.startY=u.lastY=t.pageY,this.dragRootEl=this.el,this.dragEl=n(i.createElement(this.options.listNodeName)).addClass(this.options.listClass+" "+this.options.dragClass),this.dragEl.css("width",f.width()),f.after(this.placeEl),f[0].parentNode.removeChild(f[0]),f.appendTo(this.dragEl),n(i.body).append(this.dragEl),this.dragEl.css({left:t.pageX-u.offsetX,top:t.pageY-u.offsetY}),h=this.dragEl.find(this.options.itemNodeName),e=0;e<h.length;e++)s=n(h[e]).parents(this.options.listNodeName).length,s>this.dragDepth&&(this.dragDepth=s)},dragStop:function(){var n=this.dragEl.children(this.options.itemNodeName).first();n[0].parentNode.removeChild(n[0]);this.placeEl.replaceWith(n);this.dragEl.remove();this.el.trigger("change");this.hasNewRoot&&this.dragRootEl.trigger("change");this.reset()},dragMove:function(r){var o,h,s,p,c,e=this.options,u=this.mouse,l,a,v,y,w;if(this.dragEl.css({left:r.pageX-u.offsetX,top:r.pageY-u.offsetY}),u.lastX=u.nowX,u.lastY=u.nowY,u.nowX=r.pageX,u.nowY=r.pageY,u.distX=u.nowX-u.lastX,u.distY=u.nowY-u.lastY,u.lastDirX=u.dirX,u.lastDirY=u.dirY,u.dirX=0===u.distX?0:u.distX>0?1:-1,u.dirY=0===u.distY?0:u.distY>0?1:-1,l=Math.abs(u.distX)>Math.abs(u.distY)?1:0,!u.moving)return u.dirAx=l,void(u.moving=!0);if(u.dirAx!==l?(u.distAxX=0,u.distAxY=0):(u.distAxX+=Math.abs(u.distX),0!==u.dirX&&u.dirX!==u.lastDirX&&(u.distAxX=0),u.distAxY+=Math.abs(u.distY),0!==u.dirY&&u.dirY!==u.lastDirY&&(u.distAxY=0)),u.dirAx=l,u.dirAx&&u.distAxX>=e.threshold&&(u.distAxX=0,s=this.placeEl.prev(e.itemNodeName),u.distX>0&&s.length&&!s.hasClass(e.collapsedClass)&&(o=s.find(e.listNodeName).last(),c=this.placeEl.parents(e.listNodeName).length,c+this.dragDepth<=e.maxDepth&&(o.length?(o=s.children(e.listNodeName).last(),o.append(this.placeEl)):(o=n("<"+e.listNodeName+"/>").addClass(e.listClass),o.append(this.placeEl),s.append(o),this.setParent(s)))),u.distX<0&&(p=this.placeEl.next(e.itemNodeName),p.length||(h=this.placeEl.parent(),this.placeEl.closest(e.itemNodeName).after(this.placeEl),h.children().length||this.unsetParent(h.parent())))),a=!1,f||(this.dragEl[0].style.visibility="hidden"),this.pointEl=n(i.elementFromPoint(r.pageX-i.body.scrollLeft,r.pageY-(t.pageYOffset||i.documentElement.scrollTop))),f||(this.dragEl[0].style.visibility="visible"),this.pointEl.hasClass(e.handleClass)&&(this.pointEl=this.pointEl.parent(e.itemNodeName)),this.pointEl.hasClass(e.emptyClass))a=!0;else if(!this.pointEl.length||!this.pointEl.hasClass(e.itemClass))return;if(v=this.pointEl.closest("."+e.rootClass),y=this.dragRootEl.data("nestable-id")!==v.data("nestable-id"),!u.dirAx||y||a){if(y&&e.group!==v.data("nestable-group"))return;if(c=this.dragDepth-1+this.pointEl.parents(e.listNodeName).length,c>e.maxDepth)return;w=r.pageY<this.pointEl.offset().top+this.pointEl.height()/2;h=this.placeEl.parent();a?(o=n(i.createElement(e.listNodeName)).addClass(e.listClass),o.append(this.placeEl),this.pointEl.replaceWith(o)):w?this.pointEl.before(this.placeEl):this.pointEl.after(this.placeEl);h.children().length||this.unsetParent(h.parent());this.dragRootEl.find(e.itemNodeName).length||this.dragRootEl.append('<div class="'+e.emptyClass+'"/>');y&&(this.dragRootEl=v,this.hasNewRoot=this.el[0]!==this.dragRootEl[0])}}};n.fn.nestable=function(t){var i=this,r=this;return i.each(function(){var i=n(this).data("nestable");i?"string"==typeof t&&"function"==typeof i[t]&&(r=i[t]()):(n(this).data("nestable",new u(this,t)),n(this).data("nestable-id",(new Date).getTime()))}),r||i}}(window.jQuery||window.Zepto,window,document);!function(n){"function"==typeof define&&define.amd?define(["jquery"],n):n("object"==typeof exports?require("jquery"):jQuery)}(function(n){var t=function(){var t;return n&&n.fn&&n.fn.select2&&n.fn.select2.amd&&(t=n.fn.select2.amd),function(){if(!t||!t.requirejs){t?i=t:t={};var n,i,r;!function(t){function e(n,t){return nt.call(n,t)}function c(n,t){var e,s,o,u,h,y,c,w,i,l,p,r=t&&t.split("/"),a=f.map,v=a&&a["*"]||{};if(n&&"."===n.charAt(0))if(t){for(r=r.slice(0,r.length-1),n=n.split("/"),h=n.length-1,f.nodeIdCompat&&b.test(n[h])&&(n[h]=n[h].replace(b,"")),n=r.concat(n),i=0;i<n.length;i+=1)if(p=n[i],"."===p)n.splice(i,1),i-=1;else if(".."===p){if(1===i&&(".."===n[2]||".."===n[0]))break;i>0&&(n.splice(i-1,2),i-=2)}n=n.join("/")}else 0===n.indexOf("./")&&(n=n.substring(2));if((r||v)&&a){for(e=n.split("/"),i=e.length;i>0;i-=1){if(s=e.slice(0,i).join("/"),r)for(l=r.length;l>0;l-=1)if(o=a[r.slice(0,l).join("/")],o&&(o=o[s])){u=o;y=i;break}if(u)break;!c&&v&&v[s]&&(c=v[s],w=i)}!u&&c&&(u=c,y=w);u&&(e.splice(0,y,u),n=e.join("/"))}return n}function p(n,i){return function(){return o.apply(t,tt.call(arguments,0).concat([n,i]))}}function k(n){return function(t){return c(t,n)}}function d(n){return function(t){u[n]=t}}function l(n){if(e(h,n)){var i=h[n];delete h[n];y[n]=!0;a.apply(t,i)}if(!e(u,n)&&!e(y,n))throw new Error("No "+n);return u[n]}function w(n){var i,t=n?n.indexOf("!"):-1;return t>-1&&(i=n.substring(0,t),n=n.substring(t+1,n.length)),[i,n]}function g(n){return function(){return f&&f.config&&f.config[n]||{}}}var a,o,v,s,u={},h={},f={},y={},nt=Object.prototype.hasOwnProperty,tt=[].slice,b=/\.js$/;v=function(n,t){var r,u=w(n),i=u[0];return n=u[1],i&&(i=c(i,t),r=l(i)),i?n=r&&r.normalize?r.normalize(n,k(t)):c(n,t):(n=c(n,t),u=w(n),i=u[0],n=u[1],i&&(r=l(i))),{f:i?i+"!"+n:n,n:n,pr:i,p:r}};s={require:function(n){return p(n)},exports:function(n){var t=u[n];return"undefined"!=typeof t?t:u[n]={}},module:function(n){return{id:n,uri:"",exports:u[n],config:g(n)}}};a=function(n,i,r,f){var w,o,k,b,c,g,a=[],nt=typeof r;if(f=f||n,"undefined"===nt||"function"===nt){for(i=!i.length&&r.length?["require","exports","module"]:i,c=0;c<i.length;c+=1)if(b=v(i[c],f),o=b.f,"require"===o)a[c]=s.require(n);else if("exports"===o)a[c]=s.exports(n),g=!0;else if("module"===o)w=a[c]=s.module(n);else if(e(u,o)||e(h,o)||e(y,o))a[c]=l(o);else{if(!b.p)throw new Error(n+" missing "+o);b.p.load(b.n,p(f,!0),d(o),{});a[c]=u[o]}k=r?r.apply(u[n],a):void 0;n&&(w&&w.exports!==t&&w.exports!==u[n]?u[n]=w.exports:k===t&&g||(u[n]=k))}else n&&(u[n]=r)};n=i=o=function(n,i,r,u,e){if("string"==typeof n)return s[n]?s[n](i):l(v(n,i).f);if(!n.splice){if(f=n,f.deps&&o(f.deps,f.callback),!i)return;i.splice?(n=i,i=r,r=null):n=t}return i=i||function(){},"function"==typeof r&&(r=u,u=e),u?a(t,n,i,r):setTimeout(function(){a(t,n,i,r)},4),o};o.config=function(n){return o(n)};n._defined=u;r=function(n,t,i){t.splice||(i=t,t=[]);e(u,n)||e(h,n)||(h[n]=[n,t,i])};r.amd={jQuery:!0}}();t.requirejs=n;t.require=i;t.define=r}}(),t.define("almond",function(){}),t.define("jquery",[],function(){var t=n||$;return null==t&&console&&console.error&&console.error("Select2: An instance of jQuery or a jQuery-compatible library was not found. Make sure that you are including jQuery before Select2 on your web page."),t}),t.define("select2/utils",["jquery"],function(n){function r(n){var i=n.prototype,r=[],t,u;for(t in i)u=i[t],"function"==typeof u&&"constructor"!==t&&r.push(t);return r}var t={},i;return t.Extend=function(n,t){function r(){this.constructor=n}var u={}.hasOwnProperty,i;for(i in t)u.call(t,i)&&(n[i]=t[i]);return r.prototype=t.prototype,n.prototype=new r,n.__super__=t.prototype,n},t.Decorate=function(n,t){function i(){var r=Array.prototype.unshift,u=t.prototype.constructor.length,i=n.prototype.constructor;u>0&&(r.call(arguments,n.prototype.constructor),i=t.prototype.constructor);i.apply(this,arguments)}function l(){this.constructor=i}var s=r(t),h=r(n),u,e,c,f,o;for(t.displayName=n.displayName,i.prototype=new l,u=0;u<h.length;u++)e=h[u],i.prototype[e]=n.prototype[e];for(c=function(n){var r=function(){},u;return n in i.prototype&&(r=i.prototype[n]),u=t.prototype[n],function(){var n=Array.prototype.unshift;return n.call(arguments,r),u.apply(this,arguments)}},f=0;f<s.length;f++)o=s[f],i.prototype[o]=c(o);return i},i=function(){this.listeners={}},i.prototype.on=function(n,t){this.listeners=this.listeners||{};n in this.listeners?this.listeners[n].push(t):this.listeners[n]=[t]},i.prototype.trigger=function(n){var t=Array.prototype.slice;this.listeners=this.listeners||{};n in this.listeners&&this.invoke(this.listeners[n],t.call(arguments,1));"*"in this.listeners&&this.invoke(this.listeners["*"],arguments)},i.prototype.invoke=function(n,t){for(var i=0,r=n.length;r>i;i++)n[i].apply(this,t)},t.Observable=i,t.generateChars=function(n){for(var r,t="",i=0;n>i;i++)r=Math.floor(36*Math.random()),t+=r.toString(36);return t},t.bind=function(n,t){return function(){n.apply(t,arguments)}},t._convertData=function(n){var f,r,i,u,t;for(f in n)if(r=f.split("-"),i=n,1!==r.length){for(u=0;u<r.length;u++)t=r[u],t=t.substring(0,1).toLowerCase()+t.substring(1),t in i||(i[t]={}),u==r.length-1&&(i[t]=n[f]),i=i[t];delete n[f]}return n},t.hasScroll=function(t,i){var u=n(i),f=i.style.overflowX,r=i.style.overflowY;return f!==r||"hidden"!==r&&"visible"!==r?"scroll"===f||"scroll"===r?!0:u.innerHeight()<i.scrollHeight||u.innerWidth()<i.scrollWidth:!1},t.escapeMarkup=function(n){var t={"\\":"&#92;","&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;","/":"&#47;"};return"string"!=typeof n?n:String(n).replace(/[&<>"'\/\\]/g,function(n){return t[n]})},t.appendMany=function(t,i){if("1.7"===n.fn.jquery.substr(0,3)){var r=n();n.map(i,function(n){r=r.add(n)});i=r}t.append(i)},t}),t.define("select2/results",["jquery","./utils"],function(n,t){function i(n,t,r){this.$element=n;this.data=r;this.options=t;i.__super__.constructor.call(this)}return t.Extend(i,t.Observable),i.prototype.render=function(){var t=n('<ul class="select2-results__options" role="tree"><\/ul>');return this.options.get("multiple")&&t.attr("aria-multiselectable","true"),this.$results=t,t},i.prototype.clear=function(){this.$results.empty()},i.prototype.displayMessage=function(t){var u=this.options.get("escapeMarkup"),i,r;this.clear();this.hideLoading();i=n('<li role="treeitem" class="select2-results__option"><\/li>');r=this.options.get("translations").get(t.message);i.append(u(r(t.args)));this.$results.append(i)},i.prototype.append=function(n){var i,t,r,u;if(this.hideLoading(),i=[],null==n.results||0===n.results.length)return void(0===this.$results.children().length&&this.trigger("results:message",{message:"noResults"}));for(n.results=this.sort(n.results),t=0;t<n.results.length;t++)r=n.results[t],u=this.option(r),i.push(u);this.$results.append(i)},i.prototype.position=function(n,t){var i=t.find(".select2-results");i.append(n)},i.prototype.sort=function(n){var t=this.options.get("sorter");return t(n)},i.prototype.setClasses=function(){var t=this;this.data.current(function(i){var f=n.map(i,function(n){return n.id.toString()}),r=t.$results.find(".select2-results__option[aria-selected]"),u;r.each(function(){var i=n(this),t=n.data(this,"data"),r=""+t.id;null!=t.element&&t.element.selected||null==t.element&&n.inArray(r,f)>-1?i.attr("aria-selected","true"):i.attr("aria-selected","false")});u=r.filter("[aria-selected=true]");u.length>0?u.first().trigger("mouseenter"):r.first().trigger("mouseenter")})},i.prototype.showLoading=function(n){this.hideLoading();var i=this.options.get("translations").get("searching"),r={disabled:!0,loading:!0,text:i(n)},t=this.option(r);t.className+=" loading-results";this.$results.prepend(t)},i.prototype.hideLoading=function(){this.$results.find(".loading-results").remove()},i.prototype.option=function(t){var r=document.createElement("li"),i,e,c,o,u,s,f,l,a,h;r.className="select2-results__option";i={role:"treeitem","aria-selected":"false"};t.disabled&&(delete i["aria-selected"],i["aria-disabled"]="true");null==t.id&&delete i["aria-selected"];null!=t._resultId&&(r.id=t._resultId);t.title&&(r.title=t.title);t.children&&(i.role="group",i["aria-label"]=t.text,delete i["aria-selected"]);for(e in i)c=i[e],r.setAttribute(e,c);if(t.children){for(o=n(r),u=document.createElement("strong"),u.className="select2-results__group",n(u),this.template(t,u),s=[],f=0;f<t.children.length;f++)l=t.children[f],a=this.option(l),s.push(a);h=n("<ul><\/ul>",{"class":"select2-results__options select2-results__options--nested"});h.append(s);o.append(u);o.append(h)}else this.template(t,r);return n.data(r,"data",t),r},i.prototype.bind=function(t){var i=this,r=t.id+"-results";this.$results.attr("id",r);t.on("results:all",function(n){i.clear();i.append(n.data);t.isOpen()&&i.setClasses()});t.on("results:append",function(n){i.append(n.data);t.isOpen()&&i.setClasses()});t.on("query",function(n){i.showLoading(n)});t.on("select",function(){t.isOpen()&&i.setClasses()});t.on("unselect",function(){t.isOpen()&&i.setClasses()});t.on("open",function(){i.$results.attr("aria-expanded","true");i.$results.attr("aria-hidden","false");i.setClasses();i.ensureHighlightVisible()});t.on("close",function(){i.$results.attr("aria-expanded","false");i.$results.attr("aria-hidden","true");i.$results.removeAttr("aria-activedescendant")});t.on("results:toggle",function(){var n=i.getHighlightedResults();0!==n.length&&n.trigger("mouseup")});t.on("results:select",function(){var n=i.getHighlightedResults(),t;0!==n.length&&(t=n.data("data"),"true"==n.attr("aria-selected")?i.trigger("close"):i.trigger("select",{data:t}))});t.on("results:previous",function(){var r=i.getHighlightedResults(),u=i.$results.find("[aria-selected]"),f=u.index(r),n,t;if(0!==f){n=f-1;0===r.length&&(n=0);t=u.eq(n);t.trigger("mouseenter");var e=i.$results.offset().top,o=t.offset().top,s=i.$results.scrollTop()+(o-e);0===n?i.$results.scrollTop(0):0>o-e&&i.$results.scrollTop(s)}});t.on("results:next",function(){var e=i.getHighlightedResults(),t=i.$results.find("[aria-selected]"),o=t.index(e),r=o+1,n;if(!(r>=t.length)){n=t.eq(r);n.trigger("mouseenter");var u=i.$results.offset().top+i.$results.outerHeight(!1),f=n.offset().top+n.outerHeight(!1),s=i.$results.scrollTop()+f-u;0===r?i.$results.scrollTop(0):f>u&&i.$results.scrollTop(s)}});t.on("results:focus",function(n){n.element.addClass("select2-results__option--highlighted")});t.on("results:message",function(n){i.displayMessage(n)});n.fn.mousewheel&&this.$results.on("mousewheel",function(n){var t=i.$results.scrollTop(),r=i.$results.get(0).scrollHeight-i.$results.scrollTop()+n.deltaY,u=n.deltaY>0&&t-n.deltaY<=0,f=n.deltaY<0&&r<=i.$results.height();u?(i.$results.scrollTop(0),n.preventDefault(),n.stopPropagation()):f&&(i.$results.scrollTop(i.$results.get(0).scrollHeight-i.$results.height()),n.preventDefault(),n.stopPropagation())});this.$results.on("mouseup",".select2-results__option[aria-selected]",function(t){var r=n(this),u=r.data("data");return"true"===r.attr("aria-selected")?void(i.options.get("multiple")?i.trigger("unselect",{originalEvent:t,data:u}):i.trigger("close")):void i.trigger("select",{originalEvent:t,data:u})});this.$results.on("mouseenter",".select2-results__option[aria-selected]",function(){var t=n(this).data("data");i.getHighlightedResults().removeClass("select2-results__option--highlighted");i.trigger("results:focus",{data:t,element:n(this)})})},i.prototype.getHighlightedResults=function(){return this.$results.find(".select2-results__option--highlighted")},i.prototype.destroy=function(){this.$results.remove()},i.prototype.ensureHighlightVisible=function(){var n=this.getHighlightedResults();if(0!==n.length){var f=this.$results.find("[aria-selected]"),e=f.index(n),t=this.$results.offset().top,i=n.offset().top,r=this.$results.scrollTop()+(i-t),u=i-t;r-=2*n.outerHeight(!1);2>=e?this.$results.scrollTop(0):(u>this.$results.outerHeight()||0>u)&&this.$results.scrollTop(r)}},i.prototype.template=function(t,i){var u=this.options.get("templateResult"),f=this.options.get("escapeMarkup"),r=u(t);null==r?i.style.display="none":"string"==typeof r?i.innerHTML=f(r):n(i).append(r)},i}),t.define("select2/keys",[],function(){return{BACKSPACE:8,TAB:9,ENTER:13,SHIFT:16,CTRL:17,ALT:18,ESC:27,SPACE:32,PAGE_UP:33,PAGE_DOWN:34,END:35,HOME:36,LEFT:37,UP:38,RIGHT:39,DOWN:40,DELETE:46}}),t.define("select2/selection/base",["jquery","../utils","../keys"],function(n,t,i){function r(n,t){this.$element=n;this.options=t;r.__super__.constructor.call(this)}return t.Extend(r,t.Observable),r.prototype.render=function(){var t=n('<span class="select2-selection" role="combobox" aria-autocomplete="list" aria-haspopup="true" aria-expanded="false"><\/span>');return this._tabindex=0,null!=this.$element.data("old-tabindex")?this._tabindex=this.$element.data("old-tabindex"):null!=this.$element.attr("tabindex")&&(this._tabindex=this.$element.attr("tabindex")),t.attr("title",this.$element.attr("title")),t.attr("tabindex",this._tabindex),this.$selection=t,t},r.prototype.bind=function(n){var t=this,r=(n.id+"-container",n.id+"-results");this.container=n;this.$selection.on("focus",function(n){t.trigger("focus",n)});this.$selection.on("blur",function(n){t._handleBlur(n)});this.$selection.on("keydown",function(n){t.trigger("keypress",n);n.which===i.SPACE&&n.preventDefault()});n.on("results:focus",function(n){t.$selection.attr("aria-activedescendant",n.data._resultId)});n.on("selection:update",function(n){t.update(n.data)});n.on("open",function(){t.$selection.attr("aria-expanded","true");t.$selection.attr("aria-owns",r);t._attachCloseHandler(n)});n.on("close",function(){t.$selection.attr("aria-expanded","false");t.$selection.removeAttr("aria-activedescendant");t.$selection.removeAttr("aria-owns");t.$selection.focus();t._detachCloseHandler(n)});n.on("enable",function(){t.$selection.attr("tabindex",t._tabindex)});n.on("disable",function(){t.$selection.attr("tabindex","-1")})},r.prototype._handleBlur=function(t){var i=this;window.setTimeout(function(){document.activeElement==i.$selection[0]||n.contains(i.$selection[0],document.activeElement)||i.trigger("blur",t)},1)},r.prototype._attachCloseHandler=function(t){n(document.body).on("mousedown.select2."+t.id,function(t){var i=n(t.target),r=i.closest(".select2"),u=n(".select2.select2-container--open");u.each(function(){var i=n(this),t;this!=r[0]&&(t=i.data("element"),t.select2("close"))})})},r.prototype._detachCloseHandler=function(t){n(document.body).off("mousedown.select2."+t.id)},r.prototype.position=function(n,t){var i=t.find(".selection");i.append(n)},r.prototype.destroy=function(){this._detachCloseHandler(this.container)},r.prototype.update=function(){throw new Error("The `update` method must be defined in child classes.");},r}),t.define("select2/selection/single",["jquery","./base","../utils","../keys"],function(n,t,i){function r(){r.__super__.constructor.apply(this,arguments)}return i.Extend(r,t),r.prototype.render=function(){var n=r.__super__.render.call(this);return n.addClass("select2-selection--single"),n.html('<span class="select2-selection__rendered"><\/span><span class="select2-selection__arrow" role="presentation"><b role="presentation"><\/b><\/span>'),n},r.prototype.bind=function(n){var i=this,t;r.__super__.bind.apply(this,arguments);t=n.id+"-container";this.$selection.find(".select2-selection__rendered").attr("id",t);this.$selection.attr("aria-labelledby",t);this.$selection.on("mousedown",function(n){1===n.which&&i.trigger("toggle",{originalEvent:n})});this.$selection.on("focus",function(){});this.$selection.on("blur",function(){});n.on("selection:update",function(n){i.update(n.data)})},r.prototype.clear=function(){this.$selection.find(".select2-selection__rendered").empty()},r.prototype.display=function(n,t){var i=this.options.get("templateSelection"),r=this.options.get("escapeMarkup");return r(i(n,t))},r.prototype.selectionContainer=function(){return n("<span><\/span>")},r.prototype.update=function(n){if(0===n.length)return void this.clear();var t=n[0],i=this.$selection.find(".select2-selection__rendered"),r=this.display(t,i);i.empty().append(r);i.prop("title",t.title||t.text)},r}),t.define("select2/selection/multiple",["jquery","./base","../utils"],function(n,t,i){function r(){r.__super__.constructor.apply(this,arguments)}return i.Extend(r,t),r.prototype.render=function(){var n=r.__super__.render.call(this);return n.addClass("select2-selection--multiple"),n.html('<ul class="select2-selection__rendered"><\/ul>'),n},r.prototype.bind=function(){var t=this;r.__super__.bind.apply(this,arguments);this.$selection.on("click",function(n){t.trigger("toggle",{originalEvent:n})});this.$selection.on("click",".select2-selection__choice__remove",function(i){var r=n(this),u=r.parent(),f=u.data("data");t.trigger("unselect",{originalEvent:i,data:f})})},r.prototype.clear=function(){this.$selection.find(".select2-selection__rendered").empty()},r.prototype.display=function(n,t){var i=this.options.get("templateSelection"),r=this.options.get("escapeMarkup");return r(i(n,t))},r.prototype.selectionContainer=function(){return n('<li class="select2-selection__choice"><span class="select2-selection__choice__remove" role="presentation">&times;<\/span><\/li>')},r.prototype.update=function(n){var f,r,e;if(this.clear(),0!==n.length){for(f=[],r=0;r<n.length;r++){var u=n[r],t=this.selectionContainer(),o=this.display(u,t);t.append(o);t.prop("title",u.title||u.text);t.data("data",u);f.push(t)}e=this.$selection.find(".select2-selection__rendered");i.appendMany(e,f)}},r}),t.define("select2/selection/placeholder",["../utils"],function(){function n(n,t,i){this.placeholder=this.normalizePlaceholder(i.get("placeholder"));n.call(this,t,i)}return n.prototype.normalizePlaceholder=function(n,t){return"string"==typeof t&&(t={id:"",text:t}),t},n.prototype.createPlaceholder=function(n,t){var i=this.selectionContainer();return i.html(this.display(t)),i.addClass("select2-selection__placeholder").removeClass("select2-selection__choice"),i},n.prototype.update=function(n,t){var r=1==t.length&&t[0].id!=this.placeholder.id,u=t.length>1,i;if(u||r)return n.call(this,t);this.clear();i=this.createPlaceholder(this.placeholder);this.$selection.find(".select2-selection__rendered").append(i)},n}),t.define("select2/selection/allowClear",["jquery","../keys"],function(n,t){function i(){}return i.prototype.bind=function(n,t,i){var r=this;n.call(this,t,i);null==this.placeholder&&this.options.get("debug")&&window.console&&console.error&&console.error("Select2: The `allowClear` option should be used in combination with the `placeholder` option.");this.$selection.on("mousedown",".select2-selection__clear",function(n){r._handleClear(n)});t.on("keypress",function(n){r._handleKeyboardClear(n,t)})},i.prototype._handleClear=function(n,t){var r,u,i,f;if(!this.options.get("disabled")&&(r=this.$selection.find(".select2-selection__clear"),0!==r.length)){for(t.stopPropagation(),u=r.data("data"),i=0;i<u.length;i++)if(f={data:u[i]},this.trigger("unselect",f),f.prevented)return;this.$element.val(this.placeholder.id).trigger("change");this.trigger("toggle")}},i.prototype._handleKeyboardClear=function(n,i,r){r.isOpen()||(i.which==t.DELETE||i.which==t.BACKSPACE)&&this._handleClear(i)},i.prototype.update=function(t,i){if(t.call(this,i),!(this.$selection.find(".select2-selection__placeholder").length>0||0===i.length)){var r=n('<span class="select2-selection__clear">&times;<\/span>');r.data("data",i);this.$selection.find(".select2-selection__rendered").prepend(r)}},i}),t.define("select2/selection/search",["jquery","../utils","../keys"],function(n,t,i){function r(n,t,i){n.call(this,t,i)}return r.prototype.render=function(t){var i=n('<li class="select2-search select2-search--inline"><input class="select2-search__field" type="search" tabindex="-1" autocomplete="off" autocorrect="off" autocapitalize="off" spellcheck="false" role="textbox" /><\/li>'),r;return this.$searchContainer=i,this.$search=i.find("input"),r=t.call(this),this._transferTabIndex(),r},r.prototype.bind=function(n,t,r){var u=this;n.call(this,t,r);t.on("open",function(){u.$search.trigger("focus")});t.on("close",function(){u.$search.val("");u.$search.trigger("focus")});t.on("enable",function(){u.$search.prop("disabled",!1);u._transferTabIndex()});t.on("disable",function(){u.$search.prop("disabled",!0)});t.on("focus",function(){u.$search.trigger("focus")});this.$selection.on("focusin",".select2-search--inline",function(n){u.trigger("focus",n)});this.$selection.on("focusout",".select2-search--inline",function(n){u._handleBlur(n)});this.$selection.on("keydown",".select2-search--inline",function(n){var r,t,f;n.stopPropagation();u.trigger("keypress",n);u._keyUpPrevented=n.isDefaultPrevented();r=n.which;r===i.BACKSPACE&&""===u.$search.val()&&(t=u.$searchContainer.prev(".select2-selection__choice"),t.length>0&&(f=t.data("data"),u.searchRemoveChoice(f),n.preventDefault()))});this.$selection.on("input",".select2-search--inline",function(){u.$selection.off("keyup.search")});this.$selection.on("keyup.search input",".select2-search--inline",function(n){var t=n.which;t!=i.SHIFT&&t!=i.CTRL&&t!=i.ALT&&t!=i.TAB&&u.handleSearch(n)})},r.prototype._transferTabIndex=function(){this.$search.attr("tabindex",this.$selection.attr("tabindex"));this.$selection.attr("tabindex","-1")},r.prototype.createPlaceholder=function(n,t){this.$search.attr("placeholder",t.text)},r.prototype.update=function(n,t){var i=this.$search[0]==document.activeElement;this.$search.attr("placeholder","");n.call(this,t);this.$selection.find(".select2-selection__rendered").append(this.$searchContainer);this.resizeSearch();i&&this.$search.focus()},r.prototype.handleSearch=function(){if(this.resizeSearch(),!this._keyUpPrevented){var n=this.$search.val();this.trigger("query",{term:n})}this._keyUpPrevented=!1},r.prototype.searchRemoveChoice=function(n,t){this.trigger("unselect",{data:t});this.trigger("open");this.$search.val(t.text+" ")},r.prototype.resizeSearch=function(){var n,t;this.$search.css("width","25px");n="";""!==this.$search.attr("placeholder")?n=this.$selection.find(".select2-selection__rendered").innerWidth():(t=this.$search.val().length+1,n=.75*t+"em");this.$search.css("width",n)},r}),t.define("select2/selection/eventRelay",["jquery"],function(n){function t(){}return t.prototype.bind=function(t,i,r){var u=this,f=["open","opening","close","closing","select","selecting","unselect","unselecting"],e=["opening","closing","selecting","unselecting"];t.call(this,i,r);i.on("*",function(t,i){if(-1!==n.inArray(t,f)){i=i||{};var r=n.Event("select2:"+t,{params:i});u.$element.trigger(r);-1!==n.inArray(t,e)&&(i.prevented=r.isDefaultPrevented())}})},t}),t.define("select2/translation",["jquery","require"],function(n,t){function i(n){this.dict=n||{}}return i.prototype.all=function(){return this.dict},i.prototype.get=function(n){return this.dict[n]},i.prototype.extend=function(t){this.dict=n.extend({},t.all(),this.dict)},i._cache={},i.loadPath=function(n){if(!(n in i._cache)){var r=t(n);i._cache[n]=r}return new i(i._cache[n])},i}),t.define("select2/diacritics",[],function(){return{"":"A","":"A","":"A","":"A","":"A","":"A","":"A","":"A","":"A","":"A","":"A","":"A","":"A","":"A","":"A","":"A","":"A","":"A","":"A","":"A","":"A","":"A","":"A","":"A","":"A","":"A","":"A","":"A","":"A","":"A","":"A","":"A","":"A","":"AA","":"AE","":"AE","":"AE","":"AO","":"AU","":"AV","":"AV","":"AY","":"B","":"B","":"B","":"B","":"B","":"B","":"B","":"B","":"C","":"C","":"C","":"C","":"C","":"C","":"C","":"C","":"C","":"C","":"C","":"D","":"D","":"D","":"D","":"D","":"D","":"D","":"D","":"D","":"D","":"D","":"D","":"D","":"DZ","":"DZ","":"Dz","":"Dz","":"E","":"E","":"E","":"E","":"E","":"E","":"E","":"E","":"E","":"E","":"E","":"E","":"E","":"E","":"E","":"E","":"E","":"E","":"E","":"E","":"E","":"E","":"E","":"E","":"E","":"E","":"E","":"E","":"E","":"F","":"F","":"F","":"F","":"F","":"G","":"G","":"G","":"G","":"G","":"G","":"G","":"G","":"G","":"G","":"G","":"G","":"G","":"G","":"H","":"H","":"H","":"H","":"H","":"H","":"H","":"H","":"H","":"H","":"H","":"H","":"H","":"I","":"I","":"I","":"I","":"I","":"I","":"I","":"I","":"I","":"I","":"I","":"I","":"I","":"I","":"I","":"I","":"I","":"I","":"I","":"J","":"J","":"J","":"J","":"K","":"K","":"K","":"K","":"K","":"K","":"K","":"K","":"K","":"K","":"K","":"K","":"K","":"L","":"L","":"L","":"L","":"L","":"L","":"L","":"L","":"L","":"L","":"L","":"L","":"L","":"L","":"L","":"L","":"L","":"LJ","":"Lj","":"M","":"M","":"M","":"M","":"M","":"M","":"M","":"N","":"N","":"N","":"N","":"N","":"N","":"N","":"N","":"N","":"N","":"N","":"N","":"N","":"N","":"N","":"NJ","":"Nj","":"O","":"O","":"O","":"O","":"O","":"O","":"O","":"O","":"O","":"O","":"O","":"O","":"O","":"O","":"O","":"O","":"O","":"O","":"O","":"O","":"O","":"O","":"O","":"O","":"O","":"O","":"O","":"O","":"O","":"O","":"O","":"O","":"O","":"O","":"O","":"O","":"O","":"O","":"O","":"O","":"O","":"O","":"OI","":"OO","":"OU","":"P","":"P","":"P","":"P","":"P","":"P","":"P","":"P","":"P","":"Q","":"Q","":"Q","":"Q","":"Q","":"R","":"R","":"R","":"R","":"R","":"R","":"R","":"R","":"R","":"R","":"R","":"R","":"R","":"R","":"R","":"R","":"S","":"S","":"S","":"S","":"S","":"S","":"S","":"S","":"S","":"S","":"S","":"S","":"S","":"S","":"S","":"S","":"T","":"T","":"T","":"T","":"T","":"T","":"T","":"T","":"T","":"T","":"T","":"T","":"T","":"T","":"TZ","":"U","":"U","":"U","":"U","":"U","":"U","":"U","":"U","":"U","":"U","":"U","":"U","":"U","":"U","":"U","":"U","":"U","":"U","":"U","":"U","":"U","":"U","":"U","":"U","":"U","":"U","":"U","":"U","":"U","":"U","":"U","":"U","":"U","":"V","":"V","":"V","":"V","":"V","":"V","":"V","":"VY","":"W","":"W","":"W","":"W","":"W","":"W","":"W","":"W","":"W","":"X","":"X","":"X","":"X","":"Y","":"Y","":"Y","":"Y","":"Y","":"Y","":"Y","":"Y","":"Y","":"Y","":"Y","":"Y","":"Y","":"Y","":"Z","":"Z","":"Z","":"Z","":"Z","":"Z","":"Z","":"Z","":"Z","":"Z","":"Z","":"Z","":"Z","":"a","":"a","":"a","":"a","":"a","":"a","":"a","":"a","":"a","":"a","":"a","":"a","":"a","":"a","":"a","":"a","":"a","":"a","":"a","":"a","":"a","":"a","":"a","":"a","":"a","":"a","":"a","":"a","":"a","":"a","":"a","":"a","":"a","":"a","":"aa","":"ae","":"ae","":"ae","":"ao","":"au","":"av","":"av","":"ay","":"b","":"b","":"b","":"b","":"b","":"b","":"b","":"b","":"c","":"c","":"c","":"c","":"c","":"c","":"c","":"c","":"c","":"c","":"c","":"c","":"d","":"d","":"d","":"d","":"d","":"d","":"d","":"d","":"d","":"d","":"d","":"d","":"d","":"dz","":"dz","":"e","":"e","":"e","":"e","":"e","":"e","":"e","":"e","":"e","":"e","":"e","":"e","":"e","":"e","":"e","":"e","":"e","":"e","":"e","":"e","":"e","":"e","":"e","":"e","":"e","":"e","":"e","":"e","":"e","":"e","":"f","":"f","":"f","":"f","":"f","":"g","":"g","":"g","":"g","":"g","":"g","":"g","":"g","":"g","":"g","":"g","":"g","":"g","":"g","":"h","":"h","":"h","":"h","":"h","":"h","":"h","":"h","":"h","":"h","":"h","":"h","":"h","":"h","":"hv","":"i","":"i","":"i","":"i","":"i","":"i","":"i","":"i","":"i","":"i","":"i","":"i","":"i","":"i","":"i","":"i","":"i","":"i","":"i","":"j","":"j","":"j","":"j","":"j","":"k","":"k","":"k","":"k","":"k","":"k","":"k","":"k","":"k","":"k","":"k","":"k","":"k","":"l","":"l","":"l","":"l","":"l","":"l","":"l","":"l","":"l","":"l","":"l","":"l","":"l","":"l","":"l","":"l","":"l","":"l","":"lj","":"m","":"m","":"m","":"m","":"m","":"m","":"m","":"n","":"n","":"n","":"n","":"n","":"n","":"n","":"n","":"n","":"n","":"n","":"n","":"n","":"n","":"n","":"n","":"nj","":"o","":"o","":"o","":"o","":"o","":"o","":"o","":"o","":"o","":"o","":"o","":"o","":"o","":"o","":"o","":"o","":"o","":"o","":"o","":"o","":"o","":"o","":"o","":"o","":"o","":"o","":"o","":"o","":"o","":"o","":"o","":"o","":"o","":"o","":"o","":"o","":"o","":"o","":"o","":"o","":"o","":"o","":"oi","":"ou","":"oo","":"p","":"p","":"p","":"p","":"p","":"p","":"p","":"p","":"p","":"q","":"q","":"q","":"q","":"q","":"r","":"r","":"r","":"r","":"r","":"r","":"r","":"r","":"r","":"r","":"r","":"r","":"r","":"r","":"r","":"r","":"s","":"s","":"s","":"s","":"s","":"s","":"s","":"s","":"s","":"s","":"s","":"s","":"s","":"s","":"s","":"s","":"s","":"t","":"t","":"t","":"t","":"t","":"t","":"t","":"t","":"t","":"t","":"t","":"t","":"t","":"t","":"t","":"tz","":"u","":"u","":"u","":"u","":"u","":"u","":"u","":"u","":"u","":"u","":"u","":"u","":"u","":"u","":"u","":"u","":"u","":"u","":"u","":"u","":"u","":"u","":"u","":"u","":"u","":"u","":"u","":"u","":"u","":"u","":"u","":"u","":"u","":"v","":"v","":"v","":"v","":"v","":"v","":"v","":"vy","":"w","":"w","":"w","":"w","":"w","":"w","":"w","":"w","":"w","":"w","":"x","":"x","":"x","":"x","":"y","":"y","":"y","":"y","":"y","":"y","":"y","":"y","":"y","":"y","":"y","":"y","":"y","":"y","":"y","":"z","":"z","":"z","":"z","":"z","":"z","":"z","":"z","":"z","":"z","":"z","":"z","":"z","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":""}}),t.define("select2/data/base",["../utils"],function(n){function t(){t.__super__.constructor.call(this)}return n.Extend(t,n.Observable),t.prototype.current=function(){throw new Error("The `current` method must be defined in child classes.");},t.prototype.query=function(){throw new Error("The `query` method must be defined in child classes.");},t.prototype.bind=function(){},t.prototype.destroy=function(){},t.prototype.generateResultId=function(t,i){var r=t.id+"-result-";return r+=n.generateChars(4),r+(null!=i.id?"-"+i.id.toString():"-"+n.generateChars(4))},t}),t.define("select2/data/select",["./base","../utils","jquery"],function(n,t,i){function r(n,t){this.$element=n;this.options=t;r.__super__.constructor.call(this)}return t.Extend(r,n),r.prototype.current=function(n){var t=[],r=this;this.$element.find(":selected").each(function(){var n=i(this),u=r.item(n);t.push(u)});n(t)},r.prototype.select=function(n){var t=this,r;if(n.selected=!0,i(n.element).is("option"))return n.element.selected=!0,void this.$element.trigger("change");this.$element.prop("multiple")?this.current(function(r){var f=[],u,e;for(n=[n],n.push.apply(n,r),u=0;u<n.length;u++)e=n[u].id,-1===i.inArray(e,f)&&f.push(e);t.$element.val(f);t.$element.trigger("change")}):(r=n.id,this.$element.val(r),this.$element.trigger("change"))},r.prototype.unselect=function(n){var t=this;if(this.$element.prop("multiple"))return n.selected=!1,i(n.element).is("option")?(n.element.selected=!1,void this.$element.trigger("change")):void this.current(function(r){for(var e,u=[],f=0;f<r.length;f++)e=r[f].id,e!==n.id&&-1===i.inArray(e,u)&&u.push(e);t.$element.val(u);t.$element.trigger("change")})},r.prototype.bind=function(n){var t=this;this.container=n;n.on("select",function(n){t.select(n.data)});n.on("unselect",function(n){t.unselect(n.data)})},r.prototype.destroy=function(){this.$element.find("*").each(function(){i.removeData(this,"data")})},r.prototype.query=function(n,t){var r=[],u=this,f=this.$element.children();f.each(function(){var t=i(this),e,f;(t.is("option")||t.is("optgroup"))&&(e=u.item(t),f=u.matches(n,e),null!==f&&r.push(f))});t({results:r})},r.prototype.addOptions=function(n){t.appendMany(this.$element,n)},r.prototype.option=function(n){var t,u,r;return n.children?(t=document.createElement("optgroup"),t.label=n.text):(t=document.createElement("option"),void 0!==t.textContent?t.textContent=n.text:t.innerText=n.text),n.id&&(t.value=n.id),n.disabled&&(t.disabled=!0),n.selected&&(t.selected=!0),n.title&&(t.title=n.title),u=i(t),r=this._normalizeItem(n),r.element=t,i.data(t,"data",r),u},r.prototype.item=function(n){var t={},e,o;if(t=i.data(n[0],"data"),null!=t)return t;if(n.is("option"))t={id:n.val(),text:n.text(),disabled:n.prop("disabled"),selected:n.prop("selected"),title:n.prop("title")};else if(n.is("optgroup")){t={text:n.prop("label"),children:[],title:n.prop("title")};for(var u=n.children("option"),f=[],r=0;r<u.length;r++)e=i(u[r]),o=this.item(e),f.push(o);t.children=f}return t=this._normalizeItem(t),t.element=n[0],i.data(n[0],"data",t),t},r.prototype._normalizeItem=function(n){i.isPlainObject(n)||(n={id:n,text:n});n=i.extend({},{text:""},n);return null!=n.id&&(n.id=n.id.toString()),null!=n.text&&(n.text=n.text.toString()),null==n._resultId&&n.id&&null!=this.container&&(n._resultId=this.generateResultId(this.container,n)),i.extend({},{selected:!1,disabled:!1},n)},r.prototype.matches=function(n,t){var i=this.options.get("matcher");return i(n,t)},r}),t.define("select2/data/array",["./select","../utils","jquery"],function(n,t,i){function r(n,t){var i=t.get("data")||[];r.__super__.constructor.call(this,n,t);this.addOptions(this.convertToOptions(i))}return t.Extend(r,n),r.prototype.select=function(n){var t=this.$element.find("option").filter(function(t,i){return i.value==n.id.toString()});0===t.length&&(t=this.option(n),this.addOptions(t));r.__super__.select.call(this,n)},r.prototype.convertToOptions=function(n){function l(n){return function(){return i(this).val()==n.id}}for(var r,f,c,a=this,e=this.$element.find("option"),v=e.map(function(){return a.item(i(this)).id}).get(),o=[],u=0;u<n.length;u++)if(r=this._normalizeItem(n[u]),i.inArray(r.id,v)>=0){var s=e.filter(l(r)),h=this.item(s),y=(i.extend(!0,{},h,r),this.option(h));s.replaceWith(y)}else f=this.option(r),r.children&&(c=this.convertToOptions(r.children),t.appendMany(f,c)),o.push(f);return o},r}),t.define("select2/data/ajax",["./array","../utils","jquery"],function(n,t,i){function r(n,t){this.ajaxOptions=this._applyDefaults(t.get("ajax"));null!=this.ajaxOptions.processResults&&(this.processResults=this.ajaxOptions.processResults);r.__super__.constructor.call(this,n,t)}return t.Extend(r,n),r.prototype._applyDefaults=function(n){var t={data:function(n){return{q:n.term}},transport:function(n,t,r){var u=i.ajax(n);return u.then(t),u.fail(r),u}};return i.extend({},t,n,!0)},r.prototype.processResults=function(n){return n},r.prototype.query=function(n,t){function f(){var f=r.transport(r,function(r){var f=u.processResults(r,n);u.options.get("debug")&&window.console&&console.error&&(f&&f.results&&i.isArray(f.results)||console.error("Select2: The AJAX results did not return an array in the `results` key of the response."));t(f)},function(){});u._request=f}var u=this,r;null!=this._request&&(i.isFunction(this._request.abort)&&this._request.abort(),this._request=null);r=i.extend({type:"GET"},this.ajaxOptions);"function"==typeof r.url&&(r.url=r.url(n));"function"==typeof r.data&&(r.data=r.data(n));this.ajaxOptions.delay&&""!==n.term?(this._queryTimeout&&window.clearTimeout(this._queryTimeout),this._queryTimeout=window.setTimeout(f,this.ajaxOptions.delay)):f()},r}),t.define("select2/data/tags",["jquery"],function(n){function t(t,i,r){var f=r.get("tags"),e=r.get("createTag"),u;if(void 0!==e&&(this.createTag=e),t.call(this,i,r),n.isArray(f))for(u=0;u<f.length;u++){var o=f[u],s=this._normalizeItem(o),h=this.option(s);this.$element.append(h)}}return t.prototype.query=function(n,t,i){function u(n,f){for(var s,c,e=n.results,o=0;o<e.length;o++){var h=e[o],l=null!=h.children&&!u({results:h.children},!0),a=h.text===t.term;if(a||l)return f?!1:(n.data=e,void i(n))}if(f)return!0;s=r.createTag(t);null!=s&&(c=r.option(s),c.attr("data-select2-tag",!0),r.addOptions([c]),r.insertTag(e,s));n.results=e;i(n)}var r=this;return this._removeOldTags(),null==t.term||null!=t.page?void n.call(this,t,i):void n.call(this,t,u)},t.prototype.createTag=function(t,i){var r=n.trim(i.term);return""===r?null:{id:r,text:r}},t.prototype.insertTag=function(n,t,i){t.unshift(i)},t.prototype._removeOldTags=function(){var t=(this._lastTag,this.$element.find("option[data-select2-tag]"));t.each(function(){this.selected||n(this).remove()})},t}),t.define("select2/data/tokenizer",["jquery"],function(n){function t(n,t,i){var r=i.get("tokenizer");void 0!==r&&(this.tokenizer=r);n.call(this,t,i)}return t.prototype.bind=function(n,t,i){n.call(this,t,i);this.$search=t.dropdown.$search||t.selection.$search||i.find(".select2-search__field")},t.prototype.query=function(n,t,i){function u(n){f.select(n)}var f=this,r;t.term=t.term||"";r=this.tokenizer(t,this.options,u);r.term!==t.term&&(this.$search.length&&(this.$search.val(r.term),this.$search.focus()),t.term=r.term);n.call(this,t,i)},t.prototype.tokenizer=function(t,i,r,u){for(var o,s=r.get("tokenSeparators")||[],f=i.term,e=0,h=this.createTag||function(n){return{id:n.term,text:n.term}};e<f.length;)if(o=f[e],-1!==n.inArray(o,s)){var c=f.substr(0,e),l=n.extend({},i,{term:c}),a=h(l);u(a);f=f.substr(e+1)||"";e=0}else e++;return{term:f}},t}),t.define("select2/data/minimumInputLength",[],function(){function n(n,t,i){this.minimumInputLength=i.get("minimumInputLength");n.call(this,t,i)}return n.prototype.query=function(n,t,i){return t.term=t.term||"",t.term.length<this.minimumInputLength?void this.trigger("results:message",{message:"inputTooShort",args:{minimum:this.minimumInputLength,input:t.term,params:t}}):void n.call(this,t,i)},n}),t.define("select2/data/maximumInputLength",[],function(){function n(n,t,i){this.maximumInputLength=i.get("maximumInputLength");n.call(this,t,i)}return n.prototype.query=function(n,t,i){return t.term=t.term||"",this.maximumInputLength>0&&t.term.length>this.maximumInputLength?void this.trigger("results:message",{message:"inputTooLong",args:{maximum:this.maximumInputLength,input:t.term,params:t}}):void n.call(this,t,i)},n}),t.define("select2/data/maximumSelectionLength",[],function(){function n(n,t,i){this.maximumSelectionLength=i.get("maximumSelectionLength");n.call(this,t,i)}return n.prototype.query=function(n,t,i){var r=this;this.current(function(u){var f=null!=u?u.length:0;return r.maximumSelectionLength>0&&f>=r.maximumSelectionLength?void r.trigger("results:message",{message:"maximumSelected",args:{maximum:r.maximumSelectionLength}}):void n.call(r,t,i)})},n}),t.define("select2/dropdown",["jquery","./utils"],function(n,t){function i(n,t){this.$element=n;this.options=t;i.__super__.constructor.call(this)}return t.Extend(i,t.Observable),i.prototype.render=function(){var t=n('<span class="select2-dropdown"><span class="select2-results"><\/span><\/span>');return t.attr("dir",this.options.get("dir")),this.$dropdown=t,t},i.prototype.position=function(){},i.prototype.destroy=function(){this.$dropdown.remove()},i}),t.define("select2/dropdown/search",["jquery","../utils"],function(n){function t(){}return t.prototype.render=function(t){var r=t.call(this),i=n('<span class="select2-search select2-search--dropdown"><input class="select2-search__field" type="search" tabindex="-1" autocomplete="off" autocorrect="off" autocapitalize="off" spellcheck="false" role="textbox" /><\/span>');return this.$searchContainer=i,this.$search=i.find("input"),r.prepend(i),r},t.prototype.bind=function(t,i,r){var u=this;t.call(this,i,r);this.$search.on("keydown",function(n){u.trigger("keypress",n);u._keyUpPrevented=n.isDefaultPrevented()});this.$search.on("input",function(){n(this).off("keyup")});this.$search.on("keyup input",function(n){u.handleSearch(n)});i.on("open",function(){u.$search.attr("tabindex",0);u.$search.focus();window.setTimeout(function(){u.$search.focus()},0)});i.on("close",function(){u.$search.attr("tabindex",-1);u.$search.val("")});i.on("results:all",function(n){if(null==n.query.term||""===n.query.term){var t=u.showSearch(n);t?u.$searchContainer.removeClass("select2-search--hide"):u.$searchContainer.addClass("select2-search--hide")}})},t.prototype.handleSearch=function(){if(!this._keyUpPrevented){var n=this.$search.val();this.trigger("query",{term:n})}this._keyUpPrevented=!1},t.prototype.showSearch=function(){return!0},t}),t.define("select2/dropdown/hidePlaceholder",[],function(){function n(n,t,i,r){this.placeholder=this.normalizePlaceholder(i.get("placeholder"));n.call(this,t,i,r)}return n.prototype.append=function(n,t){t.results=this.removePlaceholder(t.results);n.call(this,t)},n.prototype.normalizePlaceholder=function(n,t){return"string"==typeof t&&(t={id:"",text:t}),t},n.prototype.removePlaceholder=function(n,t){for(var u,r=t.slice(0),i=t.length-1;i>=0;i--)u=t[i],this.placeholder.id===u.id&&r.splice(i,1);return r},n}),t.define("select2/dropdown/infiniteScroll",["jquery"],function(n){function t(n,t,i,r){this.lastParams={};n.call(this,t,i,r);this.$loadingMore=this.createLoadingMore();this.loading=!1}return t.prototype.append=function(n,t){this.$loadingMore.remove();this.loading=!1;n.call(this,t);this.showLoadingMore(t)&&this.$results.append(this.$loadingMore)},t.prototype.bind=function(t,i,r){var u=this;t.call(this,i,r);i.on("query",function(n){u.lastParams=n;u.loading=!0});i.on("query:append",function(n){u.lastParams=n;u.loading=!0});this.$results.on("scroll",function(){var r=n.contains(document.documentElement,u.$loadingMore[0]),t,i;!u.loading&&r&&(t=u.$results.offset().top+u.$results.outerHeight(!1),i=u.$loadingMore.offset().top+u.$loadingMore.outerHeight(!1),t+50>=i&&u.loadMore())})},t.prototype.loadMore=function(){this.loading=!0;var t=n.extend({},{page:1},this.lastParams);t.page++;this.trigger("query:append",t)},t.prototype.showLoadingMore=function(n,t){return t.pagination&&t.pagination.more},t.prototype.createLoadingMore=function(){var t=n('<li class="option load-more" role="treeitem"><\/li>'),i=this.options.get("translations").get("loadingMore");return t.html(i(this.lastParams)),t},t}),t.define("select2/dropdown/attachBody",["jquery","../utils"],function(n,t){function i(n,t,i){this.$dropdownParent=i.get("dropdownParent")||document.body;n.call(this,t,i)}return i.prototype.bind=function(n,t,i){var r=this,u=!1;n.call(this,t,i);t.on("open",function(){r._showDropdown();r._attachPositioningHandler(t);u||(u=!0,t.on("results:all",function(){r._positionDropdown();r._resizeDropdown()}),t.on("results:append",function(){r._positionDropdown();r._resizeDropdown()}))});t.on("close",function(){r._hideDropdown();r._detachPositioningHandler(t)});this.$dropdownContainer.on("mousedown",function(n){n.stopPropagation()})},i.prototype.position=function(n,t,i){t.attr("class",i.attr("class"));t.removeClass("select2");t.addClass("select2-container--open");t.css({position:"absolute",top:-999999});this.$container=i},i.prototype.render=function(t){var i=n("<span><\/span>"),r=t.call(this);return i.append(r),this.$dropdownContainer=i,i},i.prototype._hideDropdown=function(){this.$dropdownContainer.detach()},i.prototype._attachPositioningHandler=function(i){var r=this,u="scroll.select2."+i.id,e="resize.select2."+i.id,o="orientationchange.select2."+i.id,f=this.$container.parents().filter(t.hasScroll);f.each(function(){n(this).data("select2-scroll-position",{x:n(this).scrollLeft(),y:n(this).scrollTop()})});f.on(u,function(){var t=n(this).data("select2-scroll-position");n(this).scrollTop(t.y)});n(window).on(u+" "+e+" "+o,function(){r._positionDropdown();r._resizeDropdown()})},i.prototype._detachPositioningHandler=function(i){var r="scroll.select2."+i.id,u="resize.select2."+i.id,f="orientationchange.select2."+i.id,e=this.$container.parents().filter(t.hasScroll);e.off(r);n(window).off(r+" "+u+" "+f)},i.prototype._positionDropdown=function(){var f=n(window),u=this.$dropdown.hasClass("select2-dropdown--above"),l=this.$dropdown.hasClass("select2-dropdown--below"),t=null,i=(this.$container.position(),this.$container.offset()),r;i.bottom=i.top+this.$container.outerHeight(!1);r={height:this.$container.outerHeight(!1)};r.top=i.top;r.bottom=i.top+r.height;var e={height:this.$dropdown.outerHeight(!1)},o={top:f.scrollTop(),bottom:f.scrollTop()+f.height()},s=o.top<i.top-e.height,h=o.bottom>i.bottom+e.height,c={left:i.left,top:r.bottom};u||l||(t="below");h||!s||u?!s&&h&&u&&(t="below"):t="above";("above"==t||u&&"below"!==t)&&(c.top=r.top-e.height);null!=t&&(this.$dropdown.removeClass("select2-dropdown--below select2-dropdown--above").addClass("select2-dropdown--"+t),this.$container.removeClass("select2-container--below select2-container--above").addClass("select2-container--"+t));this.$dropdownContainer.css(c)},i.prototype._resizeDropdown=function(){this.$dropdownContainer.width();var n={width:this.$container.outerWidth(!1)+"px"};this.options.get("dropdownAutoWidth")&&(n.minWidth=n.width,n.width="auto");this.$dropdown.css(n)},i.prototype._showDropdown=function(){this.$dropdownContainer.appendTo(this.$dropdownParent);this._positionDropdown();this._resizeDropdown()},i}),t.define("select2/dropdown/minimumResultsForSearch",[],function(){function n(t){for(var u,i=0,r=0;r<t.length;r++)u=t[r],u.children?i+=n(u.children):i++;return i}function t(n,t,i,r){this.minimumResultsForSearch=i.get("minimumResultsForSearch");this.minimumResultsForSearch<0&&(this.minimumResultsForSearch=1/0);n.call(this,t,i,r)}return t.prototype.showSearch=function(t,i){return n(i.data.results)<this.minimumResultsForSearch?!1:t.call(this,i)},t}),t.define("select2/dropdown/selectOnClose",[],function(){function n(){}return n.prototype.bind=function(n,t,i){var r=this;n.call(this,t,i);t.on("close",function(){r._handleSelectOnClose()})},n.prototype._handleSelectOnClose=function(){var n=this.getHighlightedResults();n.length<1||this.trigger("select",{data:n.data("data")})},n}),t.define("select2/dropdown/closeOnSelect",[],function(){function n(){}return n.prototype.bind=function(n,t,i){var r=this;n.call(this,t,i);t.on("select",function(n){r._selectTriggered(n)});t.on("unselect",function(n){r._selectTriggered(n)})},n.prototype._selectTriggered=function(n,t){var i=t.originalEvent;i&&i.ctrlKey||this.trigger("close")},n}),t.define("select2/i18n/en",[],function(){return{errorLoading:function(){return"The results could not be loaded."},inputTooLong:function(n){var t=n.input.length-n.maximum,i="Please delete "+t+" character";return 1!=t&&(i+="s"),i},inputTooShort:function(n){var t=n.minimum-n.input.length;return"Please enter "+t+" or more characters"},loadingMore:function(){return"Loading more results"},maximumSelected:function(n){var t="You can only select "+n.maximum+" item";return 1!=n.maximum&&(t+="s"),t},noResults:function(){return"No results found"},searching:function(){return"Searching"}}}),t.define("select2/defaults",["jquery","require","./results","./selection/single","./selection/multiple","./selection/placeholder","./selection/allowClear","./selection/search","./selection/eventRelay","./utils","./translation","./diacritics","./data/select","./data/array","./data/ajax","./data/tags","./data/tokenizer","./data/minimumInputLength","./data/maximumInputLength","./data/maximumSelectionLength","./dropdown","./dropdown/search","./dropdown/hidePlaceholder","./dropdown/infiniteScroll","./dropdown/attachBody","./dropdown/minimumResultsForSearch","./dropdown/selectOnClose","./dropdown/closeOnSelect","./i18n/en"],function(n,t,i,r,u,f,e,o,s,h,c,l,a,v,y,p,w,b,k,d,g,nt,tt,it,rt,ut,ft,et,ot){function st(){this.reset()}st.prototype.apply=function(l){var vt,yt,pt,wt,bt,kt,dt,ct,lt,st,ot,ht,gt,at;if((l=n.extend({},this.defaults,l),null==l.dataAdapter)&&((l.dataAdapter=null!=l.ajax?y:null!=l.data?v:a,l.minimumInputLength>0&&(l.dataAdapter=h.Decorate(l.dataAdapter,b)),l.maximumInputLength>0&&(l.dataAdapter=h.Decorate(l.dataAdapter,k)),l.maximumSelectionLength>0&&(l.dataAdapter=h.Decorate(l.dataAdapter,d)),l.tags&&(l.dataAdapter=h.Decorate(l.dataAdapter,p)),(null!=l.tokenSeparators||null!=l.tokenizer)&&(l.dataAdapter=h.Decorate(l.dataAdapter,w)),null!=l.query)&&(vt=t(l.amdBase+"compat/query"),l.dataAdapter=h.Decorate(l.dataAdapter,vt)),null!=l.initSelection&&(yt=t(l.amdBase+"compat/initSelection"),l.dataAdapter=h.Decorate(l.dataAdapter,yt))),(null==l.resultsAdapter&&(l.resultsAdapter=i,null!=l.ajax&&(l.resultsAdapter=h.Decorate(l.resultsAdapter,it)),null!=l.placeholder&&(l.resultsAdapter=h.Decorate(l.resultsAdapter,tt)),l.selectOnClose&&(l.resultsAdapter=h.Decorate(l.resultsAdapter,ft))),null==l.dropdownAdapter)&&(l.multiple?l.dropdownAdapter=g:(pt=h.Decorate(g,nt),l.dropdownAdapter=pt),(0!==l.minimumResultsForSearch&&(l.dropdownAdapter=h.Decorate(l.dropdownAdapter,ut)),l.closeOnSelect&&(l.dropdownAdapter=h.Decorate(l.dropdownAdapter,et)),null!=l.dropdownCssClass||null!=l.dropdownCss||null!=l.adaptDropdownCssClass)&&(wt=t(l.amdBase+"compat/dropdownCss"),l.dropdownAdapter=h.Decorate(l.dropdownAdapter,wt)),l.dropdownAdapter=h.Decorate(l.dropdownAdapter,rt)),null==l.selectionAdapter&&((l.selectionAdapter=l.multiple?u:r,null!=l.placeholder&&(l.selectionAdapter=h.Decorate(l.selectionAdapter,f)),l.allowClear&&(l.selectionAdapter=h.Decorate(l.selectionAdapter,e)),l.multiple&&(l.selectionAdapter=h.Decorate(l.selectionAdapter,o)),null!=l.containerCssClass||null!=l.containerCss||null!=l.adaptContainerCssClass)&&(bt=t(l.amdBase+"compat/containerCss"),l.selectionAdapter=h.Decorate(l.selectionAdapter,bt)),l.selectionAdapter=h.Decorate(l.selectionAdapter,s)),"string"==typeof l.language&&(l.language.indexOf("-")>0?(kt=l.language.split("-"),dt=kt[0],l.language=[l.language,dt]):l.language=[l.language]),n.isArray(l.language)){for(ct=new c,l.language.push("en"),lt=l.language,st=0;st<lt.length;st++){ot=lt[st];ht={};try{ht=c.loadPath(ot)}catch(ni){try{ot=this.defaults.amdLanguageBase+ot;ht=c.loadPath(ot)}catch(ti){l.debug&&window.console&&console.warn&&console.warn('Select2: The language file for "'+ot+'" could not be automatically loaded. A fallback will be used instead.');continue}}ct.extend(ht)}l.translations=ct}else gt=c.loadPath(this.defaults.amdLanguageBase+"en"),at=new c(l.language),at.extend(gt),l.translations=at;return l};st.prototype.reset=function(){function i(n){function t(n){return l[n]||n}return n.replace(/[^\u0000-\u007E]/g,t)}function t(r,u){var f,e,o,s,h,c;if(""===n.trim(r.term))return u;if(u.children&&u.children.length>0){for(f=n.extend(!0,{},u),e=u.children.length-1;e>=0;e--)o=u.children[e],s=t(r,o),null==s&&f.children.splice(e,1);return f.children.length>0?f:t(r,f)}return h=i(u.text).toUpperCase(),c=i(r.term).toUpperCase(),h.indexOf(c)>-1?u:null}this.defaults={amdBase:"./",amdLanguageBase:"./i18n/",closeOnSelect:!0,debug:!1,dropdownAutoWidth:!1,escapeMarkup:h.escapeMarkup,language:ot,matcher:t,minimumInputLength:0,maximumInputLength:0,maximumSelectionLength:0,minimumResultsForSearch:0,selectOnClose:!1,sorter:function(n){return n},templateResult:function(n){return n.text},templateSelection:function(n){return n.text},theme:"default",width:"resolve"}};st.prototype.set=function(t,i){var f=n.camelCase(t),r={},u;r[f]=i;u=h._convertData(r);n.extend(this.defaults,u)};return new st}),t.define("select2/options",["require","jquery","./defaults","./utils"],function(n,t,i,r){function u(t,u){if(this.options=t,null!=u&&this.fromElement(u),this.options=i.apply(this.options),u&&u.is("input")){var f=n(this.get("amdBase")+"compat/inputData");this.options.dataAdapter=r.Decorate(this.options.dataAdapter,f)}}return u.prototype.fromElement=function(n){var e=["select2"],f,u,i;null==this.options.multiple&&(this.options.multiple=n.prop("multiple"));null==this.options.disabled&&(this.options.disabled=n.prop("disabled"));null==this.options.language&&(n.prop("lang")?this.options.language=n.prop("lang").toLowerCase():n.closest("[lang]").prop("lang")&&(this.options.language=n.closest("[lang]").prop("lang")));null==this.options.dir&&(this.options.dir=n.prop("dir")?n.prop("dir"):n.closest("[dir]").prop("dir")?n.closest("[dir]").prop("dir"):"ltr");n.prop("disabled",this.options.disabled);n.prop("multiple",this.options.multiple);n.data("select2Tags")&&(this.options.debug&&window.console&&console.warn&&console.warn('Select2: The `data-select2-tags` attribute has been changed to use the `data-data` and `data-tags="true"` attributes and will be removed in future versions of Select2.'),n.data("data",n.data("select2Tags")),n.data("tags",!0));n.data("ajaxUrl")&&(this.options.debug&&window.console&&console.warn&&console.warn("Select2: The `data-ajax-url` attribute has been changed to `data-ajax--url` and support for the old attribute will be removed in future versions of Select2."),n.attr("ajax--url",n.data("ajaxUrl")),n.data("ajax--url",n.data("ajaxUrl")));f={};f=t.fn.jquery&&"1."==t.fn.jquery.substr(0,2)&&n[0].dataset?t.extend(!0,{},n[0].dataset,n.data()):n.data();u=t.extend(!0,{},f);u=r._convertData(u);for(i in u)t.inArray(i,e)>-1||(t.isPlainObject(this.options[i])?t.extend(this.options[i],u[i]):this.options[i]=u[i]);return this},u.prototype.get=function(n){return this.options[n]},u.prototype.set=function(n,t){this.options[n]=t},u}),t.define("select2/core",["jquery","./options","./utils","./keys"],function(n,t,i,r){var u=function(n,i){var f,e,r,o,s,h,c;null!=n.data("select2")&&n.data("select2").destroy();this.$element=n;this.id=this._generateId(n);i=i||{};this.options=new t(i,n);u.__super__.constructor.call(this);f=n.attr("tabindex")||0;n.data("old-tabindex",f);n.attr("tabindex","-1");e=this.options.get("dataAdapter");this.dataAdapter=new e(n,this.options);r=this.render();this._placeContainer(r);o=this.options.get("selectionAdapter");this.selection=new o(n,this.options);this.$selection=this.selection.render();this.selection.position(this.$selection,r);s=this.options.get("dropdownAdapter");this.dropdown=new s(n,this.options);this.$dropdown=this.dropdown.render();this.dropdown.position(this.$dropdown,r);h=this.options.get("resultsAdapter");this.results=new h(n,this.options,this.dataAdapter);this.$results=this.results.render();this.results.position(this.$results,this.$dropdown);c=this;this._bindAdapters();this._registerDomEvents();this._registerDataEvents();this._registerSelectionEvents();this._registerDropdownEvents();this._registerResultsEvents();this._registerEvents();this.dataAdapter.current(function(n){c.trigger("selection:update",{data:n})});n.addClass("select2-hidden-accessible");n.attr("aria-hidden","true");this._syncAttributes();n.data("select2",this)};return i.Extend(u,i.Observable),u.prototype._generateId=function(n){var t="";return t=null!=n.attr("id")?n.attr("id"):null!=n.attr("name")?n.attr("name")+"-"+i.generateChars(2):i.generateChars(4),t="select2-"+t},u.prototype._placeContainer=function(n){n.insertAfter(this.$element);var t=this._resolveWidth(this.$element,this.options.get("width"));null!=t&&n.css("width",t)},u.prototype._resolveWidth=function(n,t){var r,u,f,s,i;if("resolve"==t)return r=this._resolveWidth(n,"style"),null!=r?r:this._resolveWidth(n,"element");if("element"==t)return u=n.outerWidth(!1),0>=u?"auto":u+"px";if("style"==t){if(f=n.attr("style"),"string"!=typeof f)return null;for(var o=f.split(";"),e=0,h=o.length;h>e;e+=1)if(s=o[e].replace(/\s/g,""),i=s.match(/^width:(([-+]?([0-9]*\.)?[0-9]+)(px|em|ex|%|in|cm|mm|pt|pc))/i),null!==i&&i.length>=1)return i[1];return null}return t},u.prototype._bindAdapters=function(){this.dataAdapter.bind(this,this.$container);this.selection.bind(this,this.$container);this.dropdown.bind(this,this.$container);this.results.bind(this,this.$container)},u.prototype._registerDomEvents=function(){var t=this,r;this.$element.on("change.select2",function(){t.dataAdapter.current(function(n){t.trigger("selection:update",{data:n})})});this._sync=i.bind(this._syncAttributes,this);this.$element[0].attachEvent&&this.$element[0].attachEvent("onpropertychange",this._sync);r=window.MutationObserver||window.WebKitMutationObserver||window.MozMutationObserver;null!=r?(this._observer=new r(function(i){n.each(i,t._sync)}),this._observer.observe(this.$element[0],{attributes:!0,subtree:!1})):this.$element[0].addEventListener&&this.$element[0].addEventListener("DOMAttrModified",t._sync,!1)},u.prototype._registerDataEvents=function(){var n=this;this.dataAdapter.on("*",function(t,i){n.trigger(t,i)})},u.prototype._registerSelectionEvents=function(){var t=this,i=["toggle","focus"];this.selection.on("toggle",function(){t.toggleDropdown()});this.selection.on("focus",function(n){t.focus(n)});this.selection.on("*",function(r,u){-1===n.inArray(r,i)&&t.trigger(r,u)})},u.prototype._registerDropdownEvents=function(){var n=this;this.dropdown.on("*",function(t,i){n.trigger(t,i)})},u.prototype._registerResultsEvents=function(){var n=this;this.results.on("*",function(t,i){n.trigger(t,i)})},u.prototype._registerEvents=function(){var n=this;this.on("open",function(){n.$container.addClass("select2-container--open")});this.on("close",function(){n.$container.removeClass("select2-container--open")});this.on("enable",function(){n.$container.removeClass("select2-container--disabled")});this.on("disable",function(){n.$container.addClass("select2-container--disabled")});this.on("blur",function(){n.$container.removeClass("select2-container--focus")});this.on("query",function(t){n.isOpen()||n.trigger("open");this.dataAdapter.query(t,function(i){n.trigger("results:all",{data:i,query:t})})});this.on("query:append",function(t){this.dataAdapter.query(t,function(i){n.trigger("results:append",{data:i,query:t})})});this.on("keypress",function(t){var i=t.which;n.isOpen()?i===r.ESC||i===r.TAB||i===r.UP&&t.altKey?(n.close(),t.preventDefault()):i===r.ENTER?(n.trigger("results:select"),t.preventDefault()):i===r.SPACE&&t.ctrlKey?(n.trigger("results:toggle"),t.preventDefault()):i===r.UP?(n.trigger("results:previous"),t.preventDefault()):i===r.DOWN&&(n.trigger("results:next"),t.preventDefault()):(i===r.ENTER||i===r.SPACE||i===r.DOWN&&t.altKey)&&(n.open(),t.preventDefault())})},u.prototype._syncAttributes=function(){this.options.set("disabled",this.$element.prop("disabled"));this.options.get("disabled")?(this.isOpen()&&this.close(),this.trigger("disable")):this.trigger("enable")},u.prototype.trigger=function(n,t){var r=u.__super__.trigger,f={open:"opening",close:"closing",select:"selecting",unselect:"unselecting"},e,i;if(n in f&&(e=f[n],i={prevented:!1,name:n,args:t},r.call(this,e,i),i.prevented))return void(t.prevented=!0);r.call(this,n,t)},u.prototype.toggleDropdown=function(){this.options.get("disabled")||(this.isOpen()?this.close():this.open())},u.prototype.open=function(){this.isOpen()||(this.trigger("query",{}),this.trigger("open"))},u.prototype.close=function(){this.isOpen()&&this.trigger("close")},u.prototype.isOpen=function(){return this.$container.hasClass("select2-container--open")},u.prototype.hasFocus=function(){return this.$container.hasClass("select2-container--focus")},u.prototype.focus=function(){this.hasFocus()||(this.$container.addClass("select2-container--focus"),this.trigger("focus"))},u.prototype.enable=function(n){this.options.get("debug")&&window.console&&console.warn&&console.warn('Select2: The `select2("enable")` method has been deprecated and will be removed in later Select2 versions. Use $element.prop("disabled") instead.');(null==n||0===n.length)&&(n=[!0]);var t=!n[0];this.$element.prop("disabled",t)},u.prototype.data=function(){this.options.get("debug")&&arguments.length>0&&window.console&&console.warn&&console.warn('Select2: Data can no longer be set using `select2("data")`. You should consider setting the value instead using `$element.val()`.');var n=[];return this.dataAdapter.current(function(t){n=t}),n},u.prototype.val=function(t){if(this.options.get("debug")&&window.console&&console.warn&&console.warn('Select2: The `select2("val")` method has been deprecated and will be removed in later Select2 versions. Use $element.val() instead.'),null==t||0===t.length)return this.$element.val();var i=t[0];n.isArray(i)&&(i=n.map(i,function(n){return n.toString()}));this.$element.val(i).trigger("change")},u.prototype.destroy=function(){this.$container.remove();this.$element[0].detachEvent&&this.$element[0].detachEvent("onpropertychange",this._sync);null!=this._observer?(this._observer.disconnect(),this._observer=null):this.$element[0].removeEventListener&&this.$element[0].removeEventListener("DOMAttrModified",this._sync,!1);this._sync=null;this.$element.off(".select2");this.$element.attr("tabindex",this.$element.data("old-tabindex"));this.$element.removeClass("select2-hidden-accessible");this.$element.attr("aria-hidden","false");this.$element.removeData("select2");this.dataAdapter.destroy();this.selection.destroy();this.dropdown.destroy();this.results.destroy();this.dataAdapter=null;this.selection=null;this.dropdown=null;this.results=null},u.prototype.render=function(){var t=n('<span class="select2 select2-container"><span class="selection"><\/span><span class="dropdown-wrapper" aria-hidden="true"><\/span><\/span>');return t.attr("dir",this.options.get("dir")),this.$container=t,this.$container.addClass("select2-container--"+this.options.get("theme")),t.data("element",this.$element),t},u}),t.define("select2/compat/utils",["jquery"],function(n){function t(t,i,r){var u,f,e=[];u=n.trim(t.attr("class"));u&&(u=""+u,n(u.split(/\s+/)).each(function(){0===this.indexOf("select2-")&&e.push(this)}));u=n.trim(i.attr("class"));u&&(u=""+u,n(u.split(/\s+/)).each(function(){0!==this.indexOf("select2-")&&(f=r(this),null!=f&&e.push(f))}));t.attr("class",e.join(" "))}return{syncCssClasses:t}}),t.define("select2/compat/containerCss",["jquery","./utils"],function(n,t){function r(){return null}function i(){}return i.prototype.render=function(i){var o=i.call(this),u=this.options.get("containerCssClass")||"",f,s,e;return n.isFunction(u)&&(u=u(this.$element)),f=this.options.get("adaptContainerCssClass"),(f=f||r,-1!==u.indexOf(":all:"))&&(u=u.replace(":all:",""),s=f,f=function(n){var t=s(n);return null!=t?t+" "+n:n}),e=this.options.get("containerCss")||{},n.isFunction(e)&&(e=e(this.$element)),t.syncCssClasses(o,this.$element,f),o.css(e),o.addClass(u),o},i}),t.define("select2/compat/dropdownCss",["jquery","./utils"],function(n,t){function r(){return null}function i(){}return i.prototype.render=function(i){var o=i.call(this),u=this.options.get("dropdownCssClass")||"",f,s,e;return n.isFunction(u)&&(u=u(this.$element)),f=this.options.get("adaptDropdownCssClass"),(f=f||r,-1!==u.indexOf(":all:"))&&(u=u.replace(":all:",""),s=f,f=function(n){var t=s(n);return null!=t?t+" "+n:n}),e=this.options.get("dropdownCss")||{},n.isFunction(e)&&(e=e(this.$element)),t.syncCssClasses(o,this.$element,f),o.css(e),o.addClass(u),o},i}),t.define("select2/compat/initSelection",["jquery"],function(n){function t(n,t,i){i.get("debug")&&window.console&&console.warn&&console.warn("Select2: The `initSelection` option has been deprecated in favor of a custom data adapter that overrides the `current` method. This method is now called multiple times instead of a single time when the instance is initialized. Support will be removed for the `initSelection` option in future versions of Select2");this.initSelection=i.get("initSelection");this._isInitialized=!1;n.call(this,t,i)}return t.prototype.current=function(t,i){var r=this;return this._isInitialized?void t.call(this,i):void this.initSelection.call(null,this.$element,function(t){r._isInitialized=!0;n.isArray(t)||(t=[t]);i(t)})},t}),t.define("select2/compat/inputData",["jquery"],function(n){function t(n,t,i){this._currentData=[];this._valueSeparator=i.get("valueSeparator")||",";"hidden"===t.prop("type")&&i.get("debug")&&console&&console.warn&&console.warn("Select2: Using a hidden input with Select2 is no longer supported and may stop working in the future. It is recommended to use a `<select>` element instead.");n.call(this,t,i)}return t.prototype.current=function(t,i){function f(t,i){var r=[];return t.selected||-1!==n.inArray(t.id,i)?(t.selected=!0,r.push(t)):t.selected=!1,t.children&&r.push.apply(r,f(t.children,i)),r}for(var e,r=[],u=0;u<this._currentData.length;u++)e=this._currentData[u],r.push.apply(r,f(e,this.$element.val().split(this._valueSeparator)));i(r)},t.prototype.select=function(t,i){if(this.options.get("multiple")){var r=this.$element.val();r+=this._valueSeparator+i.id;this.$element.val(r);this.$element.trigger("change")}else this.current(function(t){n.map(t,function(n){n.selected=!1})}),this.$element.val(i.id),this.$element.trigger("change")},t.prototype.unselect=function(n,t){var i=this;t.selected=!1;this.current(function(n){for(var f,u=[],r=0;r<n.length;r++)f=n[r],t.id!=f.id&&u.push(f.id);i.$element.val(u.join(i._valueSeparator));i.$element.trigger("change")})},t.prototype.query=function(n,t,i){for(var e,f,u=[],r=0;r<this._currentData.length;r++)e=this._currentData[r],f=this.matches(t,e),null!==f&&u.push(f);i({results:u})},t.prototype.addOptions=function(t,i){var r=n.map(i,function(t){return n.data(t[0],"data")});this._currentData.push.apply(this._currentData,r)},t}),t.define("select2/compat/matcher",["jquery"],function(n){function t(t){function i(i,r){var u=n.extend(!0,{},r),f,e,o;if(null==i.term||""===n.trim(i.term))return u;if(r.children){for(f=r.children.length-1;f>=0;f--)e=r.children[f],o=t(i.term,e.text,e),o||u.children.splice(f,1);if(u.children.length>0)return u}return t(i.term,r.text,r)?u:null}return i}return t}),t.define("select2/compat/query",[],function(){function n(n,t,i){i.get("debug")&&window.console&&console.warn&&console.warn("Select2: The `query` option has been deprecated in favor of a custom data adapter that overrides the `query` method. Support will be removed for the `query` option in future versions of Select2.");n.call(this,t,i)}return n.prototype.query=function(n,t,i){t.callback=i;var r=this.options.get("query");r.call(null,t)},n}),t.define("select2/dropdown/attachContainer",[],function(){function n(n,t,i){n.call(this,t,i)}return n.prototype.position=function(n,t,i){var r=i.find(".dropdown-wrapper");r.append(t);t.addClass("select2-dropdown--below");i.addClass("select2-container--below")},n}),t.define("select2/dropdown/stopPropagation",[],function(){function n(){}return n.prototype.bind=function(n,t,i){n.call(this,t,i);this.$dropdown.on("blur change click dblclick focus focusin focusout input keydown keyup keypress mousedown mouseenter mouseleave mousemove mouseover mouseup search touchend touchstart",function(n){n.stopPropagation()})},n}),t.define("select2/selection/stopPropagation",[],function(){function n(){}return n.prototype.bind=function(n,t,i){n.call(this,t,i);this.$selection.on("blur change click dblclick focus focusin focusout input keydown keyup keypress mousedown mouseenter mouseleave mousemove mouseover mouseup search touchend touchstart",function(n){n.stopPropagation()})},n}),t.define("jquery.select2",["jquery","require","./select2/core","./select2/defaults"],function(n,t,i,r){if(t("jquery.mousewheel"),null==n.fn.select2){var u=["open","close","destroy"];n.fn.select2=function(t){var r,f,e;if(t=t||{},"object"==typeof t)return this.each(function(){var r=n.extend({},t,!0);new i(n(this),r)}),this;if("string"==typeof t)return r=this.data("select2"),null==r&&window.console&&console.error&&console.error("The select2('"+t+"') method was called on an element that is not using Select2."),f=Array.prototype.slice.call(arguments,1),e=r[t](f),n.inArray(t,u)>-1?this:e;throw new Error("Invalid arguments for Select2: "+t);}}return null==n.fn.select2.defaults&&(n.fn.select2.defaults=r),i}),function(i){"function"==typeof t.define&&t.define.amd?t.define("jquery.mousewheel",["jquery"],i):"object"==typeof exports?module.exports=i:i(n)}(function(n){function u(r){var u=r||window.event,w=c.call(arguments,1),l=0,s=0,e=0,a=0,b=0,k=0,v,y,p;if(r=n.event.fix(u),r.type="mousewheel","detail"in u&&(e=-1*u.detail),"wheelDelta"in u&&(e=u.wheelDelta),"wheelDeltaY"in u&&(e=u.wheelDeltaY),"wheelDeltaX"in u&&(s=-1*u.wheelDeltaX),"axis"in u&&u.axis===u.HORIZONTAL_AXIS&&(s=-1*e,e=0),l=0===e?s:e,"deltaY"in u&&(e=-1*u.deltaY,l=e),"deltaX"in u&&(s=u.deltaX,0===e&&(l=-1*s)),0!==e||0!==s)return 1===u.deltaMode?(v=n.data(this,"mousewheel-line-height"),l*=v,e*=v,s*=v):2===u.deltaMode&&(y=n.data(this,"mousewheel-page-height"),l*=y,e*=y,s*=y),(a=Math.max(Math.abs(e),Math.abs(s)),(!t||t>a)&&(t=a,o(u,a)&&(t/=40)),o(u,a)&&(l/=40,s/=40,e/=40),l=Math[l>=1?"floor":"ceil"](l/t),s=Math[s>=1?"floor":"ceil"](s/t),e=Math[e>=1?"floor":"ceil"](e/t),i.settings.normalizeOffset&&this.getBoundingClientRect)&&(p=this.getBoundingClientRect(),b=r.clientX-p.left,k=r.clientY-p.top),r.deltaX=s,r.deltaY=e,r.deltaFactor=t,r.offsetX=b,r.offsetY=k,r.deltaMode=0,w.unshift(r,l,s,e),f&&clearTimeout(f),f=setTimeout(h,200),(n.event.dispatch||n.event.handle).apply(this,w)}function h(){t=null}function o(n,t){return i.settings.adjustOldDeltas&&"mousewheel"===n.type&&t%120==0}var f,t,s=["wheel","mousewheel","DOMMouseScroll","MozMousePixelScroll"],r="onwheel"in document||document.documentMode>=9?["wheel"]:["mousewheel","DomMouseScroll","MozMousePixelScroll"],c=Array.prototype.slice,e,i;if(n.event.fixHooks)for(e=s.length;e;)n.event.fixHooks[s[--e]]=n.event.mouseHooks;i=n.event.special.mousewheel={version:"3.1.12",setup:function(){if(this.addEventListener)for(var t=r.length;t;)this.addEventListener(r[--t],u,!1);else this.onmousewheel=u;n.data(this,"mousewheel-line-height",i.getLineHeight(this));n.data(this,"mousewheel-page-height",i.getPageHeight(this))},teardown:function(){if(this.removeEventListener)for(var t=r.length;t;)this.removeEventListener(r[--t],u,!1);else this.onmousewheel=null;n.removeData(this,"mousewheel-line-height");n.removeData(this,"mousewheel-page-height")},getLineHeight:function(t){var r=n(t),i=r["offsetParent"in n.fn?"offsetParent":"parent"]();return i.length||(i=n("body")),parseInt(i.css("fontSize"),10)||parseInt(r.css("fontSize"),10)||16},getPageHeight:function(t){return n(t).height()},settings:{adjustOldDeltas:!0,normalizeOffset:!0}};n.fn.extend({mousewheel:function(n){return n?this.bind("mousewheel",n):this.trigger("mousewheel")},unmousewheel:function(n){return this.unbind("mousewheel",n)}})}),{define:t.define,require:t.require}}(),i=t.require("jquery.select2");return n.fn.select2.amd=t,i}),function(n){n.fn.easytree=function(n){var i=this;return new t(i,n)};var t=function(t,i){function lt(t){var o=tt(this),i=t.data,r=e(i,o),f;r&&(a(i),u.allowActivate)&&(r.isActive=!0,n("#"+r.id).addClass("easytree-active"),u.stateChanged&&(f=st(i),u.stateChanged(i,f)))}function p(n){var r=tt(this),t=n.data,i=e(t,r);i&&g(n,t,i)}function g(t,i,r){var f="",e;if(u.toggling&&(f=u.toggling(t,i,r),f===!1))return!1;if(r.isExpanded){if(u.closing&&(f=u.closing(t,i,r),f===!1))return!1}else if(u.opening&&(f=u.opening(t,i,r),f===!1))return!1;if(r.isLazy&&!r.isExpanded&&(e=r.children&&r.children.length>0,f=!0,u.openLazyNode&&(f=u.openLazyNode(t,i,r,e)),r.lazyUrl&&f!==!1))return ht(r.lazyUrl,r.lazyUrlJson,function(u){u.d&&(u=u.d);var f=l(u);n.isArray(f)?r.children=f:(r.children=[],r.children.push(f));s(i);nt(t,i,r)}),!1;nt(t,i,r)}function nt(n,t,i){if(i.isExpanded?(c(t,i.id,"close"),v(i,"close"),u.closed&&u.closed(n,t,i)):(c(t,i.id,"open"),v(i,"open"),u.opened&&u.opened(n,t,i)),u.toggled)var r=u.toggled(n,t,i)}function at(t){if(u.enableDnd){for(var i=t.target;i;){if(i.className.indexOf("easytree-draggable")>-1)break;i=i.parentElement}if(i)return it(f),a(f),n("#"+i.id).addClass("easytree-drag-source"),h(r),r.createClone=!(i.className.indexOf("easytree-no-clone")>-1),r.dragok=!0,r.sourceEl=i,r.sourceId=i.id,r.sourceNode=e(f,r.sourceId),!1}}function vt(t){var i,o;if(r.dragok&&u.enableDnd){if(r.createClone&&(r.clone||(r.clone=pt(r.sourceEl),n(r.clone).appendTo("body")),r.clone.style.left=t.pageX+5+"px",r.clone.style.top=t.pageY+"px"),i=wt(t.clientX,t.clientY),!i){y();r.targetEl=null;r.targetId=null;r.targetNode=null;r.canDrop=!1;return}if(i.id!=r.targetId){if(r.canDrop=!1,window.clearTimeout(r.openDelayTimeout),r.targetEl=i,r.targetId=i.id,r.targetNode=e(f,r.targetId),d("source:"+(r.sourceNode&&r.sourceNode.text?r.sourceNode.text:r.sourceId)),d("target:"+(r.targetNode&&r.targetNode.text?r.targetNode.text:r.targetId)),d("isAncester:"+w(r.sourceNode,r.targetId)),o=n("#"+r.targetId),w(r.sourceNode,r.targetId)){k();return}if(r.targetId==r.sourceId){y();return}if(u.canDrop){var s=r.sourceNode!=null,a=s?r.sourceNode:r.sourceEl,h=r.targetNode!=null,p=h?r.targetNode:r.targetEl,l=u.canDrop(t,f,s,a,h,p);if(l===!0){ot();r.canDrop=!0;r.openDelayTimeout=window.setTimeout(function(){c(f,r.targetId,"open");v(r.targetNode,"open")},600);return}if(l===!1){k();return}}return o.hasClass("easytree-reject")?k():o.hasClass("easytree-accept")?(ot(),r.canDrop=!0,r.openDelayTimeout=window.setTimeout(function(){c(f,r.targetId,"open");v(r.targetNode,"open")},600)):y(),!1}}}function yt(t){var i=r.sourceNode!=null,e=i?r.sourceNode:r.sourceEl,o=r.targetNode!=null,c=o?r.targetNode:r.targetEl,l=r.canDrop,a;if(y(),n("#_st_clone_").remove(),e===null||c===null)return h(r),!1;if(u.dropping&&(a=u.dropping(t,f,i,e,o,c,l),a===!1)){h(r);return}return r.targetNode&&r.sourceNode&&l&&(r.targetNode.children||(r.targetNode.children=[]),b(f,r.sourceId),r.targetNode.children.push(r.sourceNode)),l&&(u.dropped&&u.dropped(t,f,i,e,o,c),s(f)),h(r),!1}function pt(t){n(t).remove(".easytree-expander");var i=n(t).clone().remove(".easytree-expander").removeClass("easytree-drag-source")[0],r=i.children[0];return r&&r.className=="easytree-expander"&&i.removeChild(r),i.style.display="block",i.style.position="absolute",i.style.opacity=.5,i.id="_st_clone_",i.style.zIndex=1e3,i}function wt(n,t){for(var i=document.elementFromPoint(n,t);i;){if(i.className.indexOf("easytree-droppable")>-1)return i;i=i.parentElement}return null}function h(n){n.canDrop=!1;n.createClone=!0;n.clone=null;n.dragok=!1;n.openDelayTimeout=null;n.targetEl=null;n.targetId=null;n.targetNode=null;n.sourceEl=null;n.sourceId=null;n.sourceNode=null}function tt(n){while(n!=null){if(n.id)return n.id;n=n.parentElement}return null}function e(n,t){for(var r=0,i,o,f,u,r=0;r<n.length;r++){if(i=n[r],o=i.text,i.id==t)return i;if(f=i.children&&i.children.length>0,f&&(u=e(i.children,t),u))return u}return null}function w(n,t){var r=0,i,e,f,u;if(!n||!n.children||n.children.length==0)return!1;for(r=0;r<n.children.length;r++){if(i=n.children[r],e=i.text,i.id==t)return!0;if(f=i.children&&i.children.length>0,f&&(u=w(i,t),u))return u}return!1}function b(n,t){for(var r=0,i,f,u,r=0;r<n.length;r++){if(i=n[r],f=i.text,i.id==t){n.splice(r,1);return}u=i.children&&i.children.length>0;u&&b(i.children,t)}}function c(n,t,i){for(var u=0,r,e,f,u=0;u<n.length;u++){if(r=n[u],e=r.text,r.id==t){r.isExpanded=i=="open";return}f=r.children&&r.children.length>0;f&&c(r.children,t,i)}}function a(t){for(var r=0,i,u,r=0;r<t.length;r++)i=t[r],i.isActive=!1,n("#"+i.id).removeClass("easytree-active"),u=i.children&&i.children.length>0,u&&a(i.children)}function it(t){for(var r=0,i,u,r=0;r<t.length;r++)i=t[r],n("#"+i.id).removeClass("easytree-drag-source"),u=i.children&&i.children.length>0,u&&it(i.children)}function rt(n){var t=0,i,r;for(n=n.sort(function(n,t){var i=n.text.toLowerCase(),r=t.text.toLowerCase(),f;return(i||(i="a"),r||(r="a"),u.ordering.toLowerCase().indexOf("folder")>-1&&n.isFolder&&(i="______"+i),u.ordering.toLowerCase().indexOf("folder")>-1&&t.isFolder&&(r="______"+r),f=u.ordering.indexOf(" DESC")==-1?1:-1,i<r)?-1*f:i>r?1*f:0}),t=0;t<n.length;t++)i=n[t],r=i.children&&i.children.length>0,r&&rt(i.children);return n}function ut(n,t,i){var r=0,u,f;for(t||(t=0,i="_st_node_"+i+"_"),r=0;r<n.length;r++)u=n[r],u.id||(u.id=i+r.toString()),f=u.children&&u.children.length>0,f&&ut(u.children,t+1,i+r+"_")}function s(t){var i,y,r,e,w,s,b,h,c,l,a,v,k;if(t){if(i=new Date,u.building&&(y=u.building(t),y===!1))return!1;r=new Date;u.ordering&&(t=rt(t));e=new Date;w=Math.floor(Math.random()*1e4);ut(t,0,w);s=new Date;f=t;b=ft(t,0,!0);h=new Date;o[0].innerHTML=b;c=new Date;n(o.selector+" .easytree-node").on("click",t,lt);n(o.selector+" .easytree-expander").on("click",t,p);n(o.selector+" .easytree-icon").on("dblclick",t,p);n(o.selector+" .easytree-title").on("dblclick",t,p);if(l=new Date,u.enableDnd){n(document).on("mousedown",at);n(document).on("mousemove",vt);n(document).on("mouseup",yt)}a=new Date;u.built&&u.built(t);v=new Date;u.stateChanged&&(k=st(t),u.stateChanged(t,k));var d=new Date,g=r-i,nt=e-r,tt=s-e,it=h-s,et=c-h,ot=l-c,ht=a-l,ct=v-a,pt=d-v,wt=d-i}}function ft(n,t,i){var r="",e=0,s="",o,h,f,c,l;for(t==0&&(s+="ui-easytree easytree-container easytree-focused"),o=t<u.minOpenLevels,h=t==0||i||o?"":" style='display:none' ",r+='<ul tabindex="0" class="'+s+'" '+h+'">',e=0;e<n.length;e++)f=n[e],o===!0&&(f.isExpanded=!0),c=e==n.length-1,l=bt(f,c),r+="<li>",r+='<span id="'+f.id+'" class="'+l+' ">',r+=o?"":'<span class="easytree-expander"><\/span>',r+=kt(f),r+=dt(f),r+="<\/span>",f.children&&f.children.length>0&&(r+=ft(f.children,t+1,f.isExpanded)),r+="<\/li>";return r+"<\/ul>"}function bt(n,t){var f=n.children&&n.children.length>0,i="easytree-node ",r;return u.enableDnd&&(i+=" easytree-draggable "),n.liClass&&(i+=n.liClass),n.isFolder&&u.enableDnd?i+=" easytree-droppable easytree-accept ":u.enableDnd&&(i+=" easytree-droppable easytree-reject "),n.isActive&&u.allowActivate&&(i+=" easytree-active "),i+=et(n,t),r=n.isExpanded?"e":"c",n.isFolder&&(r+="f"),i+(" easytree-ico-"+r)}function et(n,t){var r=n.children&&n.children.length>0,i="";return i=!r&&n.isLazy?"c":r?n.isExpanded?"e":"c":"n",t&&(i+="l")," easytree-exp-"+i}function kt(n){return u.disableIcons?"":n.uiIcon?'<span class="easytree-custom-icon ui-icon '+n.uiIcon+'"><\/span>':n.iconUrl?'<span><img src="'+n.iconUrl+'" /><\/span>':'<span class="easytree-icon"><\/span>'}function dt(n){var t="",r=n.tooltip?'title="'+n.tooltip+'"':"",i="easytree-title";return n.textCss&&(i+=" "+n.textCss),t+="<span "+r+' class="'+i+'">',n.href&&(t+='<a href="'+n.href+'" ',n.hrefTarget&&(t+=' target="'+n.hrefTarget+'" '),t+=">"),t+=n.text,n.href&&(t+="<\/a>"),t+"<\/span>"}function v(t,i){var r,f,e,o;if(t){r=n("#"+t.id).attr("class");f=r.indexOf("easytree-exp-");f>-1&&(e=r.indexOf(" ",f),o=e>-1?r.substring(f,e):r.substring(f),n("#"+t.id).removeClass(o),n("#"+t.id).addClass(et(t,!1)));var c=n("#"+t.id).parents("li").first(),s=c.children("ul").first(),h=parseInt(u.slidingTime,10);i=="close"?s.slideUp(h):s.slideDown(h)}}function y(){n("#easytree-reject").hide();n("#easytree-accept").hide()}function ot(){n("#easytree-accept").show();n("#easytree-reject").hide()}function k(){n("#easytree-reject").show();n("#easytree-accept").hide()}function st(n){for(var t=JSON.stringify?JSON.stringify(n):"Please import json2.js";t.indexOf(',"children":[]')>-1;)t=t.replace(',"children":[]',"");while(t.indexOf('"liClass":"",')>-1)t=t.replace('"liClass":"",',"");while(t.indexOf('"textCss":"",')>-1)t=t.replace('"textCss":"",',"");while(t.indexOf('"isExpanded":false,')>-1)t=t.replace('"isExpanded":false,',"");while(t.indexOf('"isActive":false,')>-1)t=t.replace('"isActive":false,',"");while(t.indexOf('"isFolder":false,')>-1)t=t.replace('"isFolder":false,',"");while(t.indexOf('"isLazy":false,')>-1)t=t.replace('"isLazy":false,',"");return t}function gt(){ni();h(r);n(document).on("mousemove",function(n){var t=n.pageY,i=n.pageX;document.getElementById("easytree-reject").style.top=t+10+"px";document.getElementById("easytree-reject").style.left=i+17+"px";document.getElementById("easytree-accept").style.top=t+10+"px";document.getElementById("easytree-accept").style.left=i+17+"px"})}function ni(){var t,i;n("#easytree-reject").length||(t='<div id="easytree-reject" class="easytree-drag-helper easytree-drop-reject">',t+='<span class="easytree-drag-helper-img"><\/span>',t+="<\/div>",n("body").append(t));n("#easytree-accept").length||(i='<div id="easytree-accept" class="easytree-drag-helper easytree-drop-accept">',i+='<span class="easytree-drag-helper-img"><\/span>',i+="<\/div>",n("body").append(i))}function ht(t,i,r){n.ajax({url:t,type:"POST",contentType:"application/json; charset=utf-8",data:i,success:r,error:function(n){alert("Error: "+n.responseText)}})}function l(t){var i=null;return typeof t=="object"?i=t:typeof t=="string"&&(t=n.trim(t),i=t.indexOf("[")==0||t.indexOf("{")==0?n.parseJSON(t):ti(t)),i}function ti(t){var r=n(t),i=[],u=r.children().each(function(){i.push(ct(this))});return i}function ct(t){var r=n(t),i={},o=r.data(),f,e,u,s;return i.isActive=r.hasClass("isActive"),r.removeClass("isActive"),i.isFolder=r.hasClass("isFolder"),r.removeClass("isFolder"),i.isExpanded=r.hasClass("isExpanded"),r.removeClass("isExpanded"),i.isLazy=r.hasClass("isLazy"),r.removeClass("isLazy"),i.uiIcon=o.uiicon,i.liClass=r.attr("class"),i.id=r.attr("id"),f=r.children("a"),f&&(i.href=f.attr("href"),i.hrefTarget=f.attr("target")),e=r.children("img"),e&&(i.iconUrl=e.attr("src")),i.textCss="",u=r.children("span"),u&&u.attr("class")&&(i.textCss+=u.attr("class")+" "),u=f.children("span"),u&&u.attr("class")&&(i.textCss+=u.attr("class")+" "),u=e.children("span"),u&&u.attr("class")&&(i.textCss+=u.attr("class")+" "),i.text=ii(r[0]),i.tooltip=r.attr("title"),i.children=[],s=r.children("ul").children("li").each(function(){i.children.push(ct(this))}),i}function ii(t){for(var r=0,i,r=0;r<t.childNodes.length;r++)for(i=t.childNodes[r];i;){if(i.nodeType==3&&n.trim(i.nodeValue).length>0)return n.trim(i.nodeValue);i=i.firstChild}return""}function d(n){n||(n="null");console.log(n)}var u={allowActivate:!0,data:null,dataUrl:null,dataUrlJson:null,disableIcons:!1,enableDnd:!1,ordering:null,slidingTime:100,minOpenLevels:0,building:null,built:null,toggling:null,toggled:null,opening:null,opened:null,openLazyNode:null,closing:null,closed:null,canDrop:null,dropping:null,dropped:null,stateChanged:null},o,f=null,r={};this.init=function(t,i){u=n.extend(u,i);gt();o=t;var r="";if(u.dataUrl)ht(u.dataUrl,u.dataUrlJson,function(n){return(r=l(n),!r)?(alert("EasyTree: Invalid data!"),this):(s(r),this)});else if(u.data){if(r=l(u.data),!r)return alert("EasyTree: Invalid data!"),this;s(r)}else{if(r=l(o.html()),!r)return alert("EasyTree: Invalid data!"),this;s(r)}return this};this.options=u;this.rebuildTree=function(n){var t=n?l(n):f;t||alert("EasyTree: Invalid data!");s(t)};this.getAllNodes=function(){return f};this.getNode=function(n){return e(f,n)};this.addNode=function(n,t){if(!t){f.push(n);return}var i=e(f,t);n&&(i.children||(i.children=[]),i.children.push(n))};this.removeNode=function(n){b(f,n)};this.activateNode=function(t){if(a(f),u.allowActivate){var i=e(f,t);i&&(i.isActive=!0,n("#"+i.id).addClass("easytree-active"))}};this.toggleNode=function(n){var t=e(f,n);t&&g(event,f,t)};this.init(t,i)}}(jQuery);!function(n){if("function"==typeof define&&define.amd)define(n);else if("object"==typeof exports)module.exports=n();else{var i=window.Cookies,t=window.Cookies=n(window.jQuery);t.noConflict=function(){return window.Cookies=i,t}}}(function(){function n(){for(var i,r,n=0,t={};n<arguments.length;n++){i=arguments[n];for(r in i)t[r]=i[r]}return t}function t(i){function r(t,u,f){var o,s;if(arguments.length>1){(f=n({path:"/"},r.defaults,f),"number"==typeof f.expires)&&(s=new Date,s.setMilliseconds(s.getMilliseconds()+864e5*f.expires),f.expires=s);try{o=JSON.stringify(u);/^[\{\[]/.test(o)&&(u=o)}catch(y){}return u=encodeURIComponent(String(u)),u=u.replace(/%(23|24|26|2B|3A|3C|3E|3D|2F|3F|40|5B|5D|5E|60|7B|7D|7C)/g,decodeURIComponent),t=encodeURIComponent(String(t)),t=t.replace(/%(23|24|26|2B|5E|60|7C)/g,decodeURIComponent),t=t.replace(/[\(\)]/g,escape),document.cookie=[t,"=",u,f.expires&&"; expires="+f.expires.toUTCString(),f.path&&"; path="+f.path,f.domain&&"; domain="+f.domain,f.secure?"; secure":""].join("")}t||(o={});for(var l=document.cookie?document.cookie.split("; "):[],a=/(%[0-9A-Z]{2})+/g,h=0;h<l.length;h++){var v=l[h].split("="),c=v[0].replace(a,decodeURIComponent),e=v.slice(1).join("=");if('"'===e.charAt(0)&&(e=e.slice(1,-1)),e=i&&i(e,c)||e.replace(a,decodeURIComponent),this.json)try{e=JSON.parse(e)}catch(y){}if(t===c){o=e;break}t||(o[c]=e)}return o}return r.get=r.set=r,r.getJSON=function(){return r.apply({json:!0},[].slice.call(arguments))},r.defaults={},r.remove=function(t,i){r(t,"",n(i,{expires:-1}))},r.withConverter=t,r}return t()});!function(n,t){"use strict";"undefined"!=typeof module&&module.exports?module.exports=t(require("jquery")):"function"==typeof define&&define.amd?define(["jquery"],function(n){return t(n)}):t(n.jQuery)}(this,function(n){"use strict";var t=function(t,i){this.$element=n(t);this.options=n.extend({},n.fn.typeahead.defaults,i);this.matcher=this.options.matcher||this.matcher;this.sorter=this.options.sorter||this.sorter;this.select=this.options.select||this.select;this.autoSelect="boolean"==typeof this.options.autoSelect?this.options.autoSelect:!0;this.highlighter=this.options.highlighter||this.highlighter;this.render=this.options.render||this.render;this.updater=this.options.updater||this.updater;this.displayText=this.options.displayText||this.displayText;this.source=this.options.source;this.delay=this.options.delay;this.$menu=n(this.options.menu);this.$appendTo=this.options.appendTo?n(this.options.appendTo):null;this.shown=!1;this.listen();this.showHintOnFocus="boolean"==typeof this.options.showHintOnFocus?this.options.showHintOnFocus:!1;this.afterSelect=this.options.afterSelect;this.addItem=!1},i;t.prototype={constructor:t,select:function(){var t=this.$menu.find(".active").data("value"),n;return(this.$element.data("active",t),this.autoSelect||t)&&(n=this.updater(t),this.$element.val(this.displayText(n)||n).change(),this.afterSelect(n)),this.hide()},updater:function(n){return n},setSource:function(n){this.source=n},show:function(){var i,t=n.extend({},this.$element.position(),{height:this.$element[0].offsetHeight});return i="function"==typeof this.options.scrollHeight?this.options.scrollHeight.call():this.options.scrollHeight,(this.$appendTo?this.$menu.appendTo(this.$appendTo):this.$menu.insertAfter(this.$element)).css({top:t.top+t.height+i,left:t.left}).show(),this.shown=!0,this},hide:function(){return this.$menu.hide(),this.shown=!1,this},lookup:function(t){if(this.query="undefined"!=typeof t&&null!==t?t:this.$element.val()||"",this.query.length<this.options.minLength)return this.shown?this.hide():this;var i=n.proxy(function(){n.isFunction(this.source)?this.source(this.query,n.proxy(this.process,this)):this.source&&this.process(this.source)},this);clearTimeout(this.lookupWorker);this.lookupWorker=setTimeout(i,this.delay)},process:function(t){var i=this;return t=n.grep(t,function(n){return i.matcher(n)}),t=this.sorter(t),t.length||this.options.addItem?(t.length>0?this.$element.data("active",t[0]):this.$element.data("active",null),this.options.addItem&&t.push(this.options.addItem),"all"==this.options.items?this.render(t).show():this.render(t.slice(0,this.options.items)).show()):this.shown?this.hide():this},matcher:function(n){var t=this.displayText(n);return~t.toLowerCase().indexOf(this.query.toLowerCase())},sorter:function(n){for(var i,t,r=[],u=[],f=[];t=n.shift();)i=this.displayText(t),i.toLowerCase().indexOf(this.query.toLowerCase())?~i.indexOf(this.query)?u.push(t):f.push(t):r.push(t);return r.concat(u,f)},highlighter:function(t){var r,e,o,s,h,u=n("<div><\/div>"),f=this.query,i=t.toLowerCase().indexOf(f.toLowerCase());if(r=f.length,0===r)return u.text(t).html();for(;i>-1;)e=t.substr(0,i),o=t.substr(i,r),s=t.substr(i+r),h=n("<strong><\/strong>").text(o),u.append(document.createTextNode(e)).append(h),t=s,i=t.toLowerCase().indexOf(f.toLowerCase());return u.append(document.createTextNode(t)).html()},render:function(t){var r=this,i=this,u=!1;return t=n(t).map(function(t,f){var e=i.displayText(f);return t=n(r.options.item).data("value",f),t.find("a").html(r.highlighter(e)),e==i.$element.val()&&(t.addClass("active"),i.$element.data("active",f),u=!0),t[0]}),this.autoSelect&&!u&&(t.first().addClass("active"),this.$element.data("active",t.first().data("value"))),this.$menu.html(t),this},displayText:function(n){return n.name||n},next:function(){var i=this.$menu.find(".active").removeClass("active"),t=i.next();t.length||(t=n(this.$menu.find("li")[0]));t.addClass("active")},prev:function(){var t=this.$menu.find(".active").removeClass("active"),n=t.prev();n.length||(n=this.$menu.find("li").last());n.addClass("active")},listen:function(){this.$element.on("focus",n.proxy(this.focus,this)).on("blur",n.proxy(this.blur,this)).on("keypress",n.proxy(this.keypress,this)).on("keyup",n.proxy(this.keyup,this));this.eventSupported("keydown")&&this.$element.on("keydown",n.proxy(this.keydown,this));this.$menu.on("click",n.proxy(this.click,this)).on("mouseenter","li",n.proxy(this.mouseenter,this)).on("mouseleave","li",n.proxy(this.mouseleave,this))},destroy:function(){this.$element.data("typeahead",null);this.$element.data("active",null);this.$element.off("focus").off("blur").off("keypress").off("keyup");this.eventSupported("keydown")&&this.$element.off("keydown");this.$menu.remove()},eventSupported:function(n){var t=n in this.$element;return t||(this.$element.setAttribute(n,"return;"),t="function"==typeof this.$element[n]),t},move:function(n){if(this.shown){switch(n.keyCode){case 9:case 13:case 27:n.preventDefault();break;case 38:if(n.shiftKey)return;n.preventDefault();this.prev();break;case 40:if(n.shiftKey)return;n.preventDefault();this.next()}n.stopPropagation()}},keydown:function(t){this.suppressKeyPressRepeat=~n.inArray(t.keyCode,[40,38,9,13,27]);this.shown||40!=t.keyCode?this.move(t):this.lookup()},keypress:function(n){this.suppressKeyPressRepeat||this.move(n)},keyup:function(n){switch(n.keyCode){case 40:case 38:case 16:case 17:case 18:break;case 9:case 13:if(!this.shown)return;this.select();break;case 27:if(!this.shown)return;this.hide();break;default:this.lookup()}n.stopPropagation();n.preventDefault()},focus:function(){this.focused||(this.focused=!0,this.options.showHintOnFocus&&this.lookup(""))},blur:function(){this.focused=!1;!this.mousedover&&this.shown&&this.hide()},click:function(n){n.stopPropagation();n.preventDefault();this.select();this.$element.focus()},mouseenter:function(t){this.mousedover=!0;this.$menu.find(".active").removeClass("active");n(t.currentTarget).addClass("active")},mouseleave:function(){this.mousedover=!1;!this.focused&&this.shown&&this.hide()}};i=n.fn.typeahead;n.fn.typeahead=function(i){var r=arguments;return"string"==typeof i&&"getActive"==i?this.data("active"):this.each(function(){var f=n(this),u=f.data("typeahead"),e="object"==typeof i&&i;u||f.data("typeahead",u=new t(this,e));"string"==typeof i&&(r.length>1?u[i].apply(u,Array.prototype.slice.call(r,1)):u[i]())})};n.fn.typeahead.defaults={source:[],items:8,menu:'<ul class="typeahead dropdown-menu" role="listbox"><\/ul>',item:'<li><a href="#" role="option"><\/a><\/li>',minLength:1,scrollHeight:0,autoSelect:!0,afterSelect:n.noop,delay:0,addItem:!1};n.fn.typeahead.Constructor=t;n.fn.typeahead.noConflict=function(){return n.fn.typeahead=i,this};n(document).on("focus.typeahead.data-api",'[data-provide="typeahead"]',function(){var t=n(this);t.data("typeahead")||t.typeahead(t.data())})});!function(n){"use strict";"function"==typeof define&&define.amd?define(["jquery"],n):window.jQuery&&!window.jQuery.fn.colorpicker&&n(window.jQuery)}(function(n){"use strict";var t=function(n){this.value={h:0,s:0,b:0,a:1};this.origFormat=null;n&&(void 0!==n.toLowerCase?(n+="",this.setColor(n)):void 0!==n.h&&(this.value=n))},r,i;t.prototype={constructor:t,colors:{aliceblue:"#f0f8ff",antiquewhite:"#faebd7",aqua:"#00ffff",aquamarine:"#7fffd4",azure:"#f0ffff",beige:"#f5f5dc",bisque:"#ffe4c4",black:"#000000",blanchedalmond:"#ffebcd",blue:"#0000ff",blueviolet:"#8a2be2",brown:"#a52a2a",burlywood:"#deb887",cadetblue:"#5f9ea0",chartreuse:"#7fff00",chocolate:"#d2691e",coral:"#ff7f50",cornflowerblue:"#6495ed",cornsilk:"#fff8dc",crimson:"#dc143c",cyan:"#00ffff",darkblue:"#00008b",darkcyan:"#008b8b",darkgoldenrod:"#b8860b",darkgray:"#a9a9a9",darkgreen:"#006400",darkkhaki:"#bdb76b",darkmagenta:"#8b008b",darkolivegreen:"#556b2f",darkorange:"#ff8c00",darkorchid:"#9932cc",darkred:"#8b0000",darksalmon:"#e9967a",darkseagreen:"#8fbc8f",darkslateblue:"#483d8b",darkslategray:"#2f4f4f",darkturquoise:"#00ced1",darkviolet:"#9400d3",deeppink:"#ff1493",deepskyblue:"#00bfff",dimgray:"#696969",dodgerblue:"#1e90ff",firebrick:"#b22222",floralwhite:"#fffaf0",forestgreen:"#228b22",fuchsia:"#ff00ff",gainsboro:"#dcdcdc",ghostwhite:"#f8f8ff",gold:"#ffd700",goldenrod:"#daa520",gray:"#808080",green:"#008000",greenyellow:"#adff2f",honeydew:"#f0fff0",hotpink:"#ff69b4","indianred ":"#cd5c5c","indigo ":"#4b0082",ivory:"#fffff0",khaki:"#f0e68c",lavender:"#e6e6fa",lavenderblush:"#fff0f5",lawngreen:"#7cfc00",lemonchiffon:"#fffacd",lightblue:"#add8e6",lightcoral:"#f08080",lightcyan:"#e0ffff",lightgoldenrodyellow:"#fafad2",lightgrey:"#d3d3d3",lightgreen:"#90ee90",lightpink:"#ffb6c1",lightsalmon:"#ffa07a",lightseagreen:"#20b2aa",lightskyblue:"#87cefa",lightslategray:"#778899",lightsteelblue:"#b0c4de",lightyellow:"#ffffe0",lime:"#00ff00",limegreen:"#32cd32",linen:"#faf0e6",magenta:"#ff00ff",maroon:"#800000",mediumaquamarine:"#66cdaa",mediumblue:"#0000cd",mediumorchid:"#ba55d3",mediumpurple:"#9370d8",mediumseagreen:"#3cb371",mediumslateblue:"#7b68ee",mediumspringgreen:"#00fa9a",mediumturquoise:"#48d1cc",mediumvioletred:"#c71585",midnightblue:"#191970",mintcream:"#f5fffa",mistyrose:"#ffe4e1",moccasin:"#ffe4b5",navajowhite:"#ffdead",navy:"#000080",oldlace:"#fdf5e6",olive:"#808000",olivedrab:"#6b8e23",orange:"#ffa500",orangered:"#ff4500",orchid:"#da70d6",palegoldenrod:"#eee8aa",palegreen:"#98fb98",paleturquoise:"#afeeee",palevioletred:"#d87093",papayawhip:"#ffefd5",peachpuff:"#ffdab9",peru:"#cd853f",pink:"#ffc0cb",plum:"#dda0dd",powderblue:"#b0e0e6",purple:"#800080",red:"#ff0000",rosybrown:"#bc8f8f",royalblue:"#4169e1",saddlebrown:"#8b4513",salmon:"#fa8072",sandybrown:"#f4a460",seagreen:"#2e8b57",seashell:"#fff5ee",sienna:"#a0522d",silver:"#c0c0c0",skyblue:"#87ceeb",slateblue:"#6a5acd",slategray:"#708090",snow:"#fffafa",springgreen:"#00ff7f",steelblue:"#4682b4",tan:"#d2b48c",teal:"#008080",thistle:"#d8bfd8",tomato:"#ff6347",turquoise:"#40e0d0",violet:"#ee82ee",wheat:"#f5deb3",white:"#ffffff",whitesmoke:"#f5f5f5",yellow:"#ffff00",yellowgreen:"#9acd32",transparent:"transparent"},_sanitizeNumber:function(n){return"number"==typeof n?n:isNaN(n)||null===n||""===n||void 0===n?1:void 0!==n.toLowerCase?parseFloat(n):1},isTransparent:function(n){return n?(n=n.toLowerCase().trim(),"transparent"===n||n.match(/#?00000000/)||n.match(/(rgba|hsla)\(0,0,0,0?\.?0\)/)):!1},rgbaIsTransparent:function(n){return 0===n.r&&0===n.g&&0===n.b&&0===n.a},setColor:function(n){n=n.toLowerCase().trim();n&&(this.value=this.isTransparent(n)?{h:0,s:0,b:0,a:0}:this.stringToHSB(n)||{h:0,s:0,b:0,a:1})},stringToHSB:function(t){t=t.toLowerCase();var i=this,r=!1;return n.each(this.stringParsers,function(n,u){var e=u.re.exec(t),f=e&&u.parse.apply(i,[e]),o=u.format||"rgba";return f?(r=o.match(/hsla?/)?i.RGBtoHSB.apply(i,i.HSLtoRGB.apply(i,f)):i.RGBtoHSB.apply(i,f),i.origFormat=o,!1):!0}),r},setHue:function(n){this.value.h=1-n},setSaturation:function(n){this.value.s=n},setBrightness:function(n){this.value.b=1-n},setAlpha:function(n){this.value.a=parseInt(100*(1-n),10)/100},toRGB:function(n,t,i,r){n||(n=this.value.h,t=this.value.s,i=this.value.b);n*=360;var e,o,s,f,u;return n=n%360/60,u=i*t,f=u*(1-Math.abs(n%2-1)),e=o=s=i-u,n=~~n,e+=[u,f,0,0,f,u][n],o+=[f,u,u,f,0,0][n],s+=[0,0,f,u,u,f][n],{r:Math.round(255*e),g:Math.round(255*o),b:Math.round(255*s),a:r||this.value.a}},toHex:function(n,t,i,r){var u=this.toRGB(n,t,i,r);return this.rgbaIsTransparent(u)?"transparent":"#"+(16777216|parseInt(u.r)<<16|parseInt(u.g)<<8|parseInt(u.b)).toString(16).substr(1)},toHSL:function(n,t,i,r){n=n||this.value.h;t=t||this.value.s;i=i||this.value.b;r=r||this.value.a;var e=n,u=(2-t)*i,f=t*i;return f/=u>0&&1>=u?u:2-u,u/=2,f>1&&(f=1),{h:isNaN(e)?0:e,s:isNaN(f)?0:f,l:isNaN(u)?0:u,a:isNaN(r)?0:r}},toAlias:function(n,t,i,r){var f=this.toHex(n,t,i,r),u;for(u in this.colors)if(this.colors[u]===f)return u;return!1},RGBtoHSB:function(n,t,i,r){n/=255;t/=255;i/=255;var e,o,f,u;return f=Math.max(n,t,i),u=f-Math.min(n,t,i),e=0===u?null:f===n?(t-i)/u:f===t?(i-n)/u+2:(n-t)/u+4,e=(e+360)%6/6,o=0===u?0:u/f,{h:this._sanitizeNumber(e),s:o,b:f,a:this._sanitizeNumber(r)}},HueToRGB:function(n,t,i){return 0>i?i+=1:i>1&&(i-=1),1>6*i?n+(t-n)*i*6:1>2*i?t:2>3*i?n+(t-n)*(2/3-i)*6:n},HSLtoRGB:function(n,t,i,r){var u;0>t&&(t=0);u=.5>=i?i*(1+t):i+t-i*t;var f=2*i-u,e=n+1/3,o=n,s=n-1/3,h=Math.round(255*this.HueToRGB(f,u,e)),c=Math.round(255*this.HueToRGB(f,u,o)),l=Math.round(255*this.HueToRGB(f,u,s));return[h,c,l,this._sanitizeNumber(r)]},toString:function(n){n=n||"rgba";var t=!1;switch(n){case"rgb":return t=this.toRGB(),this.rgbaIsTransparent(t)?"transparent":"rgb("+t.r+","+t.g+","+t.b+")";case"rgba":return t=this.toRGB(),"rgba("+t.r+","+t.g+","+t.b+","+t.a+")";case"hsl":return t=this.toHSL(),"hsl("+Math.round(360*t.h)+","+Math.round(100*t.s)+"%,"+Math.round(100*t.l)+"%)";case"hsla":return t=this.toHSL(),"hsla("+Math.round(360*t.h)+","+Math.round(100*t.s)+"%,"+Math.round(100*t.l)+"%,"+t.a+")";case"hex":return this.toHex();case"alias":return this.toAlias()||this.toHex();default:return t}},stringParsers:[{re:/rgb\(\s*(\d{1,3})\s*,\s*(\d{1,3})\s*,\s*(\d{1,3})\s*?\)/,format:"rgb",parse:function(n){return[n[1],n[2],n[3],1]}},{re:/rgb\(\s*(\d+(?:\.\d+)?)\%\s*,\s*(\d+(?:\.\d+)?)\%\s*,\s*(\d+(?:\.\d+)?)\%\s*?\)/,format:"rgb",parse:function(n){return[2.55*n[1],2.55*n[2],2.55*n[3],1]}},{re:/rgba\(\s*(\d{1,3})\s*,\s*(\d{1,3})\s*,\s*(\d{1,3})\s*(?:,\s*(\d+(?:\.\d+)?)\s*)?\)/,format:"rgba",parse:function(n){return[n[1],n[2],n[3],n[4]]}},{re:/rgba\(\s*(\d+(?:\.\d+)?)\%\s*,\s*(\d+(?:\.\d+)?)\%\s*,\s*(\d+(?:\.\d+)?)\%\s*(?:,\s*(\d+(?:\.\d+)?)\s*)?\)/,format:"rgba",parse:function(n){return[2.55*n[1],2.55*n[2],2.55*n[3],n[4]]}},{re:/hsl\(\s*(\d+(?:\.\d+)?)\s*,\s*(\d+(?:\.\d+)?)\%\s*,\s*(\d+(?:\.\d+)?)\%\s*?\)/,format:"hsl",parse:function(n){return[n[1]/360,n[2]/100,n[3]/100,n[4]]}},{re:/hsla\(\s*(\d+(?:\.\d+)?)\s*,\s*(\d+(?:\.\d+)?)\%\s*,\s*(\d+(?:\.\d+)?)\%\s*(?:,\s*(\d+(?:\.\d+)?)\s*)?\)/,format:"hsla",parse:function(n){return[n[1]/360,n[2]/100,n[3]/100,n[4]]}},{re:/#?([a-fA-F0-9]{2})([a-fA-F0-9]{2})([a-fA-F0-9]{2})/,format:"hex",parse:function(n){return[parseInt(n[1],16),parseInt(n[2],16),parseInt(n[3],16),1]}},{re:/#?([a-fA-F0-9])([a-fA-F0-9])([a-fA-F0-9])/,format:"hex",parse:function(n){return[parseInt(n[1]+n[1],16),parseInt(n[2]+n[2],16),parseInt(n[3]+n[3],16),1]}},{re:/^([a-z]{3,})$/,format:"alias",parse:function(n){var i=this.colorNameToHex(n[0])||"#000000",t=this.stringParsers[6].re.exec(i);return t&&this.stringParsers[6].parse.apply(this,[t])}}],colorNameToHex:function(n){return"undefined"!=typeof this.colors[n.toLowerCase()]?this.colors[n.toLowerCase()]:!1}};r={horizontal:!1,inline:!1,color:!1,format:!1,input:"input",container:!1,component:".add-on, .input-group-addon",sliders:{saturation:{maxLeft:100,maxTop:100,callLeft:"setSaturation",callTop:"setBrightness"},hue:{maxLeft:0,maxTop:100,callLeft:!1,callTop:"setHue"},alpha:{maxLeft:0,maxTop:100,callLeft:!1,callTop:"setAlpha"}},slidersHorz:{saturation:{maxLeft:100,maxTop:100,callLeft:"setSaturation",callTop:"setBrightness"},hue:{maxLeft:100,maxTop:0,callLeft:"setHue",callTop:!1},alpha:{maxLeft:100,maxTop:0,callLeft:"setAlpha",callTop:!1}},template:'<div class="colorpicker dropdown-menu"><div class="colorpicker-saturation"><i><b><\/b><\/i><\/div><div class="colorpicker-hue"><i><\/i><\/div><div class="colorpicker-alpha"><i><\/i><\/div><div class="colorpicker-color"><div /><\/div><\/div>',align:"right",customClass:null};i=function(i,u){this.element=n(i).addClass("colorpicker-element");this.options=n.extend(!0,{},r,this.element.data(),u);this.component=this.options.component;this.component=this.component!==!1?this.element.find(this.component):!1;this.component&&0===this.component.length&&(this.component=!1);this.container=this.options.container===!0?this.element:this.options.container;this.container=this.container!==!1?n(this.container):!1;this.input=this.element.is("input")?this.element:this.options.input?this.element.find(this.options.input):!1;this.input&&0===this.input.length&&(this.input=!1);this.color=new t(this.options.color!==!1?this.options.color:this.getValue());this.format=this.options.format!==!1?this.options.format:this.color.origFormat;this.picker=n(this.options.template);this.options.customClass&&this.picker.addClass(this.options.customClass);this.options.inline?this.picker.addClass("colorpicker-inline colorpicker-visible"):this.picker.addClass("colorpicker-hidden");this.options.horizontal&&this.picker.addClass("colorpicker-horizontal");("rgba"===this.format||"hsla"===this.format||this.options.format===!1)&&this.picker.addClass("colorpicker-with-alpha");"right"===this.options.align&&this.picker.addClass("colorpicker-right");this.picker.on("mousedown.colorpicker touchstart.colorpicker",n.proxy(this.mousedown,this));this.picker.appendTo(this.container?this.container:n("body"));this.input!==!1&&(this.input.on({"keyup.colorpicker":n.proxy(this.keyup,this)}),this.component===!1&&this.element.on({"focus.colorpicker":n.proxy(this.show,this)}),this.options.inline===!1&&this.element.on({"focusout.colorpicker":n.proxy(this.hide,this)}));this.component!==!1&&this.component.on({"click.colorpicker":n.proxy(this.show,this)});this.input===!1&&this.component===!1&&this.element.on({"click.colorpicker":n.proxy(this.show,this)});this.input!==!1&&this.component!==!1&&"color"===this.input.attr("type")&&this.input.on({"click.colorpicker":n.proxy(this.show,this),"focus.colorpicker":n.proxy(this.show,this)});this.update();n(n.proxy(function(){this.element.trigger("create")},this))};i.Color=t;i.prototype={constructor:i,destroy:function(){this.picker.remove();this.element.removeData("colorpicker").off(".colorpicker");this.input!==!1&&this.input.off(".colorpicker");this.component!==!1&&this.component.off(".colorpicker");this.element.removeClass("colorpicker-element");this.element.trigger({type:"destroy"})},reposition:function(){if(this.options.inline!==!1||this.options.container)return!1;var i=this.container&&this.container[0]!==document.body?"position":"offset",n=this.component||this.element,t=n[i]();"right"===this.options.align&&(t.left-=this.picker.outerWidth()-n.outerWidth());this.picker.css({top:t.top+n.outerHeight(),left:t.left})},show:function(t){return this.isDisabled()?!1:(this.picker.addClass("colorpicker-visible").removeClass("colorpicker-hidden"),this.reposition(),n(window).on("resize.colorpicker",n.proxy(this.reposition,this)),!t||this.hasInput()&&"color"!==this.input.attr("type")||t.stopPropagation&&t.preventDefault&&(t.stopPropagation(),t.preventDefault()),this.options.inline===!1&&n(window.document).on({"mousedown.colorpicker":n.proxy(this.hide,this)}),void this.element.trigger({type:"showPicker",color:this.color}))},hide:function(){this.picker.addClass("colorpicker-hidden").removeClass("colorpicker-visible");n(window).off("resize.colorpicker",this.reposition);n(document).off({"mousedown.colorpicker":this.hide});this.update();this.element.trigger({type:"hidePicker",color:this.color})},updateData:function(n){return n=n||this.color.toString(this.format),this.element.data("color",n),n},updateInput:function(n){return n=n||this.color.toString(this.format),this.input!==!1&&this.input.prop("value",n),n},updatePicker:function(n){void 0!==n&&(this.color=new t(n));var i=this.options.horizontal===!1?this.options.sliders:this.options.slidersHorz,r=this.picker.find("i");if(0!==r.length)return(this.options.horizontal===!1?(i=this.options.sliders,r.eq(1).css("top",i.hue.maxTop*(1-this.color.value.h)).end().eq(2).css("top",i.alpha.maxTop*(1-this.color.value.a))):(i=this.options.slidersHorz,r.eq(1).css("left",i.hue.maxLeft*(1-this.color.value.h)).end().eq(2).css("left",i.alpha.maxLeft*(1-this.color.value.a))),r.eq(0).css({top:i.saturation.maxTop-this.color.value.b*i.saturation.maxTop,left:this.color.value.s*i.saturation.maxLeft}),this.picker.find(".colorpicker-saturation").css("backgroundColor",this.color.toHex(this.color.value.h,1,1,1)),this.picker.find(".colorpicker-alpha").css("backgroundColor",this.color.toHex()),this.picker.find(".colorpicker-color, .colorpicker-color div").css("backgroundColor",this.color.toString(this.format)),n)},updateComponent:function(n){if(n=n||this.color.toString(this.format),this.component!==!1){var t=this.component.find("i").eq(0);t.length>0?t.css({backgroundColor:n}):this.component.css({backgroundColor:n})}return n},update:function(n){var t;return(this.getValue(!1)!==!1||n===!0)&&(t=this.updateComponent(),this.updateInput(t),this.updateData(t),this.updatePicker()),t},setValue:function(n){this.color=new t(n);this.update();this.element.trigger({type:"changeColor",color:this.color,value:n})},getValue:function(n){n=void 0===n?"#000000":n;var t;return t=this.hasInput()?this.input.val():this.element.data("color"),(void 0===t||""===t||null===t)&&(t=n),t},hasInput:function(){return this.input!==!1},isDisabled:function(){return this.hasInput()?this.input.prop("disabled")===!0:!1},disable:function(){return this.hasInput()?(this.input.prop("disabled",!0),this.element.trigger({type:"disable",color:this.color,value:this.getValue()}),!0):!1},enable:function(){return this.hasInput()?(this.input.prop("disabled",!1),this.element.trigger({type:"enable",color:this.color,value:this.getValue()}),!0):!1},currentSlider:null,mousePointer:{left:0,top:0},mousedown:function(t){var u;t.pageX||t.pageY||!t.originalEvent||(t.pageX=t.originalEvent.touches[0].pageX,t.pageY=t.originalEvent.touches[0].pageY);t.stopPropagation();t.preventDefault();var f=n(t.target),i=f.closest("div"),r=this.options.horizontal?this.options.slidersHorz:this.options.sliders;if(!i.is(".colorpicker")){if(i.is(".colorpicker-saturation"))this.currentSlider=n.extend({},r.saturation);else if(i.is(".colorpicker-hue"))this.currentSlider=n.extend({},r.hue);else{if(!i.is(".colorpicker-alpha"))return!1;this.currentSlider=n.extend({},r.alpha)}u=i.offset();this.currentSlider.guide=i.find("i")[0].style;this.currentSlider.left=t.pageX-u.left;this.currentSlider.top=t.pageY-u.top;this.mousePointer={left:t.pageX,top:t.pageY};n(document).on({"mousemove.colorpicker":n.proxy(this.mousemove,this),"touchmove.colorpicker":n.proxy(this.mousemove,this),"mouseup.colorpicker":n.proxy(this.mouseup,this),"touchend.colorpicker":n.proxy(this.mouseup,this)}).trigger("mousemove")}return!1},mousemove:function(n){n.pageX||n.pageY||!n.originalEvent||(n.pageX=n.originalEvent.touches[0].pageX,n.pageY=n.originalEvent.touches[0].pageY);n.stopPropagation();n.preventDefault();var t=Math.max(0,Math.min(this.currentSlider.maxLeft,this.currentSlider.left+((n.pageX||this.mousePointer.left)-this.mousePointer.left))),i=Math.max(0,Math.min(this.currentSlider.maxTop,this.currentSlider.top+((n.pageY||this.mousePointer.top)-this.mousePointer.top)));return this.currentSlider.guide.left=t+"px",this.currentSlider.guide.top=i+"px",this.currentSlider.callLeft&&this.color[this.currentSlider.callLeft].call(this.color,t/this.currentSlider.maxLeft),this.currentSlider.callTop&&this.color[this.currentSlider.callTop].call(this.color,i/this.currentSlider.maxTop),"setAlpha"===this.currentSlider.callTop&&this.options.format===!1&&(1!==this.color.value.a?(this.format="rgba",this.color.origFormat="rgba"):(this.format="hex",this.color.origFormat="hex")),this.update(!0),this.element.trigger({type:"changeColor",color:this.color}),!1},mouseup:function(t){return t.stopPropagation(),t.preventDefault(),n(document).off({"mousemove.colorpicker":this.mousemove,"touchmove.colorpicker":this.mousemove,"mouseup.colorpicker":this.mouseup,"touchend.colorpicker":this.mouseup}),!1},keyup:function(n){38===n.keyCode?(this.color.value.a<1&&(this.color.value.a=Math.round(100*(this.color.value.a+.01))/100),this.update(!0)):40===n.keyCode?(this.color.value.a>0&&(this.color.value.a=Math.round(100*(this.color.value.a-.01))/100),this.update(!0)):(this.color=new t(this.input.val()),this.color.origFormat&&this.options.format===!1&&(this.format=this.color.origFormat),this.getValue(!1)!==!1&&(this.updateData(),this.updateComponent(),this.updatePicker()));this.element.trigger({type:"changeColor",color:this.color,value:this.input.val()})}};n.colorpicker=i;n.fn.colorpicker=function(t){var r,u=arguments,f=this.each(function(){var e=n(this),f=e.data("colorpicker"),o="object"==typeof t?t:{};f||"string"==typeof t?"string"==typeof t&&(r=f[t].apply(f,Array.prototype.slice.call(u,1))):e.data("colorpicker",new i(this,o))});return"getValue"===t?r:f};n.fn.colorpicker.constructor=i});var App=function(){var n,o,t,u,s,h,c,r,f,l=function(){var l,a,w;if(n=$("#page-container"),t=$("header"),o=$("#page-content"),u=$("#sidebar"),s=$("#sidebar-brand"),h=$("#sidebar-extra-info"),r=$("#sidebar-scroll"),c=$("#sidebar-alt"),f=$("#sidebar-scroll-alt"),p(),i("init"),v(),t.hasClass("navbar-fixed-top")||t.hasClass("navbar-fixed-bottom"))$(window).on("scroll",function(){$(this).scrollTop()>50?t.addClass("navbar-glass"):t.removeClass("navbar-glass")});$(window).on("resize orientationchange",function(){e()}).resize();l=$("#year-copy");a=new Date;a.getFullYear()===2014?l.html("2014"):l.html("2014-"+a.getFullYear().toString().substr(2,2));y($(".btn-effect-ripple"),"btn-ripple");$('[data-toggle="tabs"] a, .enable-tabs a').click(function(n){n.preventDefault();$(this).tab("show")});$('[data-toggle="tooltip"], .enable-tooltip').tooltip({container:"body",animation:!1});$('[data-toggle="popover"], .enable-popover').popover({container:"body",animation:!0,html:!0});$('[data-toggle="lightbox-image"]').magnificPopup({type:"image",image:{titleSrc:"title"}});$('[data-toggle="lightbox-gallery"]').each(function(){$(this).magnificPopup({delegate:"a",type:"image",gallery:{enabled:!0,navigateByImgClick:!0,arrowMarkup:'<button type="button" class="mfp-arrow mfp-arrow-%dir%" title="%title%"><\/button>',tPrev:"Previous",tNext:"Next",tCounter:'<span class="mfp-counter">%curr% of %total%<\/span>'},image:{titleSrc:"title"}})});w=["Afghanistan","Albania","Algeria","American Samoa","Andorra","Angola","Anguilla","Antarctica","Antigua and Barbuda","Argentina","Armenia","Aruba","Australia","Austria","Azerbaijan","Bahrain","Bangladesh","Barbados","Belarus","Belgium","Belize","Benin","Bermuda","Bhutan","Bolivia","Bosnia and Herzegovina","Botswana","Bouvet Island","Brazil","British Indian Ocean Territory","British Virgin Islands","Brunei","Bulgaria","Burkina Faso","Burundi","Cte d'Ivoire","Cambodia","Cameroon","Canada","Cape Verde","Cayman Islands","Central African Republic","Chad","Chile","China","Christmas Island","Cocos (Keeling) Islands","Colombia","Comoros","Congo","Cook Islands","Costa Rica","Croatia","Cuba","Cyprus","Czech Republic","Democratic Republic of the Congo","Denmark","Djibouti","Dominica","Dominican Republic","East Timor","Ecuador","Egypt","El Salvador","Equatorial Guinea","Eritrea","Estonia","Ethiopia","Faeroe Islands","Falkland Islands","Fiji","Finland","Former Yugoslav Republic of Macedonia","France","French Guiana","French Polynesia","French Southern Territories","Gabon","Georgia","Germany","Ghana","Gibraltar","Greece","Greenland","Grenada","Guadeloupe","Guam","Guatemala","Guinea","Guinea-Bissau","Guyana","Haiti","Heard Island and McDonald Islands","Honduras","Hong Kong","Hungary","Iceland","India","Indonesia","Iran","Iraq","Ireland","Israel","Italy","Jamaica","Japan","Jordan","Kazakhstan","Kenya","Kiribati","Kuwait","Kyrgyzstan","Laos","Latvia","Lebanon","Lesotho","Liberia","Libya","Liechtenstein","Lithuania","Luxembourg","Macau","Madagascar","Malawi","Malaysia","Maldives","Mali","Malta","Marshall Islands","Martinique","Mauritania","Mauritius","Mayotte","Mexico","Micronesia","Moldova","Monaco","Mongolia","Montserrat","Morocco","Mozambique","Myanmar","Namibia","Nauru","Nepal","Netherlands","Netherlands Antilles","New Caledonia","New Zealand","Nicaragua","Niger","Nigeria","Niue","Norfolk Island","North Korea","Northern Marianas","Norway","Oman","Pakistan","Palau","Panama","Papua New Guinea","Paraguay","Peru","Philippines","Pitcairn Islands","Poland","Portugal","Puerto Rico","Qatar","Runion","Romania","Russia","Rwanda","So Tom and Prncipe","Saint Helena","Saint Kitts and Nevis","Saint Lucia","Saint Pierre and Miquelon","Saint Vincent and the Grenadines","Samoa","San Marino","Saudi Arabia","Senegal","Seychelles","Sierra Leone","Singapore","Slovakia","Slovenia","Solomon Islands","Somalia","South Africa","South Georgia and the South Sandwich Islands","South Korea","Spain","Sri Lanka","Sudan","Suriname","Svalbard and Jan Mayen","Swaziland","Sweden","Switzerland","Syria","Taiwan","Tajikistan","Tanzania","Thailand","The Bahamas","The Gambia","Togo","Tokelau","Tonga","Trinidad and Tobago","Tunisia","Turkey","Turkmenistan","Turks and Caicos Islands","Tuvalu","US Virgin Islands","Uganda","Ukraine","United Arab Emirates","United Kingdom","United States","United States Minor Outlying Islands","Uruguay","Uzbekistan","Vanuatu","Vatican City","Venezuela","Vietnam","Wallis and Futuna","Western Sahara","Yemen","Yugoslavia","Zambia","Zimbabwe"];$(".input-typeahead").typeahead({source:w});$(".select-chosen").chosen({width:"100%"});$(".select-select2").select2();$(".input-slider").slider();$(".input-tags").tagsInput({width:"auto",height:"auto"});$(".input-timepicker").timepicker({minuteStep:1,showSeconds:!0,showMeridian:!0});$(".input-timepicker24").timepicker({minuteStep:1,showSeconds:!0,showMeridian:!1});$(".input-datepicker, .input-daterange").datepicker({weekStart:1}).on("changeDate",function(){$(this).datepicker("hide")});$(".input-colorpicker").colorpicker({format:"hex"});$(".input-colorpicker-rgba").colorpicker({format:"rgba"});$(".pie-chart").easyPieChart({barColor:$(this).data("bar-color")?$(this).data("bar-color"):"#777777",trackColor:$(this).data("track-color")?$(this).data("track-color"):"#eeeeee",lineWidth:$(this).data("line-width")?$(this).data("line-width"):3,size:$(this).data("size")?$(this).data("size"):"80",animate:800,scaleColor:!1});$(".toggle-menu .submenu").on("click",function(){$(this).parent("li").toggleClass("open")});$("input, textarea").placeholder()},a=function(){var t=$("#page-wrapper");t.hasClass("page-loading")&&(n.hasClass("enable-cookies")?setTimeout(function(){t.removeClass("page-loading")},100):t.removeClass("page-loading"))},v=function(){var t=$(".sidebar-nav a",u),i=$(".sidebar-nav-menu",u),r=$(".sidebar-nav-submenu",u);t.on("click",function(n){var i=$(this),r,f,e,t;u.find(".sidebar-nav-ripple").removeClass("animate");i.children(".sidebar-nav-ripple").length===0&&i.prepend('<span class="sidebar-nav-ripple"><\/span>');t=i.children(".sidebar-nav-ripple");t.height()||t.width()||(r=Math.max(i.outerWidth(),i.outerHeight()),t.css({height:r,width:r}));f=n.pageX-i.offset().left-t.width()/2;e=n.pageY-i.offset().top-t.height()/2;t.css({top:e+"px",left:f+"px"}).addClass("animate")});i.on("click",function(){var t=$(this),i=window.innerWidth||document.documentElement.clientWidth||document.body.clientWidth;return n.hasClass("sidebar-visible-lg-mini")&&i>991?t.hasClass("open")?t.removeClass("open"):($("#sidebar .sidebar-nav-menu.open").removeClass("open"),t.addClass("open")):t.parent().hasClass("active")||(t.hasClass("open")?t.removeClass("open"):($("#sidebar .sidebar-nav-menu.open").removeClass("open"),t.addClass("open")),setTimeout(e,50)),!1});r.on("click",function(){var n=$(this);return n.parent().hasClass("active")!==!0&&(n.hasClass("open")?n.removeClass("open"):(n.closest("ul").find(".sidebar-nav-submenu.open").removeClass("open"),n.addClass("open")),setTimeout(e,50)),!1})},y=function(n,t){n.css({overflow:"hidden",position:"relative"});n.on("click",function(n){var i=$(this),u,f,e,r;i.children("."+t).length===0?i.prepend('<span class="'+t+'"><\/span>'):i.children("."+t).removeClass("animate");r=i.children("."+t);r.height()||r.width()||(u=Math.max(i.outerWidth(),i.outerHeight()),r.css({height:u,width:u}));f=n.pageX-i.offset().left-r.width()/2;e=n.pageY-i.offset().top-r.height()/2;r.css({top:e+"px",left:f+"px"}).addClass("animate")})},i=function(u){var a,o,l,v;if(u==="init"){i("sidebar-scroll");i("sidebar-alt-scroll");$(window).on("resize orientationchange",function(){clearTimeout(a);a=setTimeout(function(){i("sidebar-scroll")},150)})}else if(o=window.innerWidth||document.documentElement.clientWidth||document.body.clientWidth,u==="toggle-sidebar")$("#main-container").removeAttr("style"),$("#sidebar").removeAttr("style"),$("#sidebar-content").removeAttr("style"),o>991?(n.hasClass("sidebar-visible-lg-full")?n.removeClass("sidebar-visible-lg-full").addClass("sidebar-visible-lg-mini"):n.hasClass("sidebar-visible-lg-mini")?n.removeClass("sidebar-visible-lg-mini").addClass("sidebar-visible-lg-full"):n.addClass("sidebar-visible-lg-mini"),setTimeout(e,50)):(n.toggleClass("sidebar-visible-xs"),n.hasClass("sidebar-visible-xs")&&i("close-sidebar-alt")),i("sidebar-scroll");else if(u==="open-sidebar")o>991?n.removeClass("sidebar-visible-lg-mini").addClass("sidebar-visible-lg-full"):(n.addClass("sidebar-visible-xs"),i("close-sidebar-alt")),i("sidebar-scroll"),setTimeout(e,50);else if(u==="close-sidebar")o>991?n.removeClass("sidebar-visible-lg-full").addClass("sidebar-visible-lg-mini"):n.removeClass("sidebar-visible-xs"),i("sidebar-scroll");else if(u==="toggle-sidebar-alt")o>991?n.toggleClass("sidebar-alt-visible-lg"):(n.toggleClass("sidebar-alt-visible-xs"),n.hasClass("sidebar-alt-visible-xs")&&i("close-sidebar"));else if(u==="open-sidebar-alt")o>991?n.addClass("sidebar-alt-visible-lg"):(n.addClass("sidebar-alt-visible-xs"),i("close-sidebar"));else if(u==="close-sidebar-alt")o>991?n.removeClass("sidebar-alt-visible-lg"):n.removeClass("sidebar-alt-visible-xs");else if(u==="sidebar-scroll")n.hasClass("sidebar-visible-lg-mini")&&o>991?r.length&&r.parent(".slimScrollDiv").length&&(r.slimScroll({destroy:!0}),r.attr("style","")):(t.hasClass("navbar-fixed-top")||t.hasClass("navbar-fixed-bottom"))&&(l=$(window).height()-((s.css("display")==="none"?0:s.outerHeight())+(h.css("display")==="none"?0:h.outerHeight())),o<992&&(l=l-50),r.length&&!r.parent(".slimScrollDiv").length?r.slimScroll({height:l,color:"#bbbbbb",size:"3px",touchScrollStep:100,railVisible:!1,railOpacity:1}):r.add(r.parent()).css("height",l));else if(u==="sidebar-alt-scroll")if(f.length&&!f.parent(".slimScrollDiv").length){f.slimScroll({height:c.outerHeight(),color:"#bbbbbb",size:"3px",touchScrollStep:100,railVisible:!1,railOpacity:1});$(window).on("resize orientationchange",function(){clearTimeout(v);v=setTimeout(function(){i("sidebar-alt-scroll")},150)})}else f.add(f.parent()).css("height",c.outerHeight())},e=function(){var n=$(window).height(),i=t.outerHeight(),r=u.outerHeight();t.hasClass("navbar-fixed-top")||t.hasClass("navbar-fixed-bottom")?o.css("min-height",n):r>n?o.css("min-height",r-i):o.css("min-height",n-i)},p=function(){var h=$(".sidebar-themes"),i=$("#theme-link"),r=i.length?i.attr("href"):"default",f=t.hasClass("navbar-inverse")?"navbar-inverse":"navbar-default",e=n.hasClass("sidebar-light")?"sidebar-light":"",c=n.hasClass("enable-cookies")?!0:!1,u,o,s;c&&(u=Cookies.get("optionThemeColor")?Cookies.get("optionThemeColor"):!1,o=Cookies.get("optionThemeHeader")?Cookies.get("optionThemeHeader"):!1,s=Cookies.get("optionThemeSidebar")?Cookies.get("optionThemeSidebar"):!1,o?t.removeClass("navbar-inverse navbar-default").addClass(o):!1,s?n.removeClass("sidebar-light").addClass(s):!1,u&&(u==="default"?i.length&&(i.remove(),i=$("#theme-link")):i.length?i.attr("href",u):($('link[href="css/themes.css"]').before('<link id="theme-link" rel="stylesheet" href="'+u+'">'),i=$("#theme-link"))),r=u?u:r,f=o?o:f,e=s?s:e);$('a[data-theme="'+r+'"][data-theme-navbar="'+f+'"][data-theme-sidebar="'+e+'"]',h).parent("li").addClass("active");$("a",h).click(function(){r=$(this).data("theme");f=$(this).data("theme-navbar");e=$(this).data("theme-sidebar");$("li",h).removeClass("active");$(this).parent("li").addClass("active");t.removeClass("navbar-inverse navbar-default").addClass(f);n.removeClass("sidebar-light").addClass(e);r==="default"?i.length&&(i.remove(),i=$("#theme-link")):i.length?i.attr("href",r):($('link[href="css/themes.css"]').before('<link id="theme-link" rel="stylesheet" href="'+r+'">'),i=$("#theme-link"));c&&(Cookies.set("optionThemeColor",r,{expires:7}),Cookies.set("optionThemeHeader",f,{expires:7}),Cookies.set("optionThemeSidebar",e,{expires:7}))})},w=function(){$.extend(!0,$.fn.dataTable.defaults,{sDom:"<'row'<'col-sm-6 col-xs-5'l><'col-sm-6 col-xs-7'f>r>t<'row'<'col-sm-5 hidden-xs'i><'col-sm-7 col-xs-12 clearfix'p>>",sPaginationType:"bootstrap",oLanguage:{sLengthMenu:"_MENU_",sSearch:'<div class="input-group">_INPUT_<span class="input-group-addon"><i class="fa fa-search"><\/i><\/span><\/div>',sInfo:"<strong>_START_<\/strong>-<strong>_END_<\/strong> of <strong>_TOTAL_<\/strong>",oPaginate:{sPrevious:"",sNext:""}}});$.extend($.fn.dataTableExt.oStdClasses,{sWrapper:"dataTables_wrapper form-inline",sFilterInput:"form-control",sLengthSelect:"form-control"})},b=function(){var t=n.prop("class");n.prop("class","");window.print();n.prop("class",t)};return{init:function(){l();a()},sidebar:function(n,t){i(n,t)},datatables:function(){w()},pagePrint:function(){b()}}}();$(function(){App.init()});!function(n){"use strict";"function"==typeof define&&define.amd?define(["jquery"],n):"undefined"!=typeof module&&module.exports?module.exports=n(require("jquery")):n(jQuery)}(function(n,t){"use strict";var c,l,o,v;if(!n.jstree){var p=0,f=!1,u=!1,e=!1,y=[],a=n("script:last").attr("src"),i=window.document,h=i.createElement("LI"),r,s;if(h.setAttribute("role","treeitem"),r=i.createElement("I"),r.className="jstree-icon jstree-ocl",r.setAttribute("role","presentation"),h.appendChild(r),r=i.createElement("A"),r.className="jstree-anchor",r.setAttribute("href","#"),r.setAttribute("tabindex","-1"),s=i.createElement("I"),s.className="jstree-icon jstree-themeicon",s.setAttribute("role","presentation"),r.appendChild(s),h.appendChild(r),r=s=null,n.jstree={version:"3.2.1",defaults:{plugins:[]},plugins:{},path:a&&-1!==a.indexOf("/")?a.replace(/\/[^\/]+$/,""):"",idregex:/[\\:&!^|()\[\]<>@*'+~#";.,=\- \/${}%?`]/g,root:"#"},n.jstree.create=function(t,i){var r=new n.jstree.core(++p),u=i;return i=n.extend(!0,{},n.jstree.defaults,i),u&&u.plugins&&(i.plugins=u.plugins),n.each(i.plugins,function(n,t){"core"!==n&&(r=r.plugin(t,i[t]))}),n(t).data("jstree",r),r.init(t,i),r},n.jstree.destroy=function(){n(".jstree:jstree").jstree("destroy");n(i).off(".jstree")},n.jstree.core=function(n){this._id=n;this._cnt=0;this._wrk=null;this._data={core:{themes:{name:!1,dots:!1,icons:!1},selected:[],last_error:{},working:!1,worker_queue:[],focused:null}}},n.jstree.reference=function(t){var r=null,i=null;if(!t||!t.id||t.tagName&&t.nodeType||(t=t.id),!i||!i.length)try{i=n(t)}catch(u){}if(!i||!i.length)try{i=n("#"+t.replace(n.jstree.idregex,"\\$&"))}catch(u){}return i&&i.length&&(i=i.closest(".jstree")).length&&(i=i.data("jstree"))?r=i:n(".jstree").each(function(){var i=n(this).data("jstree");if(i&&i._model.data[t])return(r=i,!1)}),r},n.fn.jstree=function(i){var u="string"==typeof i,f=Array.prototype.slice.call(arguments,1),r=null;return i!==!0||this.length?(this.each(function(){var e=n.jstree.reference(this),o=u&&e?e[i]:null;return r=u&&o?o.apply(e,f):null,e||u||i!==t&&!n.isPlainObject(i)||n.jstree.create(this,i),(e&&!u||i===!0)&&(r=e||!1),null!==r&&r!==t?!1:void 0}),null!==r&&r!==t?r:this):!1},n.expr[":"].jstree=n.expr.createPseudo(function(){return function(i){return n(i).hasClass("jstree")&&n(i).data("jstree")!==t}}),n.jstree.defaults.core={data:!1,strings:!1,check_callback:!1,error:n.noop,animation:200,multiple:!0,themes:{name:!1,url:!1,dir:!1,dots:!0,icons:!0,stripes:!1,variant:!1,responsive:!1},expand_selected_onload:!0,worker:!0,force_text:!1,dblclick_toggle:!0},n.jstree.core.prototype={plugin:function(t,i){var r=n.jstree.plugins[t];return r?(this._data[t]={},r.prototype=this,new r(i,this)):this},init:function(t,i){this._model={data:{},changed:[],force_full_redraw:!1,redraw_timeout:!1,default_state:{loaded:!0,opened:!1,selected:!1,disabled:!1}};this._model.data[n.jstree.root]={id:n.jstree.root,parent:null,parents:[],children:[],children_d:[],state:{loaded:!1}};this.element=n(t).addClass("jstree jstree-"+this._id);this.settings=i;this._data.core.ready=!1;this._data.core.loaded=!1;this._data.core.rtl="rtl"===this.element.css("direction");this.element[this._data.core.rtl?"addClass":"removeClass"]("jstree-rtl");this.element.attr("role","tree");this.settings.core.multiple&&this.element.attr("aria-multiselectable",!0);this.element.attr("tabindex")||this.element.attr("tabindex","0");this.bind();this.trigger("init");this._data.core.original_container_html=this.element.find(" > ul > li").clone(!0);this._data.core.original_container_html.find("li").addBack().contents().filter(function(){return 3===this.nodeType&&(!this.nodeValue||/^\s+$/.test(this.nodeValue))}).remove();this.element.html("<ul class='jstree-container-ul jstree-children' role='group'><li id='j"+this._id+"_loading' class='jstree-initial-node jstree-loading jstree-leaf jstree-last' role='tree-item'><i class='jstree-icon jstree-ocl'><\/i><a class='jstree-anchor' href='#'><i class='jstree-icon jstree-themeicon-hidden'><\/i>"+this.get_string("Loading ...")+"<\/a><\/li><\/ul>");this.element.attr("aria-activedescendant","j"+this._id+"_loading");this._data.core.li_height=this.get_container_ul().children("li").first().height()||24;this.trigger("loading");this.load_node(n.jstree.root)},destroy:function(n){if(this._wrk)try{window.URL.revokeObjectURL(this._wrk);this._wrk=null}catch(t){}n||this.element.empty();this.teardown()},teardown:function(){this.unbind();this.element.removeClass("jstree").removeData("jstree").find("[class^='jstree']").addBack().attr("class",function(){return this.className.replace(/jstree[^ ]*|$/gi,"")});this.element=null},bind:function(){var t="",r=null,u=0;this.element.on("dblclick.jstree",function(n){if(n.target.tagName&&"input"===n.target.tagName.toLowerCase())return!0;if(i.selection&&i.selection.empty)i.selection.empty();else if(window.getSelection){var t=window.getSelection();try{t.removeAllRanges();t.collapse()}catch(r){}}}).on("mousedown.jstree",n.proxy(function(n){n.target===this.element[0]&&(n.preventDefault(),u=+new Date)},this)).on("mousedown.jstree",".jstree-ocl",function(n){n.preventDefault()}).on("click.jstree",".jstree-ocl",n.proxy(function(n){this.toggle_node(n.target)},this)).on("dblclick.jstree",".jstree-anchor",n.proxy(function(n){return n.target.tagName&&"input"===n.target.tagName.toLowerCase()?!0:void(this.settings.core.dblclick_toggle&&this.toggle_node(n.target))},this)).on("click.jstree",".jstree-anchor",n.proxy(function(t){t.preventDefault();t.currentTarget!==i.activeElement&&n(t.currentTarget).focus();this.activate_node(t.currentTarget,t)},this)).on("keydown.jstree",".jstree-anchor",n.proxy(function(t){if(t.target.tagName&&"input"===t.target.tagName.toLowerCase()||32!==t.which&&13!==t.which&&(t.shiftKey||t.ctrlKey||t.altKey||t.metaKey))return!0;var i=null;switch(this._data.core.rtl&&(37===t.which?t.which=39:39===t.which&&(t.which=37)),t.which){case 32:t.ctrlKey&&(t.type="click",n(t.currentTarget).trigger(t));break;case 13:t.type="click";n(t.currentTarget).trigger(t);break;case 37:t.preventDefault();this.is_open(t.currentTarget)?this.close_node(t.currentTarget):(i=this.get_parent(t.currentTarget),i&&i.id!==n.jstree.root&&this.get_node(i,!0).children(".jstree-anchor").focus());break;case 38:t.preventDefault();i=this.get_prev_dom(t.currentTarget);i&&i.length&&i.children(".jstree-anchor").focus();break;case 39:t.preventDefault();this.is_closed(t.currentTarget)?this.open_node(t.currentTarget,function(n){this.get_node(n,!0).children(".jstree-anchor").focus()}):this.is_open(t.currentTarget)&&(i=this.get_node(t.currentTarget,!0).children(".jstree-children")[0],i&&n(this._firstChild(i)).children(".jstree-anchor").focus());break;case 40:t.preventDefault();i=this.get_next_dom(t.currentTarget);i&&i.length&&i.children(".jstree-anchor").focus();break;case 106:this.open_all();break;case 36:t.preventDefault();i=this._firstChild(this.get_container_ul()[0]);i&&n(i).children(".jstree-anchor").filter(":visible").focus();break;case 35:t.preventDefault();this.element.find(".jstree-anchor").filter(":visible").last().focus()}},this)).on("load_node.jstree",n.proxy(function(t,i){i.status&&(i.node.id!==n.jstree.root||this._data.core.loaded||(this._data.core.loaded=!0,this._firstChild(this.get_container_ul()[0])&&this.element.attr("aria-activedescendant",this._firstChild(this.get_container_ul()[0]).id),this.trigger("loaded")),this._data.core.ready||setTimeout(n.proxy(function(){if(this.element&&!this.get_container_ul().find(".jstree-loading").length){if(this._data.core.ready=!0,this._data.core.selected.length){if(this.settings.core.expand_selected_onload){for(var i=[],t=0,r=this._data.core.selected.length;r>t;t++)i=i.concat(this._model.data[this._data.core.selected[t]].parents);for(i=n.vakata.array_unique(i),t=0,r=i.length;r>t;t++)this.open_node(i[t],!1,0)}this.trigger("changed",{action:"ready",selected:this._data.core.selected})}this.trigger("ready")}},this),0))},this)).on("keypress.jstree",n.proxy(function(u){if(u.target.tagName&&"input"===u.target.tagName.toLowerCase())return!0;r&&clearTimeout(r);r=setTimeout(function(){t=""},500);var o=String.fromCharCode(u.which).toLowerCase(),e=this.element.find(".jstree-anchor").filter(":visible"),s=e.index(i.activeElement)||0,f=!1;if(t+=o,t.length>1){if(e.slice(s).each(n.proxy(function(i,r){if(0===n(r).text().toLowerCase().indexOf(t))return(n(r).focus(),f=!0,!1)},this)),f)return;if(e.slice(0,s).each(n.proxy(function(i,r){if(0===n(r).text().toLowerCase().indexOf(t))return(n(r).focus(),f=!0,!1)},this)),f)return}if(new RegExp("^"+o.replace(/[-\/\\^$*+?.()|[\]{}]/g,"\\$&")+"+$").test(t)){if(e.slice(s+1).each(n.proxy(function(t,i){if(n(i).text().toLowerCase().charAt(0)===o)return(n(i).focus(),f=!0,!1)},this)),f)return;if(e.slice(0,s+1).each(n.proxy(function(t,i){if(n(i).text().toLowerCase().charAt(0)===o)return(n(i).focus(),f=!0,!1)},this)),f)return}},this)).on("init.jstree",n.proxy(function(){var n=this.settings.core.themes;this._data.core.themes.dots=n.dots;this._data.core.themes.stripes=n.stripes;this._data.core.themes.icons=n.icons;this.set_theme(n.name||"default",n.url);this.set_theme_variant(n.variant)},this)).on("loading.jstree",n.proxy(function(){this[this._data.core.themes.dots?"show_dots":"hide_dots"]();this[this._data.core.themes.icons?"show_icons":"hide_icons"]();this[this._data.core.themes.stripes?"show_stripes":"hide_stripes"]()},this)).on("blur.jstree",".jstree-anchor",n.proxy(function(t){this._data.core.focused=null;n(t.currentTarget).filter(".jstree-hovered").mouseleave();this.element.attr("tabindex","0")},this)).on("focus.jstree",".jstree-anchor",n.proxy(function(t){var i=this.get_node(t.currentTarget);i&&i.id&&(this._data.core.focused=i.id);this.element.find(".jstree-hovered").not(t.currentTarget).mouseleave();n(t.currentTarget).mouseenter();this.element.attr("tabindex","-1")},this)).on("focus.jstree",n.proxy(function(){if(+new Date-u>500&&!this._data.core.focused){u=0;var n=this.get_node(this.element.attr("aria-activedescendant"),!0);n&&n.find("> .jstree-anchor").focus()}},this)).on("mouseenter.jstree",".jstree-anchor",n.proxy(function(n){this.hover_node(n.currentTarget)},this)).on("mouseleave.jstree",".jstree-anchor",n.proxy(function(n){this.dehover_node(n.currentTarget)},this))},unbind:function(){this.element.off(".jstree");n(i).off(".jstree-"+this._id)},trigger:function(n,t){t||(t={});t.instance=this;this.element.triggerHandler(n.replace(".jstree","")+".jstree",t)},get_container:function(){return this.element},get_container_ul:function(){return this.element.children(".jstree-children").first()},get_string:function(t){var i=this.settings.core.strings;return n.isFunction(i)?i.call(this,t):i&&i[t]?i[t]:t},_firstChild:function(n){for(n=n?n.firstChild:null;null!==n&&1!==n.nodeType;)n=n.nextSibling;return n},_nextSibling:function(n){for(n=n?n.nextSibling:null;null!==n&&1!==n.nodeType;)n=n.nextSibling;return n},_previousSibling:function(n){for(n=n?n.previousSibling:null;null!==n&&1!==n.nodeType;)n=n.previousSibling;return n},get_node:function(t,i){t&&t.id&&(t=t.id);var r;try{if(this._model.data[t])t=this._model.data[t];else if("string"==typeof t&&this._model.data[t.replace(/^#/,"")])t=this._model.data[t.replace(/^#/,"")];else if("string"==typeof t&&(r=n("#"+t.replace(n.jstree.idregex,"\\$&"),this.element)).length&&this._model.data[r.closest(".jstree-node").attr("id")])t=this._model.data[r.closest(".jstree-node").attr("id")];else if((r=n(t,this.element)).length&&this._model.data[r.closest(".jstree-node").attr("id")])t=this._model.data[r.closest(".jstree-node").attr("id")];else{if(!(r=n(t,this.element)).length||!r.hasClass("jstree"))return!1;t=this._model.data[n.jstree.root]}return i&&(t=t.id===n.jstree.root?this.element:n("#"+t.id.replace(n.jstree.idregex,"\\$&"),this.element)),t}catch(u){return!1}},get_path:function(t,i,r){if(t=t.parents?t:this.get_node(t),!t||t.id===n.jstree.root||!t.parents)return!1;var f,e,u=[];for(u.push(r?t.id:t.text),f=0,e=t.parents.length;e>f;f++)u.push(r?t.parents[f]:this.get_text(t.parents[f]));return u=u.reverse().slice(1),i?u.join(i):u},get_next_dom:function(t,i){var r;if(t=this.get_node(t,!0),t[0]===this.element[0]){for(r=this._firstChild(this.get_container_ul()[0]);r&&0===r.offsetHeight;)r=this._nextSibling(r);return r?n(r):!1}if(!t||!t.length)return!1;if(i){r=t[0];do r=this._nextSibling(r);while(r&&0===r.offsetHeight);return r?n(r):!1}if(t.hasClass("jstree-open")){for(r=this._firstChild(t.children(".jstree-children")[0]);r&&0===r.offsetHeight;)r=this._nextSibling(r);if(null!==r)return n(r)}r=t[0];do r=this._nextSibling(r);while(r&&0===r.offsetHeight);return null!==r?n(r):t.parentsUntil(".jstree",".jstree-node").nextAll(".jstree-node:visible").first()},get_prev_dom:function(t,i){var r;if(t=this.get_node(t,!0),t[0]===this.element[0]){for(r=this.get_container_ul()[0].lastChild;r&&0===r.offsetHeight;)r=this._previousSibling(r);return r?n(r):!1}if(!t||!t.length)return!1;if(i){r=t[0];do r=this._previousSibling(r);while(r&&0===r.offsetHeight);return r?n(r):!1}r=t[0];do r=this._previousSibling(r);while(r&&0===r.offsetHeight);if(null!==r){for(t=n(r);t.hasClass("jstree-open");)t=t.children(".jstree-children").first().children(".jstree-node:visible:last");return t}return r=t[0].parentNode.parentNode,r&&r.className&&-1!==r.className.indexOf("jstree-node")?n(r):!1},get_parent:function(t){return t=this.get_node(t),t&&t.id!==n.jstree.root?t.parent:!1},get_children_dom:function(n){return n=this.get_node(n,!0),n[0]===this.element[0]?this.get_container_ul().children(".jstree-node"):n&&n.length?n.children(".jstree-children").children(".jstree-node"):!1},is_parent:function(n){return n=this.get_node(n),n&&(n.state.loaded===!1||n.children.length>0)},is_loaded:function(n){return n=this.get_node(n),n&&n.state.loaded},is_loading:function(n){return n=this.get_node(n),n&&n.state&&n.state.loading},is_open:function(n){return n=this.get_node(n),n&&n.state.opened},is_closed:function(n){return n=this.get_node(n),n&&this.is_parent(n)&&!n.state.opened},is_leaf:function(n){return!this.is_parent(n)},load_node:function(t,i){var r,f,u,e,o;if(n.isArray(t))return this._load_nodes(t.slice(),i),!0;if(t=this.get_node(t),!t)return i&&i.call(this,t,!1),!1;if(t.state.loaded){for(t.state.loaded=!1,r=0,f=t.children_d.length;f>r;r++){for(u=0,e=t.parents.length;e>u;u++)this._model.data[t.parents[u]].children_d=n.vakata.array_remove_item(this._model.data[t.parents[u]].children_d,t.children_d[r]);this._model.data[t.children_d[r]].state.selected&&(o=!0,this._data.core.selected=n.vakata.array_remove_item(this._data.core.selected,t.children_d[r]));delete this._model.data[t.children_d[r]]}t.children=[];t.children_d=[];o&&this.trigger("changed",{action:"load_node",node:t,selected:this._data.core.selected})}return t.state.failed=!1,t.state.loading=!0,this.get_node(t,!0).addClass("jstree-loading").attr("aria-busy",!0),this._load_node(t,n.proxy(function(n){t=this._model.data[t.id];t.state.loading=!1;t.state.loaded=n;t.state.failed=!t.state.loaded;for(var r=this.get_node(t,!0),u=0,f=0,e=this._model.data,o=!1,u=0,f=t.children.length;f>u;u++)if(e[t.children[u]]&&!e[t.children[u]].state.hidden){o=!0;break}t.state.loaded&&!o&&r&&r.length&&!r.hasClass("jstree-leaf")&&r.removeClass("jstree-closed jstree-open").addClass("jstree-leaf");r.removeClass("jstree-loading").attr("aria-busy",!1);this.trigger("load_node",{node:t,status:n});i&&i.call(this,t,n)},this)),!0},_load_nodes:function(n,t,i){for(var e=!0,s=function(){this._load_nodes(n,t,!0)},u=this._model.data,o=[],r=0,f=n.length;f>r;r++)!u[n[r]]||(u[n[r]].state.loaded||u[n[r]].state.failed)&&i||(this.is_loading(n[r])||this.load_node(n[r],s),e=!1);if(e){for(r=0,f=n.length;f>r;r++)u[n[r]]&&u[n[r]].state.loaded&&o.push(n[r]);t&&!t.done&&(t.call(this,o),t.done=!0)}},load_all:function(t,i){if(t||(t=n.jstree.root),t=this.get_node(t),!t)return!1;var f=[],e=this._model.data,u=e[t.id].children_d,r,o;for(t.state&&!t.state.loaded&&f.push(t.id),r=0,o=u.length;o>r;r++)e[u[r]]&&e[u[r]].state&&!e[u[r]].state.loaded&&f.push(u[r]);f.length?this._load_nodes(f,function(){this.load_all(t,i)}):(i&&i.call(this,t),this.trigger("load_all",{node:t}))},_load_node:function(t,i){var r=this.settings.core.data,u;return r?n.isFunction(r)?r.call(this,t,n.proxy(function(r){r===!1&&i.call(this,!1);this["string"==typeof r?"_append_html_data":"_append_json_data"](t,"string"==typeof r?n(n.parseHTML(r)).filter(function(){return 3!==this.nodeType}):r,function(n){i.call(this,n)})},this)):"object"==typeof r?r.url?(r=n.extend(!0,{},r),n.isFunction(r.url)&&(r.url=r.url.call(this,t)),n.isFunction(r.data)&&(r.data=r.data.call(this,t)),n.ajax(r).done(n.proxy(function(r,u,f){var e=f.getResponseHeader("Content-Type");return e&&-1!==e.indexOf("json")||"object"==typeof r?this._append_json_data(t,r,function(n){i.call(this,n)}):e&&-1!==e.indexOf("html")||"string"==typeof r?this._append_html_data(t,n(n.parseHTML(r)).filter(function(){return 3!==this.nodeType}),function(n){i.call(this,n)}):(this._data.core.last_error={error:"ajax",plugin:"core",id:"core_04",reason:"Could not load node",data:JSON.stringify({id:t.id,xhr:f})},this.settings.core.error.call(this,this._data.core.last_error),i.call(this,!1))},this)).fail(n.proxy(function(n){i.call(this,!1);this._data.core.last_error={error:"ajax",plugin:"core",id:"core_04",reason:"Could not load node",data:JSON.stringify({id:t.id,xhr:n})};this.settings.core.error.call(this,this._data.core.last_error)},this))):(u=n.isArray(r)||n.isPlainObject(r)?JSON.parse(JSON.stringify(r)):r,t.id===n.jstree.root?this._append_json_data(t,u,function(n){i.call(this,n)}):(this._data.core.last_error={error:"nodata",plugin:"core",id:"core_05",reason:"Could not load node",data:JSON.stringify({id:t.id})},this.settings.core.error.call(this,this._data.core.last_error),i.call(this,!1))):"string"==typeof r?t.id===n.jstree.root?this._append_html_data(t,n(n.parseHTML(r)).filter(function(){return 3!==this.nodeType}),function(n){i.call(this,n)}):(this._data.core.last_error={error:"nodata",plugin:"core",id:"core_06",reason:"Could not load node",data:JSON.stringify({id:t.id})},this.settings.core.error.call(this,this._data.core.last_error),i.call(this,!1)):i.call(this,!1):t.id===n.jstree.root?this._append_html_data(t,this._data.core.original_container_html.clone(!0),function(n){i.call(this,n)}):i.call(this,!1)},_node_changed:function(n){n=this.get_node(n);n&&this._model.changed.push(n.id)},_append_html_data:function(t,i,r){t=this.get_node(t);t.children=[];t.children_d=[];var a=i.is("ul")?i.children():i,o=t.id,c=[],u=[],s=this._model.data,f=s[o],v=this._data.core.selected.length,e,h,l;for(a.each(n.proxy(function(t,i){e=this._parse_model_from_html(n(i),o,f.parents.concat());e&&(c.push(e),u.push(e),s[e].children_d.length&&(u=u.concat(s[e].children_d)))},this)),f.children=c,f.children_d=u,h=0,l=f.parents.length;l>h;h++)s[f.parents[h]].children_d=s[f.parents[h]].children_d.concat(u);this.trigger("model",{nodes:u,parent:o});o!==n.jstree.root?(this._node_changed(o),this.redraw()):(this.get_container_ul().children(".jstree-initial-node").remove(),this.redraw(!0));this._data.core.selected.length!==v&&this.trigger("changed",{action:"model",selected:this._data.core.selected});r.call(this,!0)},_append_json_data:function(t,i,r,u){if(null!==this.element){t=this.get_node(t);t.children=[];t.children_d=[];i.d&&(i=i.d,"string"==typeof i&&(i=JSON.parse(i)));n.isArray(i)||(i=[i]);var f=null,e={df:this._model.default_state,dat:i,par:t.id,m:this._model.data,t_id:this._id,t_cnt:this._cnt,sel:this._data.core.selected},o=function(n,t){n.data&&(n=n.data);var u=n.dat,c=n.par,y=[],o=[],l=[],h=n.df,k=n.t_id,v=n.t_cnt,r=n.m,f=r[c],p=n.sel,s,i,e,a,w=function(n,i,u){u=u?u.concat():[];i&&u.unshift(i);var c=n.id.toString(),e,a,o,s,f={id:c,text:n.text||"",icon:n.icon!==t?n.icon:!0,parent:i,parents:u,children:n.children||[],children_d:n.children_d||[],data:n.data,state:{},li_attr:{id:!1},a_attr:{href:"#"},original:!1};for(e in h)h.hasOwnProperty(e)&&(f.state[e]=h[e]);if(n&&n.data&&n.data.jstree&&n.data.jstree.icon&&(f.icon=n.data.jstree.icon),(f.icon===t||null===f.icon||""===f.icon)&&(f.icon=!0),n&&n.data&&(f.data=n.data,n.data.jstree))for(e in n.data.jstree)n.data.jstree.hasOwnProperty(e)&&(f.state[e]=n.data.jstree[e]);if(n&&"object"==typeof n.state)for(e in n.state)n.state.hasOwnProperty(e)&&(f.state[e]=n.state[e]);if(n&&"object"==typeof n.li_attr)for(e in n.li_attr)n.li_attr.hasOwnProperty(e)&&(f.li_attr[e]=n.li_attr[e]);if(f.li_attr.id||(f.li_attr.id=c),n&&"object"==typeof n.a_attr)for(e in n.a_attr)n.a_attr.hasOwnProperty(e)&&(f.a_attr[e]=n.a_attr[e]);for(n&&n.children&&n.children===!0&&(f.state.loaded=!1,f.children=[],f.children_d=[]),r[f.id]=f,e=0,a=f.children.length;a>e;e++)o=w(r[f.children[e]],f.id,u),s=r[o],f.children_d.push(o),s.children_d.length&&(f.children_d=f.children_d.concat(s.children_d));return delete n.data,delete n.children,r[f.id].original=n,f.state.selected&&l.push(f.id),f.id},b=function(n,i,u){u=u?u.concat():[];i&&u.unshift(i);var o=!1,e,a,s,c,f;do o="j"+k+"_"+ ++v;while(r[o]);f={id:!1,text:"string"==typeof n?n:"",icon:"object"==typeof n&&n.icon!==t?n.icon:!0,parent:i,parents:u,children:[],children_d:[],data:null,state:{},li_attr:{id:!1},a_attr:{href:"#"},original:!1};for(e in h)h.hasOwnProperty(e)&&(f.state[e]=h[e]);if(n&&n.id&&(f.id=n.id.toString()),n&&n.text&&(f.text=n.text),n&&n.data&&n.data.jstree&&n.data.jstree.icon&&(f.icon=n.data.jstree.icon),(f.icon===t||null===f.icon||""===f.icon)&&(f.icon=!0),n&&n.data&&(f.data=n.data,n.data.jstree))for(e in n.data.jstree)n.data.jstree.hasOwnProperty(e)&&(f.state[e]=n.data.jstree[e]);if(n&&"object"==typeof n.state)for(e in n.state)n.state.hasOwnProperty(e)&&(f.state[e]=n.state[e]);if(n&&"object"==typeof n.li_attr)for(e in n.li_attr)n.li_attr.hasOwnProperty(e)&&(f.li_attr[e]=n.li_attr[e]);if(f.li_attr.id&&!f.id&&(f.id=f.li_attr.id.toString()),f.id||(f.id=o),f.li_attr.id||(f.li_attr.id=f.id),n&&"object"==typeof n.a_attr)for(e in n.a_attr)n.a_attr.hasOwnProperty(e)&&(f.a_attr[e]=n.a_attr[e]);if(n&&n.children&&n.children.length){for(e=0,a=n.children.length;a>e;e++)s=b(n.children[e],f.id,u),c=r[s],f.children.push(s),c.children_d.length&&(f.children_d=f.children_d.concat(c.children_d));f.children_d=f.children_d.concat(f.children)}return n&&n.children&&n.children===!0&&(f.state.loaded=!1,f.children=[],f.children_d=[]),delete n.data,delete n.children,f.original=n,r[f.id]=f,f.state.selected&&l.push(f.id),f.id};if(u.length&&u[0].id!==t&&u[0].parent!==t){for(i=0,e=u.length;e>i;i++)u[i].children||(u[i].children=[]),r[u[i].id.toString()]=u[i];for(i=0,e=u.length;e>i;i++)r[u[i].parent.toString()].children.push(u[i].id.toString()),f.children_d.push(u[i].id.toString());for(i=0,e=f.children.length;e>i;i++)s=w(r[f.children[i]],c,f.parents.concat()),o.push(s),r[s].children_d.length&&(o=o.concat(r[s].children_d));for(i=0,e=f.parents.length;e>i;i++)r[f.parents[i]].children_d=r[f.parents[i]].children_d.concat(o);a={cnt:v,mod:r,sel:p,par:c,dpc:o,add:l}}else{for(i=0,e=u.length;e>i;i++)s=b(u[i],c,f.parents.concat()),s&&(y.push(s),o.push(s),r[s].children_d.length&&(o=o.concat(r[s].children_d)));for(f.children=y,f.children_d=o,i=0,e=f.parents.length;e>i;i++)r[f.parents[i]].children_d=r[f.parents[i]].children_d.concat(o);a={cnt:v,mod:r,sel:p,par:c,dpc:o,add:l}}return"undefined"!=typeof window&&"undefined"!=typeof window.document?a:void postMessage(a)},s=function(t,i){if(null!==this.element){if(this._cnt=t.cnt,this._model.data=t.mod,i){var u,o,h=t.add,f=t.sel,e=this._data.core.selected.slice(),s=this._model.data;if(f.length!==e.length||n.vakata.array_unique(f.concat(e)).length!==f.length){for(u=0,o=f.length;o>u;u++)-1===n.inArray(f[u],h)&&-1===n.inArray(f[u],e)&&(s[f[u]].state.selected=!1);for(u=0,o=e.length;o>u;u++)-1===n.inArray(e[u],f)&&(s[e[u]].state.selected=!0)}}t.add.length&&(this._data.core.selected=this._data.core.selected.concat(t.add));this.trigger("model",{nodes:t.dpc,parent:t.par});t.par!==n.jstree.root?(this._node_changed(t.par),this.redraw()):this.redraw(!0);t.add.length&&this.trigger("changed",{action:"model",selected:this._data.core.selected});r.call(this,!0)}};if(this.settings.core.worker&&window.Blob&&window.URL&&window.Worker)try{null===this._wrk&&(this._wrk=window.URL.createObjectURL(new window.Blob(["self.onmessage = "+o.toString()],{type:"text/javascript"})));!this._data.core.working||u?(this._data.core.working=!0,f=new window.Worker(this._wrk),f.onmessage=n.proxy(function(n){s.call(this,n.data,!0);try{f.terminate();f=null}catch(t){}this._data.core.worker_queue.length?this._append_json_data.apply(this,this._data.core.worker_queue.shift()):this._data.core.working=!1},this),e.par?f.postMessage(e):this._data.core.worker_queue.length?this._append_json_data.apply(this,this._data.core.worker_queue.shift()):this._data.core.working=!1):this._data.core.worker_queue.push([t,i,r,!0])}catch(h){s.call(this,o(e),!1);this._data.core.worker_queue.length?this._append_json_data.apply(this,this._data.core.worker_queue.shift()):this._data.core.working=!1}else s.call(this,o(e),!1)}},_parse_model_from_html:function(i,r,u){u=u?[].concat(u):[];r&&u.unshift(r);var s,h,l=this._model.data,f={id:!1,text:!1,icon:!0,parent:r,parents:u,children:[],children_d:[],data:null,state:{},li_attr:{id:!1},a_attr:{href:"#"},original:!1},o,e,c;for(o in this._model.default_state)this._model.default_state.hasOwnProperty(o)&&(f.state[o]=this._model.default_state[o]);if(e=n.vakata.attributes(i,!0),n.each(e,function(t,i){return i=n.trim(i),i.length?(f.li_attr[t]=i,void("id"===t&&(f.id=i.toString()))):!0}),e=i.children("a").first(),e.length&&(e=n.vakata.attributes(e,!0),n.each(e,function(t,i){i=n.trim(i);i.length&&(f.a_attr[t]=i)})),e=i.children("a").first().length?i.children("a").first().clone():i.clone(),e.children("ins, i, ul").remove(),e=e.html(),e=n("<div />").html(e),f.text=this.settings.core.force_text?e.text():e.html(),e=i.data(),f.data=e?n.extend(!0,{},e):null,f.state.opened=i.hasClass("jstree-open"),f.state.selected=i.children("a").hasClass("jstree-clicked"),f.state.disabled=i.children("a").hasClass("jstree-disabled"),f.data&&f.data.jstree)for(o in f.data.jstree)f.data.jstree.hasOwnProperty(o)&&(f.state[o]=f.data.jstree[o]);e=i.children("a").children(".jstree-themeicon");e.length&&(f.icon=e.hasClass("jstree-themeicon-hidden")?!1:e.attr("rel"));f.state.icon!==t&&(f.icon=f.state.icon);(f.icon===t||null===f.icon||""===f.icon)&&(f.icon=!0);e=i.children("ul").children("li");do c="j"+this._id+"_"+ ++this._cnt;while(l[c]);return f.id=f.li_attr.id?f.li_attr.id.toString():c,e.length?(e.each(n.proxy(function(t,i){s=this._parse_model_from_html(n(i),f.id,u);h=this._model.data[s];f.children.push(s);h.children_d.length&&(f.children_d=f.children_d.concat(h.children_d))},this)),f.children_d=f.children_d.concat(f.children)):i.hasClass("jstree-closed")&&(f.state.loaded=!1),f.li_attr["class"]&&(f.li_attr["class"]=f.li_attr["class"].replace("jstree-closed","").replace("jstree-open","")),f.a_attr["class"]&&(f.a_attr["class"]=f.a_attr["class"].replace("jstree-clicked","").replace("jstree-disabled","")),l[f.id]=f,f.state.selected&&this._data.core.selected.push(f.id),f.id},_parse_model_from_flat_json:function(n,i,r){r=r?r.concat():[];i&&r.unshift(i);var c=n.id.toString(),e=this._model.data,o=this._model.default_state,f,l,s,h,u={id:c,text:n.text||"",icon:n.icon!==t?n.icon:!0,parent:i,parents:r,children:n.children||[],children_d:n.children_d||[],data:n.data,state:{},li_attr:{id:!1},a_attr:{href:"#"},original:!1};for(f in o)o.hasOwnProperty(f)&&(u.state[f]=o[f]);if(n&&n.data&&n.data.jstree&&n.data.jstree.icon&&(u.icon=n.data.jstree.icon),(u.icon===t||null===u.icon||""===u.icon)&&(u.icon=!0),n&&n.data&&(u.data=n.data,n.data.jstree))for(f in n.data.jstree)n.data.jstree.hasOwnProperty(f)&&(u.state[f]=n.data.jstree[f]);if(n&&"object"==typeof n.state)for(f in n.state)n.state.hasOwnProperty(f)&&(u.state[f]=n.state[f]);if(n&&"object"==typeof n.li_attr)for(f in n.li_attr)n.li_attr.hasOwnProperty(f)&&(u.li_attr[f]=n.li_attr[f]);if(u.li_attr.id||(u.li_attr.id=c),n&&"object"==typeof n.a_attr)for(f in n.a_attr)n.a_attr.hasOwnProperty(f)&&(u.a_attr[f]=n.a_attr[f]);for(n&&n.children&&n.children===!0&&(u.state.loaded=!1,u.children=[],u.children_d=[]),e[u.id]=u,f=0,l=u.children.length;l>f;f++)s=this._parse_model_from_flat_json(e[u.children[f]],u.id,r),h=e[s],u.children_d.push(s),h.children_d.length&&(u.children_d=u.children_d.concat(h.children_d));return delete n.data,delete n.children,e[u.id].original=n,u.state.selected&&this._data.core.selected.push(u.id),u.id},_parse_model_from_json:function(n,i,r){r=r?r.concat():[];i&&r.unshift(i);var e=!1,f,l,o,s,h=this._model.data,c=this._model.default_state,u;do e="j"+this._id+"_"+ ++this._cnt;while(h[e]);u={id:!1,text:"string"==typeof n?n:"",icon:"object"==typeof n&&n.icon!==t?n.icon:!0,parent:i,parents:r,children:[],children_d:[],data:null,state:{},li_attr:{id:!1},a_attr:{href:"#"},original:!1};for(f in c)c.hasOwnProperty(f)&&(u.state[f]=c[f]);if(n&&n.id&&(u.id=n.id.toString()),n&&n.text&&(u.text=n.text),n&&n.data&&n.data.jstree&&n.data.jstree.icon&&(u.icon=n.data.jstree.icon),(u.icon===t||null===u.icon||""===u.icon)&&(u.icon=!0),n&&n.data&&(u.data=n.data,n.data.jstree))for(f in n.data.jstree)n.data.jstree.hasOwnProperty(f)&&(u.state[f]=n.data.jstree[f]);if(n&&"object"==typeof n.state)for(f in n.state)n.state.hasOwnProperty(f)&&(u.state[f]=n.state[f]);if(n&&"object"==typeof n.li_attr)for(f in n.li_attr)n.li_attr.hasOwnProperty(f)&&(u.li_attr[f]=n.li_attr[f]);if(u.li_attr.id&&!u.id&&(u.id=u.li_attr.id.toString()),u.id||(u.id=e),u.li_attr.id||(u.li_attr.id=u.id),n&&"object"==typeof n.a_attr)for(f in n.a_attr)n.a_attr.hasOwnProperty(f)&&(u.a_attr[f]=n.a_attr[f]);if(n&&n.children&&n.children.length){for(f=0,l=n.children.length;l>f;f++)o=this._parse_model_from_json(n.children[f],u.id,r),s=h[o],u.children.push(o),s.children_d.length&&(u.children_d=u.children_d.concat(s.children_d));u.children_d=u.children_d.concat(u.children)}return n&&n.children&&n.children===!0&&(u.state.loaded=!1,u.children=[],u.children_d=[]),delete n.data,delete n.children,u.original=n,h[u.id]=u,u.state.selected&&this._data.core.selected.push(u.id),u.id},_redraw:function(){for(var f=this._model.force_full_redraw?this._model.data[n.jstree.root].children.concat([]):this._model.changed.concat([]),r=i.createElement("UL"),t,o=this._data.core.focused,u=0,e=f.length;e>u;u++)t=this.redraw_node(f[u],!0,this._model.force_full_redraw),t&&this._model.force_full_redraw&&r.appendChild(t);this._model.force_full_redraw&&(r.className=this.get_container_ul()[0].className,r.setAttribute("role","group"),this.element.empty().append(r));null!==o&&(t=this.get_node(o,!0),t&&t.length&&t.children(".jstree-anchor")[0]!==i.activeElement?t.children(".jstree-anchor").focus():this._data.core.focused=null);this._model.force_full_redraw=!1;this._model.changed=[];this.trigger("redraw",{nodes:f})},redraw:function(n){n&&(this._model.force_full_redraw=!0);this._redraw()},draw_children:function(t){var r=this.get_node(t),f=!1,e=!1,u=!1,o=i;if(!r)return!1;if(r.id===n.jstree.root)return this.redraw(!0);if(t=this.get_node(t,!0),!t||!t.length)return!1;if(t.children(".jstree-children").remove(),t=t[0],r.children.length&&r.state.loaded){for(u=o.createElement("UL"),u.setAttribute("role","group"),u.className="jstree-children",f=0,e=r.children.length;e>f;f++)u.appendChild(this.redraw_node(r.children[f],!0,!0));t.appendChild(u)}},redraw_node:function(t,r,u,f){var e=this.get_node(t),s=!1,p=!1,b=!1,o=!1,c=!1,y=!1,l="",k=i,a=this._model.data,d=!1,v=null,g=0,nt=0,tt=!1,w=!1;if(!e)return!1;if(e.id===n.jstree.root)return this.redraw(!0);if(r=r||0===e.children.length,t=i.querySelector?this.element[0].querySelector("#"+(-1!=="0123456789".indexOf(e.id[0])?"\\3"+e.id[0]+" "+e.id.substr(1).replace(n.jstree.idregex,"\\$&"):e.id.replace(n.jstree.idregex,"\\$&"))):i.getElementById(e.id))t=n(t),u||(s=t.parent().parent()[0],s===this.element[0]&&(s=null),p=t.index()),r||!e.children.length||t.children(".jstree-children").length||(r=!0),r||(b=t.children(".jstree-children")[0]),d=t.children(".jstree-anchor")[0]===i.activeElement,t.remove();else if(r=!0,!u){if(s=e.parent!==n.jstree.root?n("#"+e.parent.replace(n.jstree.idregex,"\\$&"),this.element)[0]:null,!(null===s||s&&a[e.parent].state.opened))return!1;p=n.inArray(e.id,null===s?a[n.jstree.root].children:a[e.parent].children)}t=h.cloneNode(!0);l="jstree-node ";for(o in e.li_attr)if(e.li_attr.hasOwnProperty(o)){if("id"===o)continue;"class"!==o?t.setAttribute(o,e.li_attr[o]):l+=e.li_attr[o]}for(e.a_attr.id||(e.a_attr.id=e.id+"_anchor"),t.setAttribute("aria-selected",!!e.state.selected),t.setAttribute("aria-level",e.parents.length),t.setAttribute("aria-labelledby",e.a_attr.id),e.state.disabled&&t.setAttribute("aria-disabled",!0),o=0,c=e.children.length;c>o;o++)if(!a[e.children[o]].state.hidden){tt=!0;break}if(null!==e.parent&&a[e.parent]&&!e.state.hidden&&(o=n.inArray(e.id,a[e.parent].children),w=e.id,-1!==o))for(o++,c=a[e.parent].children.length;c>o;o++)if(a[a[e.parent].children[o]].state.hidden||(w=a[e.parent].children[o]),w!==e.id)break;e.state.hidden&&(l+=" jstree-hidden");e.state.loaded&&!tt?l+=" jstree-leaf":(l+=e.state.opened&&e.state.loaded?" jstree-open":" jstree-closed",t.setAttribute("aria-expanded",e.state.opened&&e.state.loaded));w===e.id&&(l+=" jstree-last");t.id=e.id;t.className=l;l=(e.state.selected?" jstree-clicked":"")+(e.state.disabled?" jstree-disabled":"");for(c in e.a_attr)if(e.a_attr.hasOwnProperty(c)){if("href"===c&&"#"===e.a_attr[c])continue;"class"!==c?t.childNodes[1].setAttribute(c,e.a_attr[c]):l+=" "+e.a_attr[c]}if(l.length&&(t.childNodes[1].className="jstree-anchor "+l),(e.icon&&e.icon!==!0||e.icon===!1)&&(e.icon===!1?t.childNodes[1].childNodes[0].className+=" jstree-themeicon-hidden":-1===e.icon.indexOf("/")&&-1===e.icon.indexOf(".")?t.childNodes[1].childNodes[0].className+=" "+e.icon+" jstree-themeicon-custom":(t.childNodes[1].childNodes[0].style.backgroundImage="url("+e.icon+")",t.childNodes[1].childNodes[0].style.backgroundPosition="center center",t.childNodes[1].childNodes[0].style.backgroundSize="auto",t.childNodes[1].childNodes[0].className+=" jstree-themeicon-custom")),this.settings.core.force_text?t.childNodes[1].appendChild(k.createTextNode(e.text)):t.childNodes[1].innerHTML+=e.text,r&&e.children.length&&(e.state.opened||f)&&e.state.loaded){for(y=k.createElement("UL"),y.setAttribute("role","group"),y.className="jstree-children",o=0,c=e.children.length;c>o;o++)y.appendChild(this.redraw_node(e.children[o],r,!0));t.appendChild(y)}if(b&&t.appendChild(b),!u){for(s||(s=this.element[0]),o=0,c=s.childNodes.length;c>o;o++)if(s.childNodes[o]&&s.childNodes[o].className&&-1!==s.childNodes[o].className.indexOf("jstree-children")){v=s.childNodes[o];break}v||(v=k.createElement("UL"),v.setAttribute("role","group"),v.className="jstree-children",s.appendChild(v));s=v;p<s.childNodes.length?s.insertBefore(t,s.childNodes[p]):s.appendChild(t);d&&(g=this.element[0].scrollTop,nt=this.element[0].scrollLeft,t.childNodes[1].focus(),this.element[0].scrollTop=g,this.element[0].scrollLeft=nt)}return e.state.opened&&!e.state.loaded&&(e.state.opened=!1,setTimeout(n.proxy(function(){this.open_node(e.id,!1,0)},this),0)),t},open_node:function(i,r,u){var e,o,f,s;if(n.isArray(i)){for(i=i.slice(),e=0,o=i.length;o>e;e++)this.open_node(i[e],r,u);return!0}return i=this.get_node(i),i&&i.id!==n.jstree.root?(u=u===t?this.settings.core.animation:u,this.is_closed(i)?this.is_loaded(i)?(f=this.get_node(i,!0),s=this,f.length&&(u&&f.children(".jstree-children").length&&f.children(".jstree-children").stop(!0,!0),i.children.length&&!this._firstChild(f.children(".jstree-children")[0])&&this.draw_children(i),u?(this.trigger("before_open",{node:i}),f.children(".jstree-children").css("display","none").end().removeClass("jstree-closed").addClass("jstree-open").attr("aria-expanded",!0).children(".jstree-children").stop(!0,!0).slideDown(u,function(){this.style.display="";s.trigger("after_open",{node:i})})):(this.trigger("before_open",{node:i}),f[0].className=f[0].className.replace("jstree-closed","jstree-open"),f[0].setAttribute("aria-expanded",!0))),i.state.opened=!0,r&&r.call(this,i,!0),f.length||this.trigger("before_open",{node:i}),this.trigger("open_node",{node:i}),u&&f.length||this.trigger("after_open",{node:i}),!0):this.is_loading(i)?setTimeout(n.proxy(function(){this.open_node(i,r,u)},this),500):void this.load_node(i,function(n,t){return t?this.open_node(n,r,u):r?r.call(this,n,!1):!1}):(r&&r.call(this,i,!1),!1)):!1},_open_to:function(t){if(t=this.get_node(t),!t||t.id===n.jstree.root)return!1;for(var u=t.parents,i=0,r=u.length;r>i;i+=1)i!==n.jstree.root&&this.open_node(u[i],!1,0);return n("#"+t.id.replace(n.jstree.idregex,"\\$&"),this.element)},close_node:function(i,r){var f,e,o,u;if(n.isArray(i)){for(i=i.slice(),f=0,e=i.length;e>f;f++)this.close_node(i[f],r);return!0}return i=this.get_node(i),i&&i.id!==n.jstree.root?this.is_closed(i)?!1:(r=r===t?this.settings.core.animation:r,o=this,u=this.get_node(i,!0),u.length&&(r?u.children(".jstree-children").attr("style","display:block !important").end().removeClass("jstree-open").addClass("jstree-closed").attr("aria-expanded",!1).children(".jstree-children").stop(!0,!0).slideUp(r,function(){this.style.display="";u.children(".jstree-children").remove();o.trigger("after_close",{node:i})}):(u[0].className=u[0].className.replace("jstree-open","jstree-closed"),u.attr("aria-expanded",!1).children(".jstree-children").remove())),i.state.opened=!1,this.trigger("close_node",{node:i}),void(r&&u.length||this.trigger("after_close",{node:i}))):!1},toggle_node:function(t){var i,r;if(n.isArray(t)){for(t=t.slice(),i=0,r=t.length;r>i;i++)this.toggle_node(t[i]);return!0}return this.is_closed(t)?this.open_node(t):this.is_open(t)?this.close_node(t):void 0},open_all:function(t,i,r){if(t||(t=n.jstree.root),t=this.get_node(t),!t)return!1;var u=t.id===n.jstree.root?this.get_container_ul():this.get_node(t,!0),f,e,o;if(!u.length){for(f=0,e=t.children_d.length;e>f;f++)this.is_closed(this._model.data[t.children_d[f]])&&(this._model.data[t.children_d[f]].state.opened=!0);return this.trigger("open_all",{node:t})}r=r||u;o=this;u=this.is_closed(t)?u.find(".jstree-closed").addBack():u.find(".jstree-closed");u.each(function(){o.open_node(this,function(n,t){t&&this.is_parent(n)&&this.open_all(n,i,r)},i||0)});0===r.find(".jstree-closed").length&&this.trigger("open_all",{node:this.get_node(r)})},close_all:function(t,i){if(t||(t=n.jstree.root),t=this.get_node(t),!t)return!1;var r=t.id===n.jstree.root?this.get_container_ul():this.get_node(t,!0),e=this,u,f;for(r.length&&(r=this.is_open(t)?r.find(".jstree-open").addBack():r.find(".jstree-open"),n(r.get().reverse()).each(function(){e.close_node(this,i||0)})),u=0,f=t.children_d.length;f>u;u++)this._model.data[t.children_d[u]].state.opened=!1;this.trigger("close_all",{node:t})},is_disabled:function(n){return n=this.get_node(n),n&&n.state&&n.state.disabled},enable_node:function(t){var i,r;if(n.isArray(t)){for(t=t.slice(),i=0,r=t.length;r>i;i++)this.enable_node(t[i]);return!0}return t=this.get_node(t),t&&t.id!==n.jstree.root?(t.state.disabled=!1,this.get_node(t,!0).children(".jstree-anchor").removeClass("jstree-disabled").attr("aria-disabled",!1),void this.trigger("enable_node",{node:t})):!1},disable_node:function(t){var i,r;if(n.isArray(t)){for(t=t.slice(),i=0,r=t.length;r>i;i++)this.disable_node(t[i]);return!0}return t=this.get_node(t),t&&t.id!==n.jstree.root?(t.state.disabled=!0,this.get_node(t,!0).children(".jstree-anchor").addClass("jstree-disabled").attr("aria-disabled",!0),void this.trigger("disable_node",{node:t})):!1},hide_node:function(t,i){var r,u;if(n.isArray(t)){for(t=t.slice(),r=0,u=t.length;u>r;r++)this.hide_node(t[r],!0);return this.redraw(),!0}return t=this.get_node(t),t&&t.id!==n.jstree.root?void(t.state.hidden||(t.state.hidden=!0,this._node_changed(t.parent),i||this.redraw(),this.trigger("hide_node",{node:t}))):!1},show_node:function(t,i){var r,u;if(n.isArray(t)){for(t=t.slice(),r=0,u=t.length;u>r;r++)this.show_node(t[r],!0);return this.redraw(),!0}return t=this.get_node(t),t&&t.id!==n.jstree.root?void(t.state.hidden&&(t.state.hidden=!1,this._node_changed(t.parent),i||this.redraw(),this.trigger("show_node",{node:t}))):!1},hide_all:function(t){var i,r=this._model.data,u=[];for(i in r)r.hasOwnProperty(i)&&i!==n.jstree.root&&!r[i].state.hidden&&(r[i].state.hidden=!0,u.push(i));return this._model.force_full_redraw=!0,t||this.redraw(),this.trigger("hide_all",{nodes:u}),u},show_all:function(t){var i,r=this._model.data,u=[];for(i in r)r.hasOwnProperty(i)&&i!==n.jstree.root&&r[i].state.hidden&&(r[i].state.hidden=!1,u.push(i));return this._model.force_full_redraw=!0,t||this.redraw(),this.trigger("show_all",{nodes:u}),u},activate_node:function(n,i){if(this.is_disabled(n))return!1;if(i&&"object"==typeof i||(i={}),this._data.core.last_clicked=this._data.core.last_clicked&&this._data.core.last_clicked.id!==t?this.get_node(this._data.core.last_clicked.id):null,this._data.core.last_clicked&&!this._data.core.last_clicked.state.selected&&(this._data.core.last_clicked=null),!this._data.core.last_clicked&&this._data.core.selected.length&&(this._data.core.last_clicked=this.get_node(this._data.core.selected[this._data.core.selected.length-1])),this.settings.core.multiple&&(i.metaKey||i.ctrlKey||i.shiftKey)&&(!i.shiftKey||this._data.core.last_clicked&&this.get_parent(n)&&this.get_parent(n)===this._data.core.last_clicked.parent))if(i.shiftKey){for(var e=this.get_node(n).id,o=this._data.core.last_clicked.id,u=this.get_node(this._data.core.last_clicked.parent).children,f=!1,r=0,s=u.length;s>r;r+=1)u[r]===e&&(f=!f),u[r]===o&&(f=!f),this.is_disabled(u[r])||!f&&u[r]!==e&&u[r]!==o?this.deselect_node(u[r],!0,i):this.select_node(u[r],!0,!1,i);this.trigger("changed",{action:"select_node",node:this.get_node(n),selected:this._data.core.selected,event:i})}else this.is_selected(n)?this.deselect_node(n,!1,i):this.select_node(n,!1,!1,i);else!this.settings.core.multiple&&(i.metaKey||i.ctrlKey||i.shiftKey)&&this.is_selected(n)?this.deselect_node(n,!1,i):(this.deselect_all(!0),this.select_node(n,!1,!1,i),this._data.core.last_clicked=this.get_node(n));this.trigger("activate_node",{node:this.get_node(n),event:i})},hover_node:function(n){if(n=this.get_node(n,!0),!n||!n.length||n.children(".jstree-hovered").length)return!1;var t=this.element.find(".jstree-hovered"),i=this.element;t&&t.length&&this.dehover_node(t);n.children(".jstree-anchor").addClass("jstree-hovered");this.trigger("hover_node",{node:this.get_node(n)});setTimeout(function(){i.attr("aria-activedescendant",n[0].id)},0)},dehover_node:function(n){return n=this.get_node(n,!0),n&&n.length&&n.children(".jstree-hovered").length?(n.children(".jstree-anchor").removeClass("jstree-hovered"),void this.trigger("dehover_node",{node:this.get_node(n)})):!1},select_node:function(t,i,r,u){var f,e,o;if(n.isArray(t)){for(t=t.slice(),e=0,o=t.length;o>e;e++)this.select_node(t[e],i,r,u);return!0}return t=this.get_node(t),t&&t.id!==n.jstree.root?(f=this.get_node(t,!0),void(t.state.selected||(t.state.selected=!0,this._data.core.selected.push(t.id),r||(f=this._open_to(t)),f&&f.length&&f.attr("aria-selected",!0).children(".jstree-anchor").addClass("jstree-clicked"),this.trigger("select_node",{node:t,selected:this._data.core.selected,event:u}),i||this.trigger("changed",{action:"select_node",node:t,selected:this._data.core.selected,event:u})))):!1},deselect_node:function(t,i,r){var u,e,f;if(n.isArray(t)){for(t=t.slice(),u=0,e=t.length;e>u;u++)this.deselect_node(t[u],i,r);return!0}return t=this.get_node(t),t&&t.id!==n.jstree.root?(f=this.get_node(t,!0),void(t.state.selected&&(t.state.selected=!1,this._data.core.selected=n.vakata.array_remove_item(this._data.core.selected,t.id),f.length&&f.attr("aria-selected",!1).children(".jstree-anchor").removeClass("jstree-clicked"),this.trigger("deselect_node",{node:t,selected:this._data.core.selected,event:r}),i||this.trigger("changed",{action:"deselect_node",node:t,selected:this._data.core.selected,event:r})))):!1},select_all:function(t){var u=this._data.core.selected.concat([]),i,r;for(this._data.core.selected=this._model.data[n.jstree.root].children_d.concat(),i=0,r=this._data.core.selected.length;r>i;i++)this._model.data[this._data.core.selected[i]]&&(this._model.data[this._data.core.selected[i]].state.selected=!0);this.redraw(!0);this.trigger("select_all",{selected:this._data.core.selected});t||this.trigger("changed",{action:"select_all",selected:this._data.core.selected,old_selection:u})},deselect_all:function(n){for(var i=this._data.core.selected.concat([]),t=0,r=this._data.core.selected.length;r>t;t++)this._model.data[this._data.core.selected[t]]&&(this._model.data[this._data.core.selected[t]].state.selected=!1);this._data.core.selected=[];this.element.find(".jstree-clicked").removeClass("jstree-clicked").parent().attr("aria-selected",!1);this.trigger("deselect_all",{selected:this._data.core.selected,node:i});n||this.trigger("changed",{action:"deselect_all",selected:this._data.core.selected,old_selection:i})},is_selected:function(t){return t=this.get_node(t),t&&t.id!==n.jstree.root?t.state.selected:!1},get_selected:function(t){return t?n.map(this._data.core.selected,n.proxy(function(n){return this.get_node(n)},this)):this._data.core.selected.slice()},get_top_selected:function(t){for(var r=this.get_selected(!0),u={},f,o,i=0,e=r.length;e>i;i++)u[r[i].id]=r[i];for(i=0,e=r.length;e>i;i++)for(f=0,o=r[i].children_d.length;o>f;f++)u[r[i].children_d[f]]&&delete u[r[i].children_d[f]];r=[];for(i in u)u.hasOwnProperty(i)&&r.push(i);return t?n.map(r,n.proxy(function(n){return this.get_node(n)},this)):r},get_bottom_selected:function(t){for(var r=this.get_selected(!0),u=[],i=0,f=r.length;f>i;i++)r[i].children.length||u.push(r[i].id);return t?n.map(u,n.proxy(function(n){return this.get_node(n)},this)):u},get_state:function(){var i={core:{open:[],scroll:{left:this.element.scrollLeft(),top:this.element.scrollTop()},selected:[]}},t;for(t in this._model.data)this._model.data.hasOwnProperty(t)&&t!==n.jstree.root&&(this._model.data[t].state.opened&&i.core.open.push(t),this._model.data[t].state.selected&&i.core.selected.push(t));return i},set_state:function(i,r){if(i){if(i.core){var f,u;if(i.core.open)return n.isArray(i.core.open)&&i.core.open.length?this._load_nodes(i.core.open,function(n){this.open_node(n,!1,0);delete i.core.open;this.set_state(i,r)},!0):(delete i.core.open,this.set_state(i,r)),!1;if(i.core.scroll)return i.core.scroll&&i.core.scroll.left!==t&&this.element.scrollLeft(i.core.scroll.left),i.core.scroll&&i.core.scroll.top!==t&&this.element.scrollTop(i.core.scroll.top),delete i.core.scroll,this.set_state(i,r),!1;if(i.core.selected)return f=this,this.deselect_all(),n.each(i.core.selected,function(n,t){f.select_node(t,!1,!0)}),delete i.core.selected,this.set_state(i,r),!1;for(u in i)i.hasOwnProperty(u)&&"core"!==u&&-1===n.inArray(u,this.settings.plugins)&&delete i[u];if(n.isEmptyObject(i.core))return delete i.core,this.set_state(i,r),!1}return n.isEmptyObject(i)?(i=null,r&&r.call(this),this.trigger("set_state"),!1):!0}return!1},refresh:function(t,i){this._data.core.state=i===!0?{}:this.get_state();i&&n.isFunction(i)&&(this._data.core.state=i.call(this,this._data.core.state));this._cnt=0;this._model.data={};this._model.data[n.jstree.root]={id:n.jstree.root,parent:null,parents:[],children:[],children_d:[],state:{loaded:!1}};this._data.core.selected=[];this._data.core.last_clicked=null;this._data.core.focused=null;var r=this.get_container_ul()[0].className;t||(this.element.html("<ul class='"+r+"' role='group'><li class='jstree-initial-node jstree-loading jstree-leaf jstree-last' role='treeitem' id='j"+this._id+"_loading'><i class='jstree-icon jstree-ocl'><\/i><a class='jstree-anchor' href='#'><i class='jstree-icon jstree-themeicon-hidden'><\/i>"+this.get_string("Loading ...")+"<\/a><\/li><\/ul>"),this.element.attr("aria-activedescendant","j"+this._id+"_loading"));this.load_node(n.jstree.root,function(t,i){i&&(this.get_container_ul()[0].className=r,this._firstChild(this.get_container_ul()[0])&&this.element.attr("aria-activedescendant",this._firstChild(this.get_container_ul()[0]).id),this.set_state(n.extend(!0,{},this._data.core.state),function(){this.trigger("refresh")}));this._data.core.state=null})},refresh_node:function(t){if(t=this.get_node(t),!t||t.id===n.jstree.root)return!1;var i=[],r=[],u=this._data.core.selected.concat([]);r.push(t.id);t.state.opened===!0&&i.push(t.id);this.get_node(t,!0).find(".jstree-open").each(function(){i.push(this.id)});this._load_nodes(r,n.proxy(function(n){this.open_node(i,!1,0);this.select_node(this._data.core.selected);this.trigger("refresh_node",{node:t,nodes:n})},this))},set_id:function(t,i){if(t=this.get_node(t),!t||t.id===n.jstree.root)return!1;var r,f,u=this._model.data;for(i=i.toString(),u[t.parent].children[n.inArray(t.id,u[t.parent].children)]=i,r=0,f=t.parents.length;f>r;r++)u[t.parents[r]].children_d[n.inArray(t.id,u[t.parents[r]].children_d)]=i;for(r=0,f=t.children.length;f>r;r++)u[t.children[r]].parent=i;for(r=0,f=t.children_d.length;f>r;r++)u[t.children_d[r]].parents[n.inArray(t.id,u[t.children_d[r]].parents)]=i;return r=n.inArray(t.id,this._data.core.selected),-1!==r&&(this._data.core.selected[r]=i),r=this.get_node(t.id,!0),r&&(r.attr("id",i).children(".jstree-anchor").attr("id",i+"_anchor").end().attr("aria-labelledby",i+"_anchor"),this.element.attr("aria-activedescendant")===t.id&&this.element.attr("aria-activedescendant",i)),delete u[t.id],t.id=i,t.li_attr.id=i,u[i]=t,!0},get_text:function(t){return t=this.get_node(t),t&&t.id!==n.jstree.root?t.text:!1},set_text:function(t,i){var r,u;if(n.isArray(t)){for(t=t.slice(),r=0,u=t.length;u>r;r++)this.set_text(t[r],i);return!0}return t=this.get_node(t),t&&t.id!==n.jstree.root?(t.text=i,this.get_node(t,!0).length&&this.redraw_node(t.id),this.trigger("set_text",{obj:t,text:i}),!0):!1},get_json:function(t,i,r){if(t=this.get_node(t||n.jstree.root),!t)return!1;i&&i.flat&&!r&&(r=[]);var u={id:t.id,text:t.text,icon:this.get_icon(t),li_attr:n.extend(!0,{},t.li_attr),a_attr:n.extend(!0,{},t.a_attr),state:{},data:i&&i.no_data?!1:n.extend(!0,{},t.data)},f,e;if(i&&i.flat?u.parent=t.parent:u.children=[],!i||!i.no_state)for(f in t.state)t.state.hasOwnProperty(f)&&(u.state[f]=t.state[f]);if(i&&i.no_id&&(delete u.id,u.li_attr&&u.li_attr.id&&delete u.li_attr.id,u.a_attr&&u.a_attr.id&&delete u.a_attr.id),i&&i.flat&&t.id!==n.jstree.root&&r.push(u),!i||!i.no_children)for(f=0,e=t.children.length;e>f;f++)i&&i.flat?this.get_json(t.children[f],i,r):u.children.push(this.get_json(t.children[f],i));return i&&i.flat?r:t.id===n.jstree.root?u.children:u},create_node:function(i,r,u,f,e){if(null===i&&(i=n.jstree.root),i=this.get_node(i),!i)return!1;if(u=u===t?"last":u,!u.toString().match(/^(before|after)$/)&&!e&&!this.is_loaded(i))return this.load_node(i,function(){this.create_node(i,r,u,f,!0)});r||(r={text:this.get_string("New node")});"string"==typeof r&&(r={text:r});r.text===t&&(r.text=this.get_string("New node"));var o,h,s,c;switch(i.id===n.jstree.root&&("before"===u&&(u="first"),"after"===u&&(u="last")),u){case"before":o=this.get_node(i.parent);u=n.inArray(i.id,o.children);i=o;break;case"after":o=this.get_node(i.parent);u=n.inArray(i.id,o.children)+1;i=o;break;case"inside":case"first":u=0;break;case"last":u=i.children.length;break;default:u||(u=0)}if(u>i.children.length&&(u=i.children.length),r.id||(r.id=!0),!this.check("create_node",r,i,u))return this.settings.core.error.call(this,this._data.core.last_error),!1;if(r.id===!0&&delete r.id,r=this._parse_model_from_json(r,i.id,i.parents.concat()),!r)return!1;for(o=this.get_node(r),h=[],h.push(r),h=h.concat(o.children_d),this.trigger("model",{nodes:h,parent:i.id}),i.children_d=i.children_d.concat(h),s=0,c=i.parents.length;c>s;s++)this._model.data[i.parents[s]].children_d=this._model.data[i.parents[s]].children_d.concat(h);for(r=o,o=[],s=0,c=i.children.length;c>s;s++)o[s>=u?s+1:s]=i.children[s];return o[u]=r.id,i.children=o,this.redraw_node(i,!0),f&&f.call(this,this.get_node(r)),this.trigger("create_node",{node:this.get_node(r),parent:i.id,position:u}),r.id},rename_node:function(t,i){var r,u,f;if(n.isArray(t)){for(t=t.slice(),r=0,u=t.length;u>r;r++)this.rename_node(t[r],i);return!0}return t=this.get_node(t),t&&t.id!==n.jstree.root?(f=t.text,this.check("rename_node",t,this.get_parent(t),i)?(this.set_text(t,i),this.trigger("rename_node",{node:t,text:i,old:f}),!0):(this.settings.core.error.call(this,this._data.core.last_error),!1)):!1},delete_node:function(t){var o,c,i,r,f,e,l,u,s,h,a,v;if(n.isArray(t)){for(t=t.slice(),o=0,c=t.length;c>o;o++)this.delete_node(t[o]);return!0}if(t=this.get_node(t),!t||t.id===n.jstree.root)return!1;if(i=this.get_node(t.parent),r=n.inArray(t.id,i.children),h=!1,!this.check("delete_node",t,i,r))return this.settings.core.error.call(this,this._data.core.last_error),!1;for(-1!==r&&(i.children=n.vakata.array_remove(i.children,r)),f=t.children_d.concat([]),f.push(t.id),u=0,s=f.length;s>u;u++){for(e=0,l=t.parents.length;l>e;e++)r=n.inArray(f[u],this._model.data[t.parents[e]].children_d),-1!==r&&(this._model.data[t.parents[e]].children_d=n.vakata.array_remove(this._model.data[t.parents[e]].children_d,r));this._model.data[f[u]].state.selected&&(h=!0,r=n.inArray(f[u],this._data.core.selected),-1!==r&&(this._data.core.selected=n.vakata.array_remove(this._data.core.selected,r)))}for(this.trigger("delete_node",{node:t,parent:i.id}),h&&this.trigger("changed",{action:"delete_node",node:t,selected:this._data.core.selected,parent:i.id}),u=0,s=f.length;s>u;u++)delete this._model.data[f[u]];return-1!==n.inArray(this._data.core.focused,f)&&(this._data.core.focused=null,a=this.element[0].scrollTop,v=this.element[0].scrollLeft,i.id===n.jstree.root?this.get_node(this._model.data[n.jstree.root].children[0],!0).children(".jstree-anchor").focus():this.get_node(i,!0).children(".jstree-anchor").focus(),this.element[0].scrollTop=a,this.element[0].scrollLeft=v),this.redraw_node(i,!0),!0},check:function(t,i,r,u,f){i=i&&i.id?i:this.get_node(i);r=r&&r.id?r:this.get_node(r);var e=t.match(/^move_node|copy_node|create_node$/i)?r:i,o=this.settings.core.check_callback;return"move_node"!==t&&"copy_node"!==t||f&&f.is_multi||i.id!==r.id&&n.inArray(i.id,r.children)!==u&&-1===n.inArray(r.id,i.children_d)?(e&&e.data&&(e=e.data),e&&e.functions&&(e.functions[t]===!1||e.functions[t]===!0)?(e.functions[t]===!1&&(this._data.core.last_error={error:"check",plugin:"core",id:"core_02",reason:"Node data prevents function: "+t,data:JSON.stringify({chk:t,pos:u,obj:i&&i.id?i.id:!1,par:r&&r.id?r.id:!1})}),e.functions[t]):o===!1||n.isFunction(o)&&o.call(this,t,i,r,u,f)===!1||o&&o[t]===!1?(this._data.core.last_error={error:"check",plugin:"core",id:"core_03",reason:"User config for core.check_callback prevents function: "+t,data:JSON.stringify({chk:t,pos:u,obj:i&&i.id?i.id:!1,par:r&&r.id?r.id:!1})},!1):!0):(this._data.core.last_error={error:"check",plugin:"core",id:"core_01",reason:"Moving parent inside child",data:JSON.stringify({chk:t,pos:u,obj:i&&i.id?i.id:!1,par:r&&r.id?r.id:!1})},!1)},last_error:function(){return this._data.core.last_error},move_node:function(i,r,u,f,e,o,s){var k,d,y,g,l,c,nt,v,a,h,p,b,tt,w;if(r=this.get_node(r),u=u===t?0:u,!r)return!1;if(!u.toString().match(/^(before|after)$/)&&!e&&!this.is_loaded(r))return this.load_node(r,function(){this.move_node(i,r,u,f,!0,!1,s)});if(n.isArray(i)){if(1!==i.length){for(k=0,d=i.length;d>k;k++)(a=this.move_node(i[k],r,u,f,e,!1,s))&&(r=a,u="after");return this.redraw(),!0}i=i[0]}if(i=i&&i.id?i:this.get_node(i),!i||i.id===n.jstree.root)return!1;if(y=(i.parent||n.jstree.root).toString(),l=u.toString().match(/^(before|after)$/)&&r.id!==n.jstree.root?this.get_node(r.parent):r,c=s?s:this._model.data[i.id]?this:n.jstree.reference(i.id),nt=!c||!c._id||this._id!==c._id,g=c&&c._id&&y&&c._model.data[y]&&c._model.data[y].children?n.inArray(i.id,c._model.data[y].children):-1,c&&c._id&&(i=c._model.data[i.id]),nt)return(a=this.copy_node(i,r,u,f,e,!1,s))?(c&&c.delete_node(i),a):!1;switch(r.id===n.jstree.root&&("before"===u&&(u="first"),"after"===u&&(u="last")),u){case"before":u=n.inArray(r.id,l.children);break;case"after":u=n.inArray(r.id,l.children)+1;break;case"inside":case"first":u=0;break;case"last":u=l.children.length;break;default:u||(u=0)}if(u>l.children.length&&(u=l.children.length),!this.check("move_node",i,l,u,{core:!0,origin:s,is_multi:c&&c._id&&c._id!==this._id,is_foreign:!c||!c._id}))return this.settings.core.error.call(this,this._data.core.last_error),!1;if(i.parent===l.id){for(v=l.children.concat(),a=n.inArray(i.id,v),-1!==a&&(v=n.vakata.array_remove(v,a),u>a&&u--),a=[],h=0,p=v.length;p>h;h++)a[h>=u?h+1:h]=v[h];a[u]=i.id;l.children=a;this._node_changed(l.id);this.redraw(l.id===n.jstree.root)}else{for(a=i.children_d.concat(),a.push(i.id),h=0,p=i.parents.length;p>h;h++){for(v=[],w=c._model.data[i.parents[h]].children_d,b=0,tt=w.length;tt>b;b++)-1===n.inArray(w[b],a)&&v.push(w[b]);c._model.data[i.parents[h]].children_d=v}for(c._model.data[y].children=n.vakata.array_remove_item(c._model.data[y].children,i.id),h=0,p=l.parents.length;p>h;h++)this._model.data[l.parents[h]].children_d=this._model.data[l.parents[h]].children_d.concat(a);for(v=[],h=0,p=l.children.length;p>h;h++)v[h>=u?h+1:h]=l.children[h];for(v[u]=i.id,l.children=v,l.children_d.push(i.id),l.children_d=l.children_d.concat(i.children_d),i.parent=l.id,a=l.parents.concat(),a.unshift(l.id),w=i.parents.length,i.parents=a,a=a.concat(),h=0,p=i.children_d.length;p>h;h++)this._model.data[i.children_d[h]].parents=this._model.data[i.children_d[h]].parents.slice(0,-1*w),Array.prototype.push.apply(this._model.data[i.children_d[h]].parents,a);(y===n.jstree.root||l.id===n.jstree.root)&&(this._model.force_full_redraw=!0);this._model.force_full_redraw||(this._node_changed(y),this._node_changed(l.id));o||this.redraw()}return f&&f.call(this,i,l,u),this.trigger("move_node",{node:i,parent:l.id,position:u,old_parent:y,old_position:g,is_multi:c&&c._id&&c._id!==this._id,is_foreign:!c||!c._id,old_instance:c,new_instance:this}),i.id},copy_node:function(i,r,u,f,e,o,s){var w,k,v,a,l,b,y,p,c,h,d;if(r=this.get_node(r),u=u===t?0:u,!r)return!1;if(!u.toString().match(/^(before|after)$/)&&!e&&!this.is_loaded(r))return this.load_node(r,function(){this.copy_node(i,r,u,f,!0,!1,s)});if(n.isArray(i)){if(1!==i.length){for(w=0,k=i.length;k>w;w++)(a=this.copy_node(i[w],r,u,f,e,!0,s))&&(r=a,u="after");return this.redraw(),!0}i=i[0]}if(i=i&&i.id?i:this.get_node(i),!i||i.id===n.jstree.root)return!1;switch(p=(i.parent||n.jstree.root).toString(),c=u.toString().match(/^(before|after)$/)&&r.id!==n.jstree.root?this.get_node(r.parent):r,h=s?s:this._model.data[i.id]?this:n.jstree.reference(i.id),d=!h||!h._id||this._id!==h._id,h&&h._id&&(i=h._model.data[i.id]),r.id===n.jstree.root&&("before"===u&&(u="first"),"after"===u&&(u="last")),u){case"before":u=n.inArray(r.id,c.children);break;case"after":u=n.inArray(r.id,c.children)+1;break;case"inside":case"first":u=0;break;case"last":u=c.children.length;break;default:u||(u=0)}if(u>c.children.length&&(u=c.children.length),!this.check("copy_node",i,c,u,{core:!0,origin:s,is_multi:h&&h._id&&h._id!==this._id,is_foreign:!h||!h._id}))return this.settings.core.error.call(this,this._data.core.last_error),!1;if((y=h?h.get_json(i,{no_id:!0,no_data:!0,no_state:!0}):i,!y)||(y.id===!0&&delete y.id,y=this._parse_model_from_json(y,c.id,c.parents.concat()),!y))return!1;for(a=this.get_node(y),i&&i.state&&i.state.loaded===!1&&(a.state.loaded=!1),v=[],v.push(y),v=v.concat(a.children_d),this.trigger("model",{nodes:v,parent:c.id}),l=0,b=c.parents.length;b>l;l++)this._model.data[c.parents[l]].children_d=this._model.data[c.parents[l]].children_d.concat(v);for(v=[],l=0,b=c.children.length;b>l;l++)v[l>=u?l+1:l]=c.children[l];return v[u]=a.id,c.children=v,c.children_d.push(a.id),c.children_d=c.children_d.concat(a.children_d),c.id===n.jstree.root&&(this._model.force_full_redraw=!0),this._model.force_full_redraw||this._node_changed(c.id),o||this.redraw(c.id===n.jstree.root),f&&f.call(this,a,c,u),this.trigger("copy_node",{node:a,original:i,parent:c.id,position:u,old_parent:p,old_position:h&&h._id&&p&&h._model.data[p]&&h._model.data[p].children?n.inArray(i.id,h._model.data[p].children):-1,is_multi:h&&h._id&&h._id!==this._id,is_foreign:!h||!h._id,old_instance:h,new_instance:this}),a.id},cut:function(t){if(t||(t=this._data.core.selected.concat()),n.isArray(t)||(t=[t]),!t.length)return!1;for(var o=[],i,r=0,s=t.length;s>r;r++)i=this.get_node(t[r]),i&&i.id&&i.id!==n.jstree.root&&o.push(i);return o.length?(f=o,e=this,u="move_node",void this.trigger("cut",{node:t})):!1},copy:function(t){if(t||(t=this._data.core.selected.concat()),n.isArray(t)||(t=[t]),!t.length)return!1;for(var o=[],i,r=0,s=t.length;s>r;r++)i=this.get_node(t[r]),i&&i.id&&i.id!==n.jstree.root&&o.push(i);return o.length?(f=o,e=this,u="copy_node",void this.trigger("copy",{node:t})):!1},get_buffer:function(){return{mode:u,node:f,inst:e}},can_paste:function(){return u!==!1&&f!==!1},paste:function(n,t){return n=this.get_node(n),n&&u&&u.match(/^(copy_node|move_node)$/)&&f?(this[u](f,n,t,!1,!1,!1,e)&&this.trigger("paste",{parent:n.id,node:f,mode:u}),f=!1,u=!1,void(e=!1)):!1},clear_buffer:function(){f=!1;u=!1;e=!1;this.trigger("clear_buffer")},edit:function(t,i,r){var a,c,u,o,f,s,h,l,e,v=!1;return(t=this.get_node(t))?this.settings.core.check_callback===!1?(this._data.core.last_error={error:"check",plugin:"core",id:"core_07",reason:"Could not edit node because of check_callback"},this.settings.core.error.call(this,this._data.core.last_error),!1):(e=t,i="string"==typeof i?i:t.text,this.set_text(t,""),t=this._open_to(t),e.text=i,a=this._data.core.rtl,c=this.element.width(),this._data.core.focused=e.id,u=t.children(".jstree-anchor").focus(),o=n("<span>"),f=i,s=n("<div />",{css:{position:"absolute",top:"-200px",left:a?"0px":"-1000px",visibility:"hidden"}}).appendTo("body"),h=n("<input />",{value:f,"class":"jstree-rename-input",css:{padding:"0",border:"1px solid silver","box-sizing":"border-box",display:"inline-block",height:this._data.core.li_height+"px",lineHeight:this._data.core.li_height+"px",width:"150px"},blur:n.proxy(function(i){i.stopImmediatePropagation();i.preventDefault();var a=o.children(".jstree-rename-input"),h=a.val(),l=this.settings.core.force_text,c;""===h&&(h=f);s.remove();o.replaceWith(u);o.remove();f=l?f:n("<div><\/div>").append(n.parseHTML(f)).html();this.set_text(t,f);c=!!this.rename_node(t,l?n("<div><\/div>").text(h).text():n("<div><\/div>").append(n.parseHTML(h)).html());c||this.set_text(t,f);this._data.core.focused=e.id;setTimeout(n.proxy(function(){var n=this.get_node(e.id,!0);n.length&&(this._data.core.focused=e.id,n.children(".jstree-anchor").focus())},this),0);r&&r.call(this,e,c,v)},this),keydown:function(n){var t=n.which;27===t&&(v=!0,this.value=f);(27===t||13===t||37===t||38===t||39===t||40===t||32===t)&&n.stopImmediatePropagation();(27===t||13===t)&&(n.preventDefault(),this.blur())},click:function(n){n.stopImmediatePropagation()},mousedown:function(n){n.stopImmediatePropagation()},keyup:function(){h.width(Math.min(s.text("pW"+this.value).width(),c))},keypress:function(n){if(13===n.which)return!1}}),l={fontFamily:u.css("fontFamily")||"",fontSize:u.css("fontSize")||"",fontWeight:u.css("fontWeight")||"",fontStyle:u.css("fontStyle")||"",fontStretch:u.css("fontStretch")||"",fontVariant:u.css("fontVariant")||"",letterSpacing:u.css("letterSpacing")||"",wordSpacing:u.css("wordSpacing")||""},o.attr("class",u.attr("class")).append(u.contents().clone()).append(h),u.replaceWith(o),s.css(l),void h.css(l).width(Math.min(s.text("pW"+h[0].value).width(),c))[0].select()):!1},set_theme:function(t,i){if(!t)return!1;if(i===!0){var r=this.settings.core.themes.dir;r||(r=n.jstree.path+"/themes");i=r+"/"+t+"/style.css"}i&&-1===n.inArray(i,y)&&(n("head").append('<link rel="stylesheet" href="'+i+'" type="text/css" />'),y.push(i));this._data.core.themes.name&&this.element.removeClass("jstree-"+this._data.core.themes.name);this._data.core.themes.name=t;this.element.addClass("jstree-"+t);this.element[this.settings.core.themes.responsive?"addClass":"removeClass"]("jstree-"+t+"-responsive");this.trigger("set_theme",{theme:t})},get_theme:function(){return this._data.core.themes.name},set_theme_variant:function(n){this._data.core.themes.variant&&this.element.removeClass("jstree-"+this._data.core.themes.name+"-"+this._data.core.themes.variant);this._data.core.themes.variant=n;n&&this.element.addClass("jstree-"+this._data.core.themes.name+"-"+this._data.core.themes.variant)},get_theme_variant:function(){return this._data.core.themes.variant},show_stripes:function(){this._data.core.themes.stripes=!0;this.get_container_ul().addClass("jstree-striped")},hide_stripes:function(){this._data.core.themes.stripes=!1;this.get_container_ul().removeClass("jstree-striped")},toggle_stripes:function(){this._data.core.themes.stripes?this.hide_stripes():this.show_stripes()},show_dots:function(){this._data.core.themes.dots=!0;this.get_container_ul().removeClass("jstree-no-dots")},hide_dots:function(){this._data.core.themes.dots=!1;this.get_container_ul().addClass("jstree-no-dots")},toggle_dots:function(){this._data.core.themes.dots?this.hide_dots():this.show_dots()},show_icons:function(){this._data.core.themes.icons=!0;this.get_container_ul().removeClass("jstree-no-icons")},hide_icons:function(){this._data.core.themes.icons=!1;this.get_container_ul().addClass("jstree-no-icons")},toggle_icons:function(){this._data.core.themes.icons?this.hide_icons():this.show_icons()},set_icon:function(i,r){var e,o,f,u;if(n.isArray(i)){for(i=i.slice(),e=0,o=i.length;o>e;e++)this.set_icon(i[e],r);return!0}return i=this.get_node(i),i&&i.id!==n.jstree.root?(u=i.icon,i.icon=r===!0||null===r||r===t||""===r?!0:r,f=this.get_node(i,!0).children(".jstree-anchor").children(".jstree-themeicon"),r===!1?this.hide_icon(i):r===!0||null===r||r===t||""===r?(f.removeClass("jstree-themeicon-custom "+u).css("background","").removeAttr("rel"),u===!1&&this.show_icon(i)):-1===r.indexOf("/")&&-1===r.indexOf(".")?(f.removeClass(u).css("background",""),f.addClass(r+" jstree-themeicon-custom").attr("rel",r),u===!1&&this.show_icon(i)):(f.removeClass(u).css("background",""),f.addClass("jstree-themeicon-custom").css("background","url('"+r+"') center center no-repeat").attr("rel",r),u===!1&&this.show_icon(i)),!0):!1},get_icon:function(t){return t=this.get_node(t),t&&t.id!==n.jstree.root?t.icon:!1},hide_icon:function(t){var i,r;if(n.isArray(t)){for(t=t.slice(),i=0,r=t.length;r>i;i++)this.hide_icon(t[i]);return!0}return t=this.get_node(t),t&&t!==n.jstree.root?(t.icon=!1,this.get_node(t,!0).children(".jstree-anchor").children(".jstree-themeicon").addClass("jstree-themeicon-hidden"),!0):!1},show_icon:function(t){var i,u,r;if(n.isArray(t)){for(t=t.slice(),i=0,u=t.length;u>i;i++)this.show_icon(t[i]);return!0}return t=this.get_node(t),t&&t!==n.jstree.root?(r=this.get_node(t,!0),t.icon=r.length?r.children(".jstree-anchor").children(".jstree-themeicon").attr("rel"):!0,t.icon||(t.icon=!0),r.children(".jstree-anchor").children(".jstree-themeicon").removeClass("jstree-themeicon-hidden"),!0):!1}},n.vakata={},n.vakata.attributes=function(t,i){t=n(t)[0];var r=i?{}:[];return t&&t.attributes&&n.each(t.attributes,function(t,u){-1===n.inArray(u.name.toLowerCase(),["style","contenteditable","hasfocus","tabindex"])&&null!==u.value&&""!==n.trim(u.value)&&(i?r[u.name]=u.value:r.push(u.name))}),r},n.vakata.array_unique=function(n){for(var r=[],f={},i=0,u=n.length;u>i;i++)f[n[i]]===t&&(r.push(n[i]),f[n[i]]=!0);return r},n.vakata.array_remove=function(n,t,i){var r=n.slice((i||t)+1||n.length);return n.length=0>t?n.length+t:t,n.push.apply(n,r),n},n.vakata.array_remove_item=function(t,i){var r=n.inArray(i,t);return-1!==r?n.vakata.array_remove(t,r):t},n.jstree.plugins.changed=function(n,t){var i=[];this.trigger=function(n,r){var u,f,e;if(r||(r={}),"changed"===n.replace(".jstree","")){for(r.changed={selected:[],deselected:[]},e={},u=0,f=i.length;f>u;u++)e[i[u]]=1;for(u=0,f=r.selected.length;f>u;u++)e[r.selected[u]]?e[r.selected[u]]=2:r.changed.selected.push(r.selected[u]);for(u=0,f=i.length;f>u;u++)1===e[i[u]]&&r.changed.deselected.push(i[u]);i=r.selected.slice()}t.trigger.call(this,n,r)};this.refresh=function(){return i=[],t.refresh.apply(this,arguments)}},c=i.createElement("I"),c.className="jstree-icon jstree-checkbox",c.setAttribute("role","presentation"),n.jstree.defaults.checkbox={visible:!0,three_state:!0,whole_node:!0,keep_selected_style:!0,cascade:"",tie_selection:!0},n.jstree.plugins.checkbox=function(i,r){this.bind=function(){r.bind.call(this);this._data.checkbox.uto=!1;this._data.checkbox.selected=[];this.settings.checkbox.three_state&&(this.settings.checkbox.cascade="up+down+undetermined");this.element.on("init.jstree",n.proxy(function(){this._data.checkbox.visible=this.settings.checkbox.visible;this.settings.checkbox.keep_selected_style||this.element.addClass("jstree-checkbox-no-clicked");this.settings.checkbox.tie_selection&&this.element.addClass("jstree-checkbox-selection")},this)).on("loading.jstree",n.proxy(function(){this[this._data.checkbox.visible?"show_checkboxes":"hide_checkboxes"]()},this));-1!==this.settings.checkbox.cascade.indexOf("undetermined")&&this.element.on("changed.jstree uncheck_node.jstree check_node.jstree uncheck_all.jstree check_all.jstree move_node.jstree copy_node.jstree redraw.jstree open_node.jstree",n.proxy(function(){this._data.checkbox.uto&&clearTimeout(this._data.checkbox.uto);this._data.checkbox.uto=setTimeout(n.proxy(this._undetermined,this),50)},this));this.settings.checkbox.tie_selection||this.element.on("model.jstree",n.proxy(function(n,t){for(var u=this._model.data,e=u[t.parent],r=t.nodes,i=0,f=r.length;f>i;i++)u[r[i]].state.checked=u[r[i]].state.checked||u[r[i]].original&&u[r[i]].original.state&&u[r[i]].original.state.checked,u[r[i]].state.checked&&this._data.checkbox.selected.push(r[i])},this));(-1!==this.settings.checkbox.cascade.indexOf("up")||-1!==this.settings.checkbox.cascade.indexOf("down"))&&this.element.on("model.jstree",n.proxy(function(t,i){var e=this._model.data,u=e[i.parent],s=i.nodes,c=[],v,r,o,h,l,a,y=this.settings.checkbox.cascade,f=this.settings.checkbox.tie_selection;if(-1!==y.indexOf("down"))if(u.state[f?"selected":"checked"]){for(r=0,o=s.length;o>r;r++)e[s[r]].state[f?"selected":"checked"]=!0;this._data[f?"core":"checkbox"].selected=this._data[f?"core":"checkbox"].selected.concat(s)}else for(r=0,o=s.length;o>r;r++)if(e[s[r]].state[f?"selected":"checked"]){for(h=0,l=e[s[r]].children_d.length;l>h;h++)e[e[s[r]].children_d[h]].state[f?"selected":"checked"]=!0;this._data[f?"core":"checkbox"].selected=this._data[f?"core":"checkbox"].selected.concat(e[s[r]].children_d)}if(-1!==y.indexOf("up")){for(r=0,o=u.children_d.length;o>r;r++)e[u.children_d[r]].children.length||c.push(e[u.children_d[r]].parent);for(c=n.vakata.array_unique(c),h=0,l=c.length;l>h;h++)for(u=e[c[h]];u&&u.id!==n.jstree.root;){for(v=0,r=0,o=u.children.length;o>r;r++)v+=e[u.children[r]].state[f?"selected":"checked"];if(v!==o)break;u.state[f?"selected":"checked"]=!0;this._data[f?"core":"checkbox"].selected.push(u.id);a=this.get_node(u,!0);a&&a.length&&a.attr("aria-selected",!0).children(".jstree-anchor").addClass(f?"jstree-clicked":"jstree-checked");u=this.get_node(u.parent)}}this._data[f?"core":"checkbox"].selected=n.vakata.array_unique(this._data[f?"core":"checkbox"].selected)},this)).on(this.settings.checkbox.tie_selection?"select_node.jstree":"check_node.jstree",n.proxy(function(t,i){var o=i.node,l=this._model.data,u=this.get_node(o.parent),a=this.get_node(o,!0),f,s,h,r,c=this.settings.checkbox.cascade,e=this.settings.checkbox.tie_selection;if(-1!==c.indexOf("down"))for(this._data[e?"core":"checkbox"].selected=n.vakata.array_unique(this._data[e?"core":"checkbox"].selected.concat(o.children_d)),f=0,s=o.children_d.length;s>f;f++)r=l[o.children_d[f]],r.state[e?"selected":"checked"]=!0,r&&r.original&&r.original.state&&r.original.state.undetermined&&(r.original.state.undetermined=!1);if(-1!==c.indexOf("up"))while(u&&u.id!==n.jstree.root){for(h=0,f=0,s=u.children.length;s>f;f++)h+=l[u.children[f]].state[e?"selected":"checked"];if(h!==s)break;u.state[e?"selected":"checked"]=!0;this._data[e?"core":"checkbox"].selected.push(u.id);r=this.get_node(u,!0);r&&r.length&&r.attr("aria-selected",!0).children(".jstree-anchor").addClass(e?"jstree-clicked":"jstree-checked");u=this.get_node(u.parent)}-1!==c.indexOf("down")&&a.length&&a.find(".jstree-anchor").addClass(e?"jstree-clicked":"jstree-checked").parent().attr("aria-selected",!0)},this)).on(this.settings.checkbox.tie_selection?"deselect_all.jstree":"uncheck_all.jstree",n.proxy(function(){for(var r=this.get_node(n.jstree.root),f=this._model.data,t,i=0,u=r.children_d.length;u>i;i++)t=f[r.children_d[i]],t&&t.original&&t.original.state&&t.original.state.undetermined&&(t.original.state.undetermined=!1)},this)).on(this.settings.checkbox.tie_selection?"deselect_node.jstree":"uncheck_node.jstree",n.proxy(function(t,i){var f=i.node,h=this.get_node(f,!0),u,o,r,s=this.settings.checkbox.cascade,e=this.settings.checkbox.tie_selection;if(f&&f.original&&f.original.state&&f.original.state.undetermined&&(f.original.state.undetermined=!1),-1!==s.indexOf("down"))for(u=0,o=f.children_d.length;o>u;u++)r=this._model.data[f.children_d[u]],r.state[e?"selected":"checked"]=!1,r&&r.original&&r.original.state&&r.original.state.undetermined&&(r.original.state.undetermined=!1);if(-1!==s.indexOf("up"))for(u=0,o=f.parents.length;o>u;u++)r=this._model.data[f.parents[u]],r.state[e?"selected":"checked"]=!1,r&&r.original&&r.original.state&&r.original.state.undetermined&&(r.original.state.undetermined=!1),r=this.get_node(f.parents[u],!0),r&&r.length&&r.attr("aria-selected",!1).children(".jstree-anchor").removeClass(e?"jstree-clicked":"jstree-checked");for(r=[],u=0,o=this._data[e?"core":"checkbox"].selected.length;o>u;u++)-1!==s.indexOf("down")&&-1!==n.inArray(this._data[e?"core":"checkbox"].selected[u],f.children_d)||-1!==s.indexOf("up")&&-1!==n.inArray(this._data[e?"core":"checkbox"].selected[u],f.parents)||r.push(this._data[e?"core":"checkbox"].selected[u]);this._data[e?"core":"checkbox"].selected=n.vakata.array_unique(r);-1!==s.indexOf("down")&&h.length&&h.find(".jstree-anchor").removeClass(e?"jstree-clicked":"jstree-checked").parent().attr("aria-selected",!1)},this));-1!==this.settings.checkbox.cascade.indexOf("up")&&this.element.on("delete_node.jstree",n.proxy(function(t,i){for(var r=this.get_node(i.parent),h=this._model.data,f,e,s,o,u=this.settings.checkbox.tie_selection;r&&r.id!==n.jstree.root&&!r.state[u?"selected":"checked"];){for(s=0,f=0,e=r.children.length;e>f;f++)s+=h[r.children[f]].state[u?"selected":"checked"];if(!(e>0&&s===e))break;r.state[u?"selected":"checked"]=!0;this._data[u?"core":"checkbox"].selected.push(r.id);o=this.get_node(r,!0);o&&o.length&&o.attr("aria-selected",!0).children(".jstree-anchor").addClass(u?"jstree-clicked":"jstree-checked");r=this.get_node(r.parent)}},this)).on("move_node.jstree",n.proxy(function(t,i){var c=i.is_multi,l=i.old_parent,a=this.get_node(i.parent),h=this._model.data,r,s,e,o,f,u=this.settings.checkbox.tie_selection;if(!c)for(r=this.get_node(l);r&&r.id!==n.jstree.root&&!r.state[u?"selected":"checked"];){for(s=0,e=0,o=r.children.length;o>e;e++)s+=h[r.children[e]].state[u?"selected":"checked"];if(!(o>0&&s===o))break;r.state[u?"selected":"checked"]=!0;this._data[u?"core":"checkbox"].selected.push(r.id);f=this.get_node(r,!0);f&&f.length&&f.attr("aria-selected",!0).children(".jstree-anchor").addClass(u?"jstree-clicked":"jstree-checked");r=this.get_node(r.parent)}for(r=a;r&&r.id!==n.jstree.root;){for(s=0,e=0,o=r.children.length;o>e;e++)s+=h[r.children[e]].state[u?"selected":"checked"];if(s===o)r.state[u?"selected":"checked"]||(r.state[u?"selected":"checked"]=!0,this._data[u?"core":"checkbox"].selected.push(r.id),f=this.get_node(r,!0),f&&f.length&&f.attr("aria-selected",!0).children(".jstree-anchor").addClass(u?"jstree-clicked":"jstree-checked"));else{if(!r.state[u?"selected":"checked"])break;r.state[u?"selected":"checked"]=!1;this._data[u?"core":"checkbox"].selected=n.vakata.array_remove_item(this._data[u?"core":"checkbox"].selected,r.id);f=this.get_node(r,!0);f&&f.length&&f.attr("aria-selected",!1).children(".jstree-anchor").removeClass(u?"jstree-clicked":"jstree-checked")}r=this.get_node(r.parent)}},this))};this._undetermined=function(){if(null!==this.element){for(var i,h,f={},e=this._model.data,c=this.settings.checkbox.tie_selection,u=this._data[c?"core":"checkbox"].selected,o=[],l=this,r=0,s=u.length;s>r;r++)if(e[u[r]]&&e[u[r]].parents)for(i=0,h=e[u[r]].parents.length;h>i;i++)f[e[u[r]].parents[i]]===t&&e[u[r]].parents[i]!==n.jstree.root&&(f[e[u[r]].parents[i]]=!0,o.push(e[u[r]].parents[i]));for(this.element.find(".jstree-closed").not(":has(.jstree-children)").each(function(){var u=l.get_node(this),c;if(u.state.loaded){for(r=0,s=u.children_d.length;s>r;r++)if(c=e[u.children_d[r]],!c.state.loaded&&c.original&&c.original.state&&c.original.state.undetermined&&c.original.state.undetermined===!0)for(f[c.id]===t&&c.id!==n.jstree.root&&(f[c.id]=!0,o.push(c.id)),i=0,h=c.parents.length;h>i;i++)f[c.parents[i]]===t&&c.parents[i]!==n.jstree.root&&(f[c.parents[i]]=!0,o.push(c.parents[i]))}else if(u.original&&u.original.state&&u.original.state.undetermined&&u.original.state.undetermined===!0)for(f[u.id]===t&&u.id!==n.jstree.root&&(f[u.id]=!0,o.push(u.id)),i=0,h=u.parents.length;h>i;i++)f[u.parents[i]]===t&&u.parents[i]!==n.jstree.root&&(f[u.parents[i]]=!0,o.push(u.parents[i]))}),this.element.find(".jstree-undetermined").removeClass("jstree-undetermined"),r=0,s=o.length;s>r;r++)e[o[r]].state[c?"selected":"checked"]||(u=this.get_node(o[r],!0),u&&u.length&&u.children(".jstree-anchor").children(".jstree-checkbox").addClass("jstree-undetermined"))}};this.redraw_node=function(t,i,u){if(t=r.redraw_node.apply(this,arguments)){for(var e=null,o=null,f=0,s=t.childNodes.length;s>f;f++)if(t.childNodes[f]&&t.childNodes[f].className&&-1!==t.childNodes[f].className.indexOf("jstree-anchor")){e=t.childNodes[f];break}e&&(!this.settings.checkbox.tie_selection&&this._model.data[t.id].state.checked&&(e.className+=" jstree-checked"),o=c.cloneNode(!1),this._model.data[t.id].state.checkbox_disabled&&(o.className+=" jstree-checkbox-disabled"),e.insertBefore(o,e.childNodes[0]))}return u||-1===this.settings.checkbox.cascade.indexOf("undetermined")||(this._data.checkbox.uto&&clearTimeout(this._data.checkbox.uto),this._data.checkbox.uto=setTimeout(n.proxy(this._undetermined,this),50)),t};this.show_checkboxes=function(){this._data.core.themes.checkboxes=!0;this.get_container_ul().removeClass("jstree-no-checkboxes")};this.hide_checkboxes=function(){this._data.core.themes.checkboxes=!1;this.get_container_ul().addClass("jstree-no-checkboxes")};this.toggle_checkboxes=function(){this._data.core.themes.checkboxes?this.hide_checkboxes():this.show_checkboxes()};this.is_undetermined=function(t){t=this.get_node(t);var r=this.settings.checkbox.cascade,i,u,f=this.settings.checkbox.tie_selection,o=this._data[f?"core":"checkbox"].selected,e=this._model.data;if(!t||t.state[f?"selected":"checked"]===!0||-1===r.indexOf("undetermined")||-1===r.indexOf("down")&&-1===r.indexOf("up"))return!1;if(!t.state.loaded&&t.original.state.undetermined===!0)return!0;for(i=0,u=t.children_d.length;u>i;i++)if(-1!==n.inArray(t.children_d[i],o)||!e[t.children_d[i]].state.loaded&&e[t.children_d[i]].original.state.undetermined)return!0;return!1};this.disable_checkbox=function(t){var i,u,r;if(n.isArray(t)){for(t=t.slice(),i=0,u=t.length;u>i;i++)this.disable_checkbox(t[i]);return!0}return t=this.get_node(t),t&&t.id!==n.jstree.root?(r=this.get_node(t,!0),void(t.state.checkbox_disabled||(t.state.checkbox_disabled=!0,r&&r.length&&r.children(".jstree-anchor").children(".jstree-checkbox").addClass("jstree-checkbox-disabled"),this.trigger("disable_checkbox",{node:t})))):!1};this.enable_checkbox=function(t){var i,u,r;if(n.isArray(t)){for(t=t.slice(),i=0,u=t.length;u>i;i++)this.enable_checkbox(t[i]);return!0}return t=this.get_node(t),t&&t.id!==n.jstree.root?(r=this.get_node(t,!0),void(t.state.checkbox_disabled&&(t.state.checkbox_disabled=!1,r&&r.length&&r.children(".jstree-anchor").children(".jstree-checkbox").removeClass("jstree-checkbox-disabled"),this.trigger("enable_checkbox",{node:t})))):!1};this.activate_node=function(t,i){return n(i.target).hasClass("jstree-checkbox-disabled")?!1:(this.settings.checkbox.tie_selection&&(this.settings.checkbox.whole_node||n(i.target).hasClass("jstree-checkbox"))&&(i.ctrlKey=!0),this.settings.checkbox.tie_selection||!this.settings.checkbox.whole_node&&!n(i.target).hasClass("jstree-checkbox")?r.activate_node.call(this,t,i):this.is_disabled(t)?!1:(this.is_checked(t)?this.uncheck_node(t,i):this.check_node(t,i),void this.trigger("activate_node",{node:this.get_node(t)})))};this.check_node=function(t,i){if(this.settings.checkbox.tie_selection)return this.select_node(t,!1,!0,i);var r,u,f;if(n.isArray(t)){for(t=t.slice(),u=0,f=t.length;f>u;u++)this.check_node(t[u],i);return!0}return t=this.get_node(t),t&&t.id!==n.jstree.root?(r=this.get_node(t,!0),void(t.state.checked||(t.state.checked=!0,this._data.checkbox.selected.push(t.id),r&&r.length&&r.children(".jstree-anchor").addClass("jstree-checked"),this.trigger("check_node",{node:t,selected:this._data.checkbox.selected,event:i})))):!1};this.uncheck_node=function(t,i){if(this.settings.checkbox.tie_selection)return this.deselect_node(t,!1,i);var r,f,u;if(n.isArray(t)){for(t=t.slice(),r=0,f=t.length;f>r;r++)this.uncheck_node(t[r],i);return!0}return t=this.get_node(t),t&&t.id!==n.jstree.root?(u=this.get_node(t,!0),void(t.state.checked&&(t.state.checked=!1,this._data.checkbox.selected=n.vakata.array_remove_item(this._data.checkbox.selected,t.id),u.length&&u.children(".jstree-anchor").removeClass("jstree-checked"),this.trigger("uncheck_node",{node:t,selected:this._data.checkbox.selected,event:i})))):!1};this.check_all=function(){if(this.settings.checkbox.tie_selection)return this.select_all();var r=this._data.checkbox.selected.concat([]),t,i;for(this._data.checkbox.selected=this._model.data[n.jstree.root].children_d.concat(),t=0,i=this._data.checkbox.selected.length;i>t;t++)this._model.data[this._data.checkbox.selected[t]]&&(this._model.data[this._data.checkbox.selected[t]].state.checked=!0);this.redraw(!0);this.trigger("check_all",{selected:this._data.checkbox.selected})};this.uncheck_all=function(){if(this.settings.checkbox.tie_selection)return this.deselect_all();for(var i=this._data.checkbox.selected.concat([]),n=0,t=this._data.checkbox.selected.length;t>n;n++)this._model.data[this._data.checkbox.selected[n]]&&(this._model.data[this._data.checkbox.selected[n]].state.checked=!1);this._data.checkbox.selected=[];this.element.find(".jstree-checked").removeClass("jstree-checked");this.trigger("uncheck_all",{selected:this._data.checkbox.selected,node:i})};this.is_checked=function(t){return this.settings.checkbox.tie_selection?this.is_selected(t):(t=this.get_node(t),t&&t.id!==n.jstree.root?t.state.checked:!1)};this.get_checked=function(t){return this.settings.checkbox.tie_selection?this.get_selected(t):t?n.map(this._data.checkbox.selected,n.proxy(function(n){return this.get_node(n)},this)):this._data.checkbox.selected};this.get_top_checked=function(t){if(this.settings.checkbox.tie_selection)return this.get_top_selected(t);for(var r=this.get_checked(!0),u={},f,o,i=0,e=r.length;e>i;i++)u[r[i].id]=r[i];for(i=0,e=r.length;e>i;i++)for(f=0,o=r[i].children_d.length;o>f;f++)u[r[i].children_d[f]]&&delete u[r[i].children_d[f]];r=[];for(i in u)u.hasOwnProperty(i)&&r.push(i);return t?n.map(r,n.proxy(function(n){return this.get_node(n)},this)):r};this.get_bottom_checked=function(t){if(this.settings.checkbox.tie_selection)return this.get_bottom_selected(t);for(var r=this.get_checked(!0),u=[],i=0,f=r.length;f>i;i++)r[i].children.length||u.push(r[i].id);return t?n.map(u,n.proxy(function(n){return this.get_node(n)},this)):u};this.load_node=function(t){var u,f,e,i;if(!n.isArray(t)&&!this.settings.checkbox.tie_selection&&(i=this.get_node(t),i&&i.state.loaded))for(u=0,f=i.children_d.length;f>u;u++)this._model.data[i.children_d[u]].state.checked&&(e=!0,this._data.checkbox.selected=n.vakata.array_remove_item(this._data.checkbox.selected,i.children_d[u]));return r.load_node.apply(this,arguments)};this.get_state=function(){var n=r.get_state.apply(this,arguments);return this.settings.checkbox.tie_selection?n:(n.checkbox=this._data.checkbox.selected.slice(),n)};this.set_state=function(t,i){var u=r.set_state.apply(this,arguments),f;return u&&t.checkbox?(this.settings.checkbox.tie_selection||(this.uncheck_all(),f=this,n.each(t.checkbox,function(n,t){f.check_node(t)})),delete t.checkbox,this.set_state(t,i),!1):u};this.refresh=function(){return this.settings.checkbox.tie_selection||(this._data.checkbox.selected=[]),r.refresh.apply(this,arguments)}},n.jstree.defaults.conditionalselect=function(){return!0},n.jstree.plugins.conditionalselect=function(n,t){this.activate_node=function(n,i){this.settings.conditionalselect.call(this,this.get_node(n),i)&&t.activate_node.call(this,n,i)}},n.jstree.defaults.contextmenu={select_node:!0,show_at_node:!0,items:function(){return{create:{separator_before:!1,separator_after:!0,_disabled:!1,label:"Create",action:function(t){var i=n.jstree.reference(t.reference),r=i.get_node(t.reference);i.create_node(r,{},"last",function(n){setTimeout(function(){i.edit(n)},0)})}},rename:{separator_before:!1,separator_after:!1,_disabled:!1,label:"Rename",action:function(t){var i=n.jstree.reference(t.reference),r=i.get_node(t.reference);i.edit(r)}},remove:{separator_before:!1,icon:!1,separator_after:!1,_disabled:!1,label:"Delete",action:function(t){var i=n.jstree.reference(t.reference),r=i.get_node(t.reference);i.is_selected(r)?i.delete_node(i.get_selected()):i.delete_node(r)}},ccp:{separator_before:!0,icon:!1,separator_after:!1,label:"Edit",action:!1,submenu:{cut:{separator_before:!1,separator_after:!1,label:"Cut",action:function(t){var i=n.jstree.reference(t.reference),r=i.get_node(t.reference);i.is_selected(r)?i.cut(i.get_top_selected()):i.cut(r)}},copy:{separator_before:!1,icon:!1,separator_after:!1,label:"Copy",action:function(t){var i=n.jstree.reference(t.reference),r=i.get_node(t.reference);i.is_selected(r)?i.copy(i.get_top_selected()):i.copy(r)}},paste:{separator_before:!1,icon:!1,_disabled:function(t){return!n.jstree.reference(t.reference).can_paste()},separator_after:!1,label:"Paste",action:function(t){var i=n.jstree.reference(t.reference),r=i.get_node(t.reference);i.paste(r)}}}}}}},n.jstree.plugins.contextmenu=function(r,u){this.bind=function(){u.bind.call(this);var r=0,t=null,f,e;this.element.on("contextmenu.jstree",".jstree-anchor",n.proxy(function(n,i){n.preventDefault();r=n.ctrlKey?+new Date:0;(i||t)&&(r=+new Date+1e4);t&&clearTimeout(t);this.is_loading(n.currentTarget)||this.show_contextmenu(n.currentTarget,n.pageX,n.pageY,n)},this)).on("click.jstree",".jstree-anchor",n.proxy(function(){this._data.contextmenu.visible&&(!r||+new Date-r>250)&&n.vakata.context.hide();r=0},this)).on("touchstart.jstree",".jstree-anchor",function(i){i.originalEvent&&i.originalEvent.changedTouches&&i.originalEvent.changedTouches[0]&&(f=i.pageX,e=i.pageY,t=setTimeout(function(){n(i.currentTarget).trigger("contextmenu",!0)},750))}).on("touchmove.vakata.jstree",function(n){t&&n.originalEvent&&n.originalEvent.changedTouches&&n.originalEvent.changedTouches[0]&&(Math.abs(f-n.pageX)>50||Math.abs(e-n.pageY)>50)&&clearTimeout(t)}).on("touchend.vakata.jstree",function(){t&&clearTimeout(t)});n(i).on("context_hide.vakata.jstree",n.proxy(function(){this._data.contextmenu.visible=!1},this))};this.teardown=function(){this._data.contextmenu.visible&&n.vakata.context.hide();u.teardown.call(this)};this.show_contextmenu=function(i,r,u,f){if(i=this.get_node(i),!i||i.id===n.jstree.root)return!1;var s=this.settings.contextmenu,h=this.get_node(i,!0),c=h.children(".jstree-anchor"),o=!1,e=!1;(s.show_at_node||r===t||u===t)&&(o=c.offset(),r=o.left,u=o.top+this._data.core.li_height);this.settings.contextmenu.select_node&&!this.is_selected(i)&&this.activate_node(i,f);e=s.items;n.isFunction(e)&&(e=e.call(this,i,n.proxy(function(n){this._show_contextmenu(i,r,u,n)},this)));n.isPlainObject(e)&&this._show_contextmenu(i,r,u,e)};this._show_contextmenu=function(t,r,u,f){var e=this.get_node(t,!0),o=e.children(".jstree-anchor");n(i).one("context_show.vakata.jstree",n.proxy(function(t,i){var r="jstree-contextmenu jstree-"+this.get_theme()+"-contextmenu";n(i.element).addClass(r)},this));this._data.contextmenu.visible=!0;n.vakata.context.show(o,{x:r,y:u},f);this.trigger("show_contextmenu",{node:t,x:r,y:u})}},function(n){var r=!1,t={element:!1,reference:!1,position_x:0,position_y:0,items:[],html:"",is_visible:!1};n.vakata.context={settings:{hide_onmouseleave:0,icons:!0},_trigger:function(r){n(i).triggerHandler("context_"+r+".vakata",{reference:t.reference,element:t.element,position:{x:t.position_x,y:t.position_y}})},_execute:function(i){return i=t.items[i],i&&(!i._disabled||n.isFunction(i._disabled)&&!i._disabled({item:i,reference:t.reference,element:t.element}))&&i.action?i.action.call(null,{item:i,reference:t.reference,element:t.element,position:{x:t.position_x,y:t.position_y}}):!1},_parse:function(i,r){if(!i)return!1;r||(t.html="",t.items=[]);var u="",f=!1,e;return r&&(u+="<ul>"),n.each(i,function(i,r){return r?(t.items.push(r),!f&&r.separator_before&&(u+="<li class='vakata-context-separator'><a href='#' "+(n.vakata.context.settings.icons?"":'style="margin-left:0px;"')+">&#160;<\/a><\/li>"),f=!1,u+="<li class='"+(r._class||"")+(r._disabled===!0||n.isFunction(r._disabled)&&r._disabled({item:r,reference:t.reference,element:t.element})?" vakata-contextmenu-disabled ":"")+"' "+(r.shortcut?" data-shortcut='"+r.shortcut+"' ":"")+">",u+="<a href='#' rel='"+(t.items.length-1)+"'>",n.vakata.context.settings.icons&&(u+="<i ",r.icon&&(u+=-1!==r.icon.indexOf("/")||-1!==r.icon.indexOf(".")?" style='background:url(\""+r.icon+"\") center center no-repeat' ":" class='"+r.icon+"' "),u+="><\/i><span class='vakata-contextmenu-sep'>&#160;<\/span>"),u+=(n.isFunction(r.label)?r.label({item:i,reference:t.reference,element:t.element}):r.label)+(r.shortcut?' <span class="vakata-contextmenu-shortcut vakata-contextmenu-shortcut-'+r.shortcut+'">'+(r.shortcut_label||"")+"<\/span>":"")+"<\/a>",r.submenu&&(e=n.vakata.context._parse(r.submenu,!0),e&&(u+=e)),u+="<\/li>",void(r.separator_after&&(u+="<li class='vakata-context-separator'><a href='#' "+(n.vakata.context.settings.icons?"":'style="margin-left:0px;"')+">&#160;<\/a><\/li>",f=!0))):!0}),u=u.replace(/<li class\='vakata-context-separator'\><\/li\>$/,""),r&&(u+="<\/ul>"),r||(t.html=u,n.vakata.context._trigger("parse")),u.length>10?u:!1},_show_submenu:function(t){if(t=n(t),t.length&&t.children("ul").length){var i=t.children("ul"),u=t.offset().left+t.outerWidth(),e=t.offset().top,f=i.width(),o=i.height(),s=n(window).width()+n(window).scrollLeft(),h=n(window).height()+n(window).scrollTop();r?t[u-(f+10+t.outerWidth())<0?"addClass":"removeClass"]("vakata-context-left"):t[u+f+10>s?"addClass":"removeClass"]("vakata-context-right");e+o+10>h&&i.css("bottom","-1px");i.show()}},show:function(i,u,f){var h,o,e,s,c,l,a,v;switch(t.element&&t.element.length&&t.element.width(""),!0){case!u&&!i:return!1;case!!u&&!!i:t.reference=i;t.position_x=u.x;t.position_y=u.y;break;case!u&&!!i:t.reference=i;h=i.offset();t.position_x=h.left+i.outerHeight();t.position_y=h.top;break;case!!u&&!i:t.position_x=u.x;t.position_y=u.y}i&&!f&&n(i).data("vakata_contextmenu")&&(f=n(i).data("vakata_contextmenu"));n.vakata.context._parse(f)&&t.element.html(t.html);t.items.length&&(t.element.appendTo("body"),o=t.element,e=t.position_x,s=t.position_y,c=o.width(),l=o.height(),a=n(window).width()+n(window).scrollLeft(),v=n(window).height()+n(window).scrollTop(),r&&(e-=o.outerWidth()-n(i).outerWidth(),e<n(window).scrollLeft()+20&&(e=n(window).scrollLeft()+20)),e+c+20>a&&(e=a-(c+20)),s+l+20>v&&(s=v-(l+20)),t.element.css({left:e,top:s}).show().find("a").first().focus().parent().addClass("vakata-context-hover"),t.is_visible=!0,n.vakata.context._trigger("show"))},hide:function(){t.is_visible&&(t.element.hide().find("ul").hide().end().find(":focus").blur().end().detach(),t.is_visible=!1,n.vakata.context._trigger("hide"))}};n(function(){r="rtl"===n("body").css("direction");var u=!1;t.element=n("<ul class='vakata-context'><\/ul>");t.element.on("mouseenter","li",function(i){i.stopImmediatePropagation();n.contains(this,i.relatedTarget)||(u&&clearTimeout(u),t.element.find(".vakata-context-hover").removeClass("vakata-context-hover").end(),n(this).siblings().find("ul").hide().end().end().parentsUntil(".vakata-context","li").addBack().addClass("vakata-context-hover"),n.vakata.context._show_submenu(this))}).on("mouseleave","li",function(t){n.contains(this,t.relatedTarget)||n(this).find(".vakata-context-hover").addBack().removeClass("vakata-context-hover")}).on("mouseleave",function(){n(this).find(".vakata-context-hover").removeClass("vakata-context-hover");n.vakata.context.settings.hide_onmouseleave&&(u=setTimeout(function(){return function(){n.vakata.context.hide()}}(this),n.vakata.context.settings.hide_onmouseleave))}).on("click","a",function(t){t.preventDefault();n(this).blur().parent().hasClass("vakata-context-disabled")||n.vakata.context._execute(n(this).attr("rel"))===!1||n.vakata.context.hide()}).on("keydown","a",function(i){var r=null;switch(i.which){case 13:case 32:i.type="mouseup";i.preventDefault();n(i.currentTarget).trigger(i);break;case 37:t.is_visible&&(t.element.find(".vakata-context-hover").last().closest("li").first().find("ul").hide().find(".vakata-context-hover").removeClass("vakata-context-hover").end().end().children("a").focus(),i.stopImmediatePropagation(),i.preventDefault());break;case 38:t.is_visible&&(r=t.element.find("ul:visible").addBack().last().children(".vakata-context-hover").removeClass("vakata-context-hover").prevAll("li:not(.vakata-context-separator)").first(),r.length||(r=t.element.find("ul:visible").addBack().last().children("li:not(.vakata-context-separator)").last()),r.addClass("vakata-context-hover").children("a").focus(),i.stopImmediatePropagation(),i.preventDefault());break;case 39:t.is_visible&&(t.element.find(".vakata-context-hover").last().children("ul").show().children("li:not(.vakata-context-separator)").removeClass("vakata-context-hover").first().addClass("vakata-context-hover").children("a").focus(),i.stopImmediatePropagation(),i.preventDefault());break;case 40:t.is_visible&&(r=t.element.find("ul:visible").addBack().last().children(".vakata-context-hover").removeClass("vakata-context-hover").nextAll("li:not(.vakata-context-separator)").first(),r.length||(r=t.element.find("ul:visible").addBack().last().children("li:not(.vakata-context-separator)").first()),r.addClass("vakata-context-hover").children("a").focus(),i.stopImmediatePropagation(),i.preventDefault());break;case 27:n.vakata.context.hide();i.preventDefault()}}).on("keydown",function(n){n.preventDefault();var i=t.element.find(".vakata-contextmenu-shortcut-"+n.which).parent();i.parent().not(".vakata-context-disabled")&&i.click()});n(i).on("mousedown.vakata.jstree",function(i){t.is_visible&&!n.contains(t.element[0],i.target)&&n.vakata.context.hide()}).on("context_show.vakata.jstree",function(){t.element.find("li:has(ul)").children("a").addClass("vakata-context-parent");r&&t.element.addClass("vakata-context-rtl").css("direction","rtl");t.element.find("ul").hide().end()})})}(n),n.jstree.defaults.dnd={copy:!0,open_timeout:500,is_draggable:!0,check_while_dragging:!0,always_copy:!1,inside_pos:0,drag_selection:!0,touch:!0,large_drop_target:!1,large_drag_target:!1},n.jstree.plugins.dnd=function(t,i){this.bind=function(){i.bind.call(this);this.element.on("mousedown.jstree touchstart.jstree",this.settings.dnd.large_drag_target?".jstree-node":".jstree-anchor",n.proxy(function(t){if(this.settings.dnd.large_drag_target&&n(t.target).closest(".jstree-node")[0]!==t.currentTarget||"touchstart"===t.type&&(!this.settings.dnd.touch||"selected"===this.settings.dnd.touch&&!n(t.currentTarget).closest(".jstree-node").children(".jstree-anchor").hasClass("jstree-clicked")))return!0;var i=this.get_node(t.target),r=this.is_selected(i)&&this.settings.dnd.drag_selection?this.get_top_selected().length:1,u=r>1?r+" "+this.get_string("nodes"):this.get_text(t.currentTarget);return this.settings.core.force_text&&(u=n.vakata.html.escape(u)),i&&i.id&&i.id!==n.jstree.root&&(1===t.which||"touchstart"===t.type)&&(this.settings.dnd.is_draggable===!0||n.isFunction(this.settings.dnd.is_draggable)&&this.settings.dnd.is_draggable.call(this,r>1?this.get_top_selected(!0):[i],t))?(this.element.trigger("mousedown.jstree"),n.vakata.dnd.start(t,{jstree:!0,origin:this,obj:this.get_node(i,!0),nodes:r>1?this.get_top_selected():[i.id]},'<div id="jstree-dnd" class="jstree-'+this.get_theme()+" jstree-"+this.get_theme()+"-"+this.get_theme_variant()+" "+(this.settings.core.themes.responsive?" jstree-dnd-responsive":"")+'"><i class="jstree-icon jstree-er"><\/i>'+u+'<ins class="jstree-copy" style="display:none;">+<\/ins><\/div>')):void 0},this))}},n(function(){var t=!1,f=!1,r=!1,e=!1,u=n('<div id="jstree-marker">&#160;<\/div>').hide();n(i).on("dnd_start.vakata.jstree",function(n,i){t=!1;r=!1;i&&i.data&&i.data.jstree&&u.appendTo("body")}).on("dnd_move.vakata.jstree",function(i,o){if(e&&clearTimeout(e),o&&o.data&&o.data.jstree&&(!o.event.target.id||"jstree-marker"!==o.event.target.id)){r=o.event;var s=n.jstree.reference(o.event.target),h=!1,a=!1,k=!1,d,g,v,y,p,nt,l,c,tt,rt,it,ut,w,b;if(s&&s._data&&s._data.dnd)if(u.attr("class","jstree-"+s.get_theme()+(s.settings.core.themes.responsive?" jstree-dnd-responsive":"")),o.helper.children().attr("class","jstree-"+s.get_theme()+" jstree-"+s.get_theme()+"-"+s.get_theme_variant()+" "+(s.settings.core.themes.responsive?" jstree-dnd-responsive":"")).find(".jstree-copy").first()[o.data.origin&&(o.data.origin.settings.dnd.always_copy||o.data.origin.settings.dnd.copy&&(o.event.metaKey||o.event.ctrlKey))?"show":"hide"](),o.event.target!==s.element[0]&&o.event.target!==s.get_container_ul()[0]||0!==s.get_container_ul().children().length){if(h=s.settings.dnd.large_drop_target?n(o.event.target).closest(".jstree-node").children(".jstree-anchor"):n(o.event.target).closest(".jstree-anchor"),h&&h.length&&h.parent().is(".jstree-closed, .jstree-open, .jstree-leaf")&&(a=h.offset(),k=o.event.pageY-a.top,v=h.outerHeight(),nt=v/3>k?["b","i","a"]:k>v-v/3?["a","i","b"]:k>v/2?["i","a","b"]:["i","b","a"],n.each(nt,function(i,r){switch(r){case"b":d=a.left-6;g=a.top;y=s.get_parent(h);p=h.parent().index();break;case"i":w=s.settings.dnd.inside_pos;b=s.get_node(h.parent());d=a.left-2;g=a.top+v/2+1;y=b.id;p="first"===w?0:"last"===w?b.children.length:Math.min(w,b.children.length);break;case"a":d=a.left-6;g=a.top+v;y=s.get_parent(h);p=h.parent().index()+1}for(l=!0,c=0,tt=o.data.nodes.length;tt>c;c++)if(rt=o.data.origin&&(o.data.origin.settings.dnd.always_copy||o.data.origin.settings.dnd.copy&&(o.event.metaKey||o.event.ctrlKey))?"copy_node":"move_node",it=p,"move_node"===rt&&"a"===r&&o.data.origin&&o.data.origin===s&&y===s.get_parent(o.data.nodes[c])&&(ut=s.get_node(y),it>n.inArray(o.data.nodes[c],ut.children)&&(it-=1)),l=l&&(s&&s.settings&&s.settings.dnd&&s.settings.dnd.check_while_dragging===!1||s.check(rt,o.data.origin&&o.data.origin!==s?o.data.origin.get_node(o.data.nodes[c]):o.data.nodes[c],y,it,{dnd:!0,ref:s.get_node(h.parent()),pos:r,origin:o.data.origin,is_multi:o.data.origin&&o.data.origin!==s,is_foreign:!o.data.origin})),!l){s&&s.last_error&&(f=s.last_error());break}return"i"===r&&h.parent().is(".jstree-closed")&&s.settings.dnd.open_timeout&&(e=setTimeout(function(n,t){return function(){n.open_node(t)}}(s,h),s.settings.dnd.open_timeout)),l?(t={ins:s,par:y,pos:"i"!==r||"last"!==w||0!==p||s.is_loaded(b)?p:"last"},u.css({left:d+"px",top:g+"px"}).show(),o.helper.find(".jstree-icon").first().removeClass("jstree-er").addClass("jstree-ok"),f={},nt=!0,!1):void 0}),nt===!0))return}else{for(l=!0,c=0,tt=o.data.nodes.length;tt>c;c++)if(l=l&&s.check(o.data.origin&&(o.data.origin.settings.dnd.always_copy||o.data.origin.settings.dnd.copy&&(o.event.metaKey||o.event.ctrlKey))?"copy_node":"move_node",o.data.origin&&o.data.origin!==s?o.data.origin.get_node(o.data.nodes[c]):o.data.nodes[c],n.jstree.root,"last",{dnd:!0,ref:s.get_node(n.jstree.root),pos:"i",origin:o.data.origin,is_multi:o.data.origin&&o.data.origin!==s,is_foreign:!o.data.origin}),!l)break;if(l)return t={ins:s,par:n.jstree.root,pos:"last"},u.hide(),void o.helper.find(".jstree-icon").first().removeClass("jstree-er").addClass("jstree-ok")}t=!1;o.helper.find(".jstree-icon").removeClass("jstree-ok").addClass("jstree-er");u.hide()}}).on("dnd_scroll.vakata.jstree",function(n,i){i&&i.data&&i.data.jstree&&(u.hide(),t=!1,r=!1,i.helper.find(".jstree-icon").first().removeClass("jstree-ok").addClass("jstree-er"))}).on("dnd_stop.vakata.jstree",function(i,o){if(e&&clearTimeout(e),o&&o.data&&o.data.jstree){u.hide().detach();var s,h,c=[];if(t){for(s=0,h=o.data.nodes.length;h>s;s++)c[s]=o.data.origin?o.data.origin.get_node(o.data.nodes[s]):o.data.nodes[s];t.ins[o.data.origin&&(o.data.origin.settings.dnd.always_copy||o.data.origin.settings.dnd.copy&&(o.event.metaKey||o.event.ctrlKey))?"copy_node":"move_node"](c,t.par,t.pos,!1,!1,!1,o.data.origin)}else s=n(o.event.target).closest(".jstree"),s.length&&f&&f.error&&"check"===f.error&&(s=s.jstree(!0),s&&s.settings.core.error.call(this,f));r=!1;t=!1}}).on("keyup.jstree keydown.jstree",function(t,i){i=n.vakata.dnd._get();i&&i.data&&i.data.jstree&&(i.helper.find(".jstree-copy").first()[i.data.origin&&(i.data.origin.settings.dnd.always_copy||i.data.origin.settings.dnd.copy&&(t.metaKey||t.ctrlKey))?"show":"hide"](),r&&(r.metaKey=t.metaKey,r.ctrlKey=t.ctrlKey,n.vakata.dnd._trigger("move",r)))})}),function(n){n.vakata.html={div:n("<div />"),escape:function(t){return n.vakata.html.div.text(t).html()},strip:function(t){return n.vakata.html.div.empty().append(n.parseHTML(t)).text()}};var t={element:!1,target:!1,is_down:!1,is_drag:!1,helper:!1,helper_w:0,data:!1,init_x:0,init_y:0,scroll_l:0,scroll_t:0,scroll_e:!1,scroll_i:!1,is_touch:!1};n.vakata.dnd={settings:{scroll_speed:10,scroll_proximity:20,helper_left:5,helper_top:10,threshold:5,threshold_touch:50},_trigger:function(t,r){var u=n.vakata.dnd._get();u.event=r;n(i).triggerHandler("dnd_"+t+".vakata",u)},_get:function(){return{data:t.data,element:t.element,helper:t.helper}},_clean:function(){t.helper&&t.helper.remove();t.scroll_i&&(clearInterval(t.scroll_i),t.scroll_i=!1);t={element:!1,target:!1,is_down:!1,is_drag:!1,helper:!1,helper_w:0,data:!1,init_x:0,init_y:0,scroll_l:0,scroll_t:0,scroll_e:!1,scroll_i:!1,is_touch:!1};n(i).off("mousemove.vakata.jstree touchmove.vakata.jstree",n.vakata.dnd.drag);n(i).off("mouseup.vakata.jstree touchend.vakata.jstree",n.vakata.dnd.stop)},_scroll:function(i){if(!t.scroll_e||!t.scroll_l&&!t.scroll_t)return t.scroll_i&&(clearInterval(t.scroll_i),t.scroll_i=!1),!1;if(!t.scroll_i)return t.scroll_i=setInterval(n.vakata.dnd._scroll,100),!1;if(i===!0)return!1;var r=t.scroll_e.scrollTop(),u=t.scroll_e.scrollLeft();t.scroll_e.scrollTop(r+t.scroll_t*n.vakata.dnd.settings.scroll_speed);t.scroll_e.scrollLeft(u+t.scroll_l*n.vakata.dnd.settings.scroll_speed);(r!==t.scroll_e.scrollTop()||u!==t.scroll_e.scrollLeft())&&n.vakata.dnd._trigger("scroll",t.scroll_e)},start:function(r,u,f){"touchstart"===r.type&&r.originalEvent&&r.originalEvent.changedTouches&&r.originalEvent.changedTouches[0]&&(r.pageX=r.originalEvent.changedTouches[0].pageX,r.pageY=r.originalEvent.changedTouches[0].pageY,r.target=i.elementFromPoint(r.originalEvent.changedTouches[0].pageX-window.pageXOffset,r.originalEvent.changedTouches[0].pageY-window.pageYOffset));t.is_drag&&n.vakata.dnd.stop({});try{r.currentTarget.unselectable="on";r.currentTarget.onselectstart=function(){return!1};r.currentTarget.style&&(r.currentTarget.style.MozUserSelect="none")}catch(e){}return t.init_x=r.pageX,t.init_y=r.pageY,t.data=u,t.is_down=!0,t.element=r.currentTarget,t.target=r.target,t.is_touch="touchstart"===r.type,f!==!1&&(t.helper=n("<div id='vakata-dnd'><\/div>").html(f).css({display:"block",margin:"0",padding:"0",position:"absolute",top:"-2000px",lineHeight:"16px",zIndex:"10000"})),n(i).on("mousemove.vakata.jstree touchmove.vakata.jstree",n.vakata.dnd.drag),n(i).on("mouseup.vakata.jstree touchend.vakata.jstree",n.vakata.dnd.stop),!1},drag:function(r){if("touchmove"===r.type&&r.originalEvent&&r.originalEvent.changedTouches&&r.originalEvent.changedTouches[0]&&(r.pageX=r.originalEvent.changedTouches[0].pageX,r.pageY=r.originalEvent.changedTouches[0].pageY,r.target=i.elementFromPoint(r.originalEvent.changedTouches[0].pageX-window.pageXOffset,r.originalEvent.changedTouches[0].pageY-window.pageYOffset)),t.is_down){if(!t.is_drag){if(!(Math.abs(r.pageX-t.init_x)>(t.is_touch?n.vakata.dnd.settings.threshold_touch:n.vakata.dnd.settings.threshold)||Math.abs(r.pageY-t.init_y)>(t.is_touch?n.vakata.dnd.settings.threshold_touch:n.vakata.dnd.settings.threshold)))return;t.helper&&(t.helper.appendTo("body"),t.helper_w=t.helper.outerWidth());t.is_drag=!0;n.vakata.dnd._trigger("start",r)}var u=!1,l=!1,f=!1,o=!1,e=!1,s=!1,a=!1,v=!1,h=!1,c=!1;return t.scroll_t=0,t.scroll_l=0,t.scroll_e=!1,n(n(r.target).parentsUntil("body").addBack().get().reverse()).filter(function(){return/^auto|scroll$/.test(n(this).css("overflow"))&&(this.scrollHeight>this.offsetHeight||this.scrollWidth>this.offsetWidth)}).each(function(){var u=n(this),i=u.offset();return this.scrollHeight>this.offsetHeight&&(i.top+u.height()-r.pageY<n.vakata.dnd.settings.scroll_proximity&&(t.scroll_t=1),r.pageY-i.top<n.vakata.dnd.settings.scroll_proximity&&(t.scroll_t=-1)),this.scrollWidth>this.offsetWidth&&(i.left+u.width()-r.pageX<n.vakata.dnd.settings.scroll_proximity&&(t.scroll_l=1),r.pageX-i.left<n.vakata.dnd.settings.scroll_proximity&&(t.scroll_l=-1)),t.scroll_t||t.scroll_l?(t.scroll_e=n(this),!1):void 0}),t.scroll_e||(u=n(i),l=n(window),f=u.height(),o=l.height(),e=u.width(),s=l.width(),a=u.scrollTop(),v=u.scrollLeft(),f>o&&r.pageY-a<n.vakata.dnd.settings.scroll_proximity&&(t.scroll_t=-1),f>o&&o-(r.pageY-a)<n.vakata.dnd.settings.scroll_proximity&&(t.scroll_t=1),e>s&&r.pageX-v<n.vakata.dnd.settings.scroll_proximity&&(t.scroll_l=-1),e>s&&s-(r.pageX-v)<n.vakata.dnd.settings.scroll_proximity&&(t.scroll_l=1),(t.scroll_t||t.scroll_l)&&(t.scroll_e=u)),t.scroll_e&&n.vakata.dnd._scroll(!0),t.helper&&(h=parseInt(r.pageY+n.vakata.dnd.settings.helper_top,10),c=parseInt(r.pageX+n.vakata.dnd.settings.helper_left,10),f&&h+25>f&&(h=f-50),e&&c+t.helper_w>e&&(c=e-(t.helper_w+2)),t.helper.css({left:c+"px",top:h+"px"})),n.vakata.dnd._trigger("move",r),!1}},stop:function(r){if("touchend"===r.type&&r.originalEvent&&r.originalEvent.changedTouches&&r.originalEvent.changedTouches[0]&&(r.pageX=r.originalEvent.changedTouches[0].pageX,r.pageY=r.originalEvent.changedTouches[0].pageY,r.target=i.elementFromPoint(r.originalEvent.changedTouches[0].pageX-window.pageXOffset,r.originalEvent.changedTouches[0].pageY-window.pageYOffset)),t.is_drag)n.vakata.dnd._trigger("stop",r);else if("touchend"===r.type&&r.target===t.target){var u=setTimeout(function(){n(r.target).click()},100);n(r.target).one("click",function(){u&&clearTimeout(u)})}return n.vakata.dnd._clean(),!1}}}(n),n.jstree.defaults.massload=null,n.jstree.plugins.massload=function(t,i){this.init=function(n,t){i.init.call(this,n,t);this._data.massload={}};this._load_nodes=function(t,r,u){var f=this.settings.massload;return u&&!n.isEmptyObject(this._data.massload)?i._load_nodes.call(this,t,r,u):n.isFunction(f)?f.call(this,t,n.proxy(function(n){if(n)for(var f in n)n.hasOwnProperty(f)&&(this._data.massload[f]=n[f]);i._load_nodes.call(this,t,r,u)},this)):"object"==typeof f&&f&&f.url?(f=n.extend(!0,{},f),n.isFunction(f.url)&&(f.url=f.url.call(this,t)),n.isFunction(f.data)&&(f.data=f.data.call(this,t)),n.ajax(f).done(n.proxy(function(n){if(n)for(var f in n)n.hasOwnProperty(f)&&(this._data.massload[f]=n[f]);i._load_nodes.call(this,t,r,u)},this)).fail(n.proxy(function(){i._load_nodes.call(this,t,r,u)},this))):i._load_nodes.call(this,t,r,u)};this._load_node=function(t,r){var u=this._data.massload[t.id];return u?this["string"==typeof u?"_append_html_data":"_append_json_data"](t,"string"==typeof u?n(n.parseHTML(u)).filter(function(){return 3!==this.nodeType}):u,function(n){r.call(this,n);delete this._data.massload[t.id]}):i._load_node.call(this,t,r)}},n.jstree.defaults.search={ajax:!1,fuzzy:!1,case_sensitive:!1,show_only_matches:!1,show_only_matches_children:!1,close_opened_onclear:!0,search_leaves_only:!1,search_callback:!1},n.jstree.plugins.search=function(i,r){this.bind=function(){r.bind.call(this);this._data.search.str="";this._data.search.dom=n();this._data.search.res=[];this._data.search.opn=[];this._data.search.som=!1;this._data.search.smc=!1;this._data.search.hdn=[];this.element.on("search.jstree",n.proxy(function(t,i){if(this._data.search.som&&i.res.length){for(var f=this._model.data,u=[],r=0,e=i.res.length;e>r;r++)f[i.res[r]]&&!f[i.res[r]].state.hidden&&(u.push(i.res[r]),u=u.concat(f[i.res[r]].parents),this._data.search.smc&&(u=u.concat(f[i.res[r]].children_d)));u=n.vakata.array_remove_item(n.vakata.array_unique(u),n.jstree.root);this._data.search.hdn=this.hide_all(!0);this.show_node(u)}},this)).on("clear_search.jstree",n.proxy(function(n,t){this._data.search.som&&t.res.length&&this.show_node(this._data.search.hdn)},this))};this.search=function(i,r,u,f,e,o){if(i===!1||""===n.trim(i.toString()))return this.clear_search();f=this.get_node(f);f=f&&f.id?f.id:null;i=i.toString();var h=this.settings.search,s=h.ajax?h.ajax:!1,v=this._model.data,y=null,a=[],c=[],l,p;if(this._data.search.res.length&&!e&&this.clear_search(),u===t&&(u=h.show_only_matches),o===t&&(o=h.show_only_matches_children),!r&&s!==!1)return n.isFunction(s)?s.call(this,i,n.proxy(function(t){t&&t.d&&(t=t.d);this._load_nodes(n.isArray(t)?n.vakata.array_unique(t):[],function(){this.search(i,!0,u,f,e)},!0)},this),f):(s=n.extend({},s),s.data||(s.data={}),s.data.str=i,f&&(s.data.inside=f),n.ajax(s).fail(n.proxy(function(){this._data.core.last_error={error:"ajax",plugin:"search",id:"search_01",reason:"Could not load search parents",data:JSON.stringify(s)};this.settings.core.error.call(this,this._data.core.last_error)},this)).done(n.proxy(function(t){t&&t.d&&(t=t.d);this._load_nodes(n.isArray(t)?n.vakata.array_unique(t):[],function(){this.search(i,!0,u,f,e)},!0)},this)));if(e||(this._data.search.str=i,this._data.search.dom=n(),this._data.search.res=[],this._data.search.opn=[],this._data.search.som=u,this._data.search.smc=o),y=new n.vakata.search(i,!0,{caseSensitive:h.case_sensitive,fuzzy:h.fuzzy}),n.each(v[f?f:n.jstree.root].children_d,function(n,t){var r=v[t];r.text&&(!h.search_leaves_only||r.state.loaded&&0===r.children.length)&&(h.search_callback&&h.search_callback.call(this,i,r)||!h.search_callback&&y.search(r.text).isMatch)&&(a.push(t),c=c.concat(r.parents))}),a.length){for(c=n.vakata.array_unique(c),l=0,p=c.length;p>l;l++)c[l]!==n.jstree.root&&v[c[l]]&&this.open_node(c[l],null,0)===!0&&this._data.search.opn.push(c[l]);e?(this._data.search.dom=this._data.search.dom.add(n(this.element[0].querySelectorAll("#"+n.map(a,function(t){return-1!=="0123456789".indexOf(t[0])?"\\3"+t[0]+" "+t.substr(1).replace(n.jstree.idregex,"\\$&"):t.replace(n.jstree.idregex,"\\$&")}).join(", #")))),this._data.search.res=n.vakata.array_unique(this._data.search.res.concat(a))):(this._data.search.dom=n(this.element[0].querySelectorAll("#"+n.map(a,function(t){return-1!=="0123456789".indexOf(t[0])?"\\3"+t[0]+" "+t.substr(1).replace(n.jstree.idregex,"\\$&"):t.replace(n.jstree.idregex,"\\$&")}).join(", #"))),this._data.search.res=a);this._data.search.dom.children(".jstree-anchor").addClass("jstree-search")}this.trigger("search",{nodes:this._data.search.dom,str:i,res:this._data.search.res,show_only_matches:u})};this.clear_search=function(){this.settings.search.close_opened_onclear&&this.close_node(this._data.search.opn,0);this.trigger("clear_search",{nodes:this._data.search.dom,str:this._data.search.str,res:this._data.search.res});this._data.search.res.length&&(this._data.search.dom=n(this.element[0].querySelectorAll("#"+n.map(this._data.search.res,function(t){return-1!=="0123456789".indexOf(t[0])?"\\3"+t[0]+" "+t.substr(1).replace(n.jstree.idregex,"\\$&"):t.replace(n.jstree.idregex,"\\$&")}).join(", #"))),this._data.search.dom.children(".jstree-anchor").removeClass("jstree-search"));this._data.search.str="";this._data.search.res=[];this._data.search.opn=[];this._data.search.dom=n()};this.redraw_node=function(t){if(t=r.redraw_node.apply(this,arguments),t&&-1!==n.inArray(t.id,this._data.search.res)){for(var u=null,i=0,f=t.childNodes.length;f>i;i++)if(t.childNodes[i]&&t.childNodes[i].className&&-1!==t.childNodes[i].className.indexOf("jstree-anchor")){u=t.childNodes[i];break}u&&(u.className+=" jstree-search")}return t}},function(n){n.vakata.search=function(t,i,r){r=r||{};r=n.extend({},n.vakata.search.defaults,r);r.fuzzy!==!1&&(r.fuzzy=!0);t=r.caseSensitive?t:t.toLowerCase();var f=r.location,s=r.distance,l=r.threshold,u=t.length,h,c,e,o;return u>32&&(r.fuzzy=!1),r.fuzzy&&(h=1<<u-1,c=function(){for(var i={},n=0,n=0;u>n;n++)i[t.charAt(n)]=0;for(n=0;u>n;n++)i[t.charAt(n)]|=1<<u-n-1;return i}(),e=function(n,t){var i=n/u,r=Math.abs(f-t);return s?i+r/s:r?1:i}),o=function(n){if(n=r.caseSensitive?n:n.toLowerCase(),t===n||-1!==n.indexOf(t))return{isMatch:!0,score:0};if(!r.fuzzy)return{isMatch:!1,score:1};var a,i,tt=n.length,v=l,o=n.indexOf(t,f),p,s,w=u+tt,b,g,k,y,nt,d=1,it=[];for(-1!==o&&(v=Math.min(e(0,o),v),o=n.lastIndexOf(t,f+u),-1!==o&&(v=Math.min(e(0,o),v))),o=-1,a=0;u>a;a++){for(p=0,s=w;s>p;)e(a,f+s)<=v?p=s:w=s,s=Math.floor((w-p)/2+p);for(w=s,g=Math.max(1,f-s+1),k=Math.min(f+s,tt)+u,y=new Array(k+2),y[k+1]=(1<<a)-1,i=k;i>=g;i--)if(nt=c[n.charAt(i-1)],y[i]=0===a?(y[i+1]<<1|1)&nt:(y[i+1]<<1|1)&nt|(b[i+1]|b[i])<<1|1|b[i+1],y[i]&h&&(d=e(a,i-1),v>=d)){if(v=d,o=i-1,it.push(o),!(o>f))break;g=Math.max(1,2*f-o)}if(e(a+1,f)>v)break;b=y}return{isMatch:o>=0,score:d}},i===!0?{search:o}:o(i)};n.vakata.search.defaults={location:0,distance:100,threshold:.6,fuzzy:!1,caseSensitive:!1}}(n),n.jstree.defaults.sort=function(n,t){return this.get_text(n)>this.get_text(t)?1:-1},n.jstree.plugins.sort=function(t,i){this.bind=function(){i.bind.call(this);this.element.on("model.jstree",n.proxy(function(n,t){this.sort(t.parent,!0)},this)).on("rename_node.jstree create_node.jstree",n.proxy(function(n,t){this.sort(t.parent||t.node.parent,!1);this.redraw_node(t.parent||t.node.parent,!0)},this)).on("move_node.jstree copy_node.jstree",n.proxy(function(n,t){this.sort(t.parent,!1);this.redraw_node(t.parent,!0)},this))};this.sort=function(t,i){var r,u;if(t=this.get_node(t),t&&t.children&&t.children.length&&(t.children.sort(n.proxy(this.settings.sort,this)),i))for(r=0,u=t.children_d.length;u>r;r++)this.sort(t.children_d[r],!1)}},l=!1,n.jstree.defaults.state={key:"jstree",events:"changed.jstree open_node.jstree close_node.jstree check_node.jstree uncheck_node.jstree",ttl:!1,filter:!1},n.jstree.plugins.state=function(t,i){this.bind=function(){i.bind.call(this);var t=n.proxy(function(){this.element.on(this.settings.state.events,n.proxy(function(){l&&clearTimeout(l);l=setTimeout(n.proxy(function(){this.save_state()},this),100)},this));this.trigger("state_ready")},this);this.element.on("ready.jstree",n.proxy(function(){this.element.one("restore_state.jstree",t);this.restore_state()||t()},this))};this.save_state=function(){var t={state:this.get_state(),ttl:this.settings.state.ttl,sec:+new Date};n.vakata.storage.set(this.settings.state.key,JSON.stringify(t))};this.restore_state=function(){var t=n.vakata.storage.get(this.settings.state.key);if(t)try{t=JSON.parse(t)}catch(i){return!1}return t&&t.ttl&&t.sec&&+new Date-t.sec>t.ttl?!1:(t&&t.state&&(t=t.state),t&&n.isFunction(this.settings.state.filter)&&(t=this.settings.state.filter.call(this,t)),t?(this.element.one("set_state.jstree",function(i,r){r.instance.trigger("restore_state",{state:n.extend(!0,{},t)})}),this.set_state(t),!0):!1)};this.clear_state=function(){return n.vakata.storage.del(this.settings.state.key)}},function(n){n.vakata.storage={set:function(n,t){return window.localStorage.setItem(n,t)},get:function(n){return window.localStorage.getItem(n)},del:function(n){return window.localStorage.removeItem(n)}}}(n),n.jstree.defaults.types={"default":{}},n.jstree.defaults.types[n.jstree.root]={},n.jstree.plugins.types=function(i,r){this.init=function(i,u){var f,e;if(u&&u.types&&u.types["default"])for(f in u.types)if("default"!==f&&f!==n.jstree.root&&u.types.hasOwnProperty(f))for(e in u.types["default"])u.types["default"].hasOwnProperty(e)&&u.types[f][e]===t&&(u.types[f][e]=u.types["default"][e]);r.init.call(this,i,u);this._model.data[n.jstree.root].type=n.jstree.root};this.refresh=function(t,i){r.refresh.call(this,t,i);this._model.data[n.jstree.root].type=n.jstree.root};this.bind=function(){this.element.on("model.jstree",n.proxy(function(i,r){for(var f=this._model.data,e=r.nodes,s=this.settings.types,o="default",u=0,h=e.length;h>u;u++)o="default",f[e[u]].original&&f[e[u]].original.type&&s[f[e[u]].original.type]&&(o=f[e[u]].original.type),f[e[u]].data&&f[e[u]].data.jstree&&f[e[u]].data.jstree.type&&s[f[e[u]].data.jstree.type]&&(o=f[e[u]].data.jstree.type),f[e[u]].type=o,f[e[u]].icon===!0&&s[o].icon!==t&&(f[e[u]].icon=s[o].icon);f[n.jstree.root].type=n.jstree.root},this));r.bind.call(this)};this.get_json=function(t,i,u){var e,s,o=this._model.data,h=i?n.extend(!0,{},i,{no_id:!1}):{},f=r.get_json.call(this,t,h,u);if(f===!1)return!1;if(n.isArray(f))for(e=0,s=f.length;s>e;e++)f[e].type=f[e].id&&o[f[e].id]&&o[f[e].id].type?o[f[e].id].type:"default",i&&i.no_id&&(delete f[e].id,f[e].li_attr&&f[e].li_attr.id&&delete f[e].li_attr.id,f[e].a_attr&&f[e].a_attr.id&&delete f[e].a_attr.id);else f.type=f.id&&o[f.id]&&o[f.id].type?o[f.id].type:"default",i&&i.no_id&&(f=this._delete_ids(f));return f};this._delete_ids=function(t){if(n.isArray(t)){for(var i=0,r=t.length;r>i;i++)t[i]=this._delete_ids(t[i]);return t}return delete t.id,t.li_attr&&t.li_attr.id&&delete t.li_attr.id,t.a_attr&&t.a_attr.id&&delete t.a_attr.id,t.children&&n.isArray(t.children)&&(t.children=this._delete_ids(t.children)),t};this.check=function(i,u,f,e,o){if(r.check.call(this,i,u,f,e,o)===!1)return!1;u=u&&u.id?u:this.get_node(u);f=f&&f.id?f:this.get_node(f);var c=u&&u.id?o&&o.origin?o.origin:n.jstree.reference(u.id):null,s,h,l,a;switch(c=c&&c._model&&c._model.data?c._model.data:null,i){case"create_node":case"move_node":case"copy_node":if("move_node"!==i||-1===n.inArray(u.id,f.children)){if(s=this.get_rules(f),s.max_children!==t&&-1!==s.max_children&&s.max_children===f.children.length)return this._data.core.last_error={error:"check",plugin:"types",id:"types_01",reason:"max_children prevents function: "+i,data:JSON.stringify({chk:i,pos:e,obj:u&&u.id?u.id:!1,par:f&&f.id?f.id:!1})},!1;if(s.valid_children!==t&&-1!==s.valid_children&&-1===n.inArray(u.type||"default",s.valid_children))return this._data.core.last_error={error:"check",plugin:"types",id:"types_02",reason:"valid_children prevents function: "+i,data:JSON.stringify({chk:i,pos:e,obj:u&&u.id?u.id:!1,par:f&&f.id?f.id:!1})},!1;if(c&&u.children_d&&u.parents){for(h=0,l=0,a=u.children_d.length;a>l;l++)h=Math.max(h,c[u.children_d[l]].parents.length);h=h-u.parents.length+1}(0>=h||h===t)&&(h=1);do{if(s.max_depth!==t&&-1!==s.max_depth&&s.max_depth<h)return this._data.core.last_error={error:"check",plugin:"types",id:"types_03",reason:"max_depth prevents function: "+i,data:JSON.stringify({chk:i,pos:e,obj:u&&u.id?u.id:!1,par:f&&f.id?f.id:!1})},!1;f=this.get_node(f.parent);s=this.get_rules(f);h++}while(f)}}return!0};this.get_rules=function(n){if(n=this.get_node(n),!n)return!1;var i=this.get_type(n,!0);return i.max_depth===t&&(i.max_depth=-1),i.max_children===t&&(i.max_children=-1),i.valid_children===t&&(i.valid_children=-1),i};this.get_type=function(t,i){return t=this.get_node(t),t?i?n.extend({type:t.type},this.settings.types[t.type]):t.type:!1};this.set_type=function(i,r){var u,f,s,e,o;if(n.isArray(i)){for(i=i.slice(),f=0,s=i.length;s>f;f++)this.set_type(i[f],r);return!0}return u=this.settings.types,i=this.get_node(i),u[r]&&i?(e=i.type,o=this.get_icon(i),i.type=r,(o===!0||u[e]&&u[e].icon!==t&&o===u[e].icon)&&this.set_icon(i,u[r].icon!==t?u[r].icon:!0),!0):!1}},n.jstree.defaults.unique={case_sensitive:!1,duplicate:function(n,t){return n+" ("+t+")"}},n.jstree.plugins.unique=function(i,r){this.check=function(t,i,u,f,e){if(r.check.call(this,t,i,u,f,e)===!1)return!1;if(i=i&&i.id?i:this.get_node(i),u=u&&u.id?u:this.get_node(u),!u||!u.children)return!0;for(var s="rename_node"===t?f:i.text,h=[],c=this.settings.unique.case_sensitive,l=this._model.data,o=0,a=u.children.length;a>o;o++)h.push(c?l[u.children[o]].text:l[u.children[o]].text.toLowerCase());switch(c||(s=s.toLowerCase()),t){case"delete_node":return!0;case"rename_node":return o=-1===n.inArray(s,h)||i.text&&i.text[c?"toString":"toLowerCase"]()===s,o||(this._data.core.last_error={error:"check",plugin:"unique",id:"unique_01",reason:"Child with name "+s+" already exists. Preventing: "+t,data:JSON.stringify({chk:t,pos:f,obj:i&&i.id?i.id:!1,par:u&&u.id?u.id:!1})}),o;case"create_node":return o=-1===n.inArray(s,h),o||(this._data.core.last_error={error:"check",plugin:"unique",id:"unique_04",reason:"Child with name "+s+" already exists. Preventing: "+t,data:JSON.stringify({chk:t,pos:f,obj:i&&i.id?i.id:!1,par:u&&u.id?u.id:!1})}),o;case"copy_node":return o=-1===n.inArray(s,h),o||(this._data.core.last_error={error:"check",plugin:"unique",id:"unique_02",reason:"Child with name "+s+" already exists. Preventing: "+t,data:JSON.stringify({chk:t,pos:f,obj:i&&i.id?i.id:!1,par:u&&u.id?u.id:!1})}),o;case"move_node":return o=i.parent===u.id&&(!e||!e.is_multi)||-1===n.inArray(s,h),o||(this._data.core.last_error={error:"check",plugin:"unique",id:"unique_03",reason:"Child with name "+s+" already exists. Preventing: "+t,data:JSON.stringify({chk:t,pos:f,obj:i&&i.id?i.id:!1,par:u&&u.id?u.id:!1})}),o}return!0};this.create_node=function(i,u,f,e,o){if(!u||u.text===t){if((null===i&&(i=n.jstree.root),i=this.get_node(i),!i)||(f=f===t?"last":f,!f.toString().match(/^(before|after)$/)&&!o&&!this.is_loaded(i)))return r.create_node.call(this,i,u,f,e,o);u||(u={});var l,h,c,s,a,v=this._model.data,y=this.settings.unique.case_sensitive,p=this.settings.unique.duplicate;for(h=l=this.get_string("New node"),c=[],s=0,a=i.children.length;a>s;s++)c.push(y?v[i.children[s]].text:v[i.children[s]].text.toLowerCase());for(s=1;-1!==n.inArray(y?h:h.toLowerCase(),c);)h=p.call(this,l,++s).toString();u.text=h}return r.create_node.call(this,i,u,f,e,o)}},o=i.createElement("DIV"),o.setAttribute("unselectable","on"),o.setAttribute("role","presentation"),o.className="jstree-wholerow",o.innerHTML="&#160;",n.jstree.plugins.wholerow=function(t,i){this.bind=function(){i.bind.call(this);this.element.on("ready.jstree set_state.jstree",n.proxy(function(){this.hide_dots()},this)).on("init.jstree loading.jstree ready.jstree",n.proxy(function(){this.get_container_ul().addClass("jstree-wholerow-ul")},this)).on("deselect_all.jstree",n.proxy(function(){this.element.find(".jstree-wholerow-clicked").removeClass("jstree-wholerow-clicked")},this)).on("changed.jstree",n.proxy(function(n,t){this.element.find(".jstree-wholerow-clicked").removeClass("jstree-wholerow-clicked");for(var i=!1,r=0,u=t.selected.length;u>r;r++)i=this.get_node(t.selected[r],!0),i&&i.length&&i.children(".jstree-wholerow").addClass("jstree-wholerow-clicked")},this)).on("open_node.jstree",n.proxy(function(n,t){this.get_node(t.node,!0).find(".jstree-clicked").parent().children(".jstree-wholerow").addClass("jstree-wholerow-clicked")},this)).on("hover_node.jstree dehover_node.jstree",n.proxy(function(n,t){"hover_node"===n.type&&this.is_disabled(t.node)||this.get_node(t.node,!0).children(".jstree-wholerow")["hover_node"===n.type?"addClass":"removeClass"]("jstree-wholerow-hovered")},this)).on("contextmenu.jstree",".jstree-wholerow",n.proxy(function(t){t.preventDefault();var i=n.Event("contextmenu",{metaKey:t.metaKey,ctrlKey:t.ctrlKey,altKey:t.altKey,shiftKey:t.shiftKey,pageX:t.pageX,pageY:t.pageY});n(t.currentTarget).closest(".jstree-node").children(".jstree-anchor").first().trigger(i)},this)).on("click.jstree",".jstree-wholerow",function(t){t.stopImmediatePropagation();var i=n.Event("click",{metaKey:t.metaKey,ctrlKey:t.ctrlKey,altKey:t.altKey,shiftKey:t.shiftKey});n(t.currentTarget).closest(".jstree-node").children(".jstree-anchor").first().trigger(i).focus()}).on("click.jstree",".jstree-leaf > .jstree-ocl",n.proxy(function(t){t.stopImmediatePropagation();var i=n.Event("click",{metaKey:t.metaKey,ctrlKey:t.ctrlKey,altKey:t.altKey,shiftKey:t.shiftKey});n(t.currentTarget).closest(".jstree-node").children(".jstree-anchor").first().trigger(i).focus()},this)).on("mouseover.jstree",".jstree-wholerow, .jstree-icon",n.proxy(function(n){return n.stopImmediatePropagation(),this.is_disabled(n.currentTarget)||this.hover_node(n.currentTarget),!1},this)).on("mouseleave.jstree",".jstree-node",n.proxy(function(n){this.dehover_node(n.currentTarget)},this))};this.teardown=function(){this.settings.wholerow&&this.element.find(".jstree-wholerow").remove();i.teardown.call(this)};this.redraw_node=function(t){if(t=i.redraw_node.apply(this,arguments)){var r=o.cloneNode(!0);-1!==n.inArray(t.id,this._data.core.selected)&&(r.className+=" jstree-wholerow-clicked");this._data.core.focused&&this._data.core.focused===t.id&&(r.className+=" jstree-wholerow-hovered");t.insertBefore(r,t.childNodes[0])}return t}},i.registerElement&&Object&&Object.create){v=Object.create(HTMLElement.prototype);v.createdCallback=function(){var i={core:{},plugins:[]},t;for(t in n.jstree.plugins)n.jstree.plugins.hasOwnProperty(t)&&this.attributes[t]&&(i.plugins.push(t),this.getAttribute(t)&&JSON.parse(this.getAttribute(t))&&(i[t]=JSON.parse(this.getAttribute(t))));for(t in n.jstree.defaults.core)n.jstree.defaults.core.hasOwnProperty(t)&&this.attributes[t]&&(i.core[t]=JSON.parse(this.getAttribute(t))||this.getAttribute(t));n(this).jstree(i)};try{i.registerElement("vakata-jstree",{prototype:v})}catch(w){}}}})